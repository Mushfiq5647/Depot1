  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
Started GET "/" for 127.0.0.1 at 2020-12-23 12:45:50 +0600
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/nascenia/.rvm/gems/ruby-2.7.2/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/nascenia/.rvm/gems/ruby-2.7.2/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 25.6ms | Allocations: 400)
Completed 200 OK in 72ms (Views: 51.0ms | ActiveRecord: 0.0ms | Allocations: 2306)


  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (531.5ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (364.4ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (20.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (364.6ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (24.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (46.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-12-23 06:58:54.958585', '2020-12-23 06:58:54.958585')[0m
  [1m[35m (54.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-23 13:20:02 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/nascenia/.rvm/gems/ruby-2.7.2/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/nascenia/.rvm/gems/ruby-2.7.2/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 8.0ms | Allocations: 181)
Completed 200 OK in 14ms (Views: 9.0ms | ActiveRecord: 0.0ms | Allocations: 2167)


Started GET "/" for 127.0.0.1 at 2020-12-23 13:20:03 +0600
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/nascenia/.rvm/gems/ruby-2.7.2/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/nascenia/.rvm/gems/ruby-2.7.2/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.5ms | Allocations: 8)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms | Allocations: 304)


Started GET "/products" for 127.0.0.1 at 2020-12-23 13:20:56 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1574)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/nascenia/myrails/depot/public/packs
[Webpacker] Hash: 76145d9ce4575ebaa29b
Version: webpack 4.44.2
Time: 2908ms
Built at: 12/23/2020 1:21:01 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-c229f7c7014cf8c8d494.js    124 KiB  application  [emitted] [immutable]  application
js/application-c229f7c7014cf8c8d494.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-c229f7c7014cf8c8d494.js js/application-c229f7c7014cf8c8d494.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

Completed 200 OK in 4878ms (Views: 4873.0ms | ActiveRecord: 1.1ms | Allocations: 22414)


Started GET "/products/new" for 127.0.0.1 at 2020-12-23 13:24:20 +0600
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 212.6ms | Allocations: 6678)
  Rendered products/new.html.erb within layouts/application (Duration: 214.2ms | Allocations: 7013)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 236ms (Views: 222.1ms | ActiveRecord: 1.2ms | Allocations: 13964)


Started GET "/products/new" for 127.0.0.1 at 2020-12-23 13:25:03 +0600
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.6ms | Allocations: 1062)
  Rendered products/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1144)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.3ms | ActiveRecord: 0.0ms | Allocations: 4501)


Started GET "/products/new" for 127.0.0.1 at 2020-12-23 13:25:05 +0600
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 4.1ms | Allocations: 1062)
  Rendered products/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1144)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.0ms | Allocations: 4505)


Started GET "/products/new" for 127.0.0.1 at 2020-12-23 13:25:10 +0600
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 4.5ms | Allocations: 1062)
  Rendered products/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1144)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.1ms | ActiveRecord: 0.0ms | Allocations: 4502)


Started GET "/products" for 127.0.0.1 at 2020-12-23 13:25:15 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 691)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.5ms | Allocations: 4049)


Started GET "/products/new" for 127.0.0.1 at 2020-12-23 13:25:50 +0600
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 3.2ms | Allocations: 1062)
  Rendered products/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1144)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 0.0ms | Allocations: 4495)


Started GET "/products" for 127.0.0.1 at 2020-12-23 13:29:34 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 688)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.5ms | Allocations: 3954)


Started GET "/products/new" for 127.0.0.1 at 2020-12-23 14:21:25 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 3.2ms | Allocations: 1447)
  Rendered products/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1775)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.0ms | ActiveRecord: 0.0ms | Allocations: 6044)


Started POST "/products" for 127.0.0.1 at 2020-12-23 14:27:22 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"EPdZKX2SrhH9ac9YOv2oF01NNECwbqoyPqwcftjIJnRCWGCcnCd3bMuXsBbVj5es1D26pBY+M+VR2rTDz3pB1w==", "product"=>{"title"=>"Seven Mobile Apps", "description"=>"Perhaps it isn‚Äôt the prettiest interface, but it works, and we can show it to\r\nour client for approval. She can play with the other links (showing details,\r\nediting existing products, and so on). We explain to her that this is only a\r\nfirst step‚Äîwe know it‚Äôs rough, but we wanted to get her feedback early. (And\r\nfour commands probably count as early in anyone‚Äôs book.)", "image_url"=>"/images/apps.jpg", "price"=>"26.00"}, "commit"=>"Create Product"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/products_controller.rb:30:in `block in create'
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps', 'Perhaps it isn‚Äôt the prettiest interface, but it works, and we can show it to\r\nour client for approval. She can play with the other links (showing details,\r\nediting existing products, and so on). We explain to her that this is only a\r\nfirst step‚Äîwe know it‚Äôs rough, but we wanted to get her feedback early. (And\r\nfour commands probably count as early in anyone‚Äôs book.)', '/images/apps.jpg', 26, '2020-12-23 08:27:22.382180', '2020-12-23 08:27:22.382180')[0m
  ‚Ü≥ app/controllers/products_controller.rb:30:in `block in create'
  [1m[35m (54.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/products_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/products/1
Completed 302 Found in 64ms (ActiveRecord: 55.8ms | Allocations: 3064)


Started GET "/products/1" for 127.0.0.1 at 2020-12-23 14:27:22 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 1.4ms | Allocations: 300)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 9.8ms | ActiveRecord: 0.7ms | Allocations: 4805)


Started GET "/products" for 127.0.0.1 at 2020-12-23 14:27:32 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1097)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 12.7ms | ActiveRecord: 0.6ms | Allocations: 4582)


Started GET "/products/1" for 127.0.0.1 at 2020-12-23 14:27:50 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 89)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 9.0ms | ActiveRecord: 0.6ms | Allocations: 4019)


Started GET "/products" for 127.0.0.1 at 2020-12-23 14:27:52 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 823)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 16.2ms | ActiveRecord: 0.7ms | Allocations: 4192)


Started GET "/products/1/edit" for 127.0.0.1 at 2020-12-23 14:27:59 +0600
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 4.0ms | Allocations: 1165)
  Rendered products/edit.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1403)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 13.2ms | ActiveRecord: 0.4ms | Allocations: 5470)


Started GET "/products" for 127.0.0.1 at 2020-12-23 14:28:04 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 826)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 15.9ms | ActiveRecord: 0.6ms | Allocations: 4206)


Started GET "/products" for 127.0.0.1 at 2020-12-23 14:30:11 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1104)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.8ms | ActiveRecord: 0.4ms | Allocations: 5374)


Started GET "/products" for 127.0.0.1 at 2020-12-23 15:18:33 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1094)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 14.8ms | ActiveRecord: 0.6ms | Allocations: 5383)


Started GET "/products" for 127.0.0.1 at 2020-12-23 15:18:36 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 832)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 0.5ms | Allocations: 4210)


Started GET "/products" for 127.0.0.1 at 2020-12-23 15:19:29 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 823)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.4ms | Allocations: 4195)


Started GET "/products" for 127.0.0.1 at 2020-12-23 15:19:29 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 823)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 16.4ms | ActiveRecord: 0.6ms | Allocations: 4234)


Started GET "/products" for 127.0.0.1 at 2020-12-23 15:19:30 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 823)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.7ms | Allocations: 4219)


Started GET "/products" for 127.0.0.1 at 2020-12-23 15:19:30 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 823)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.6ms | Allocations: 4194)


Started GET "/products" for 127.0.0.1 at 2020-12-23 15:19:30 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 823)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.5ms | Allocations: 4216)


Started GET "/say/hello" for 127.0.0.1 at 2020-12-23 15:19:34 +0600
  
ActionController::RoutingError (No route matches [GET] "/say/hello"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mProduct Destroy (96.6ms)[0m  [1m[31mDELETE FROM `products`[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps in Seven Weeks', '<p>\n<em>Native Apps, Multiple Platforms</em>\nAnswer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\nresounding YES. This book will help you get there with a real-world\nintroduction to seven platforms, whether you‚Äôre new to mobile or an\nexperienced developer needing to expand your options. Plus, you‚Äôll find\nout which cross-platform solution makes the most sense for your needs.\n</p>', '7apps.jpg', 26, '2020-12-23 09:24:28.860319', '2020-12-23 09:24:28.860319')[0m
  [1m[35m (55.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/products" for 127.0.0.1 at 2020-12-23 15:24:36 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 23.6ms | Allocations: 5428)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 118ms (Views: 103.3ms | ActiveRecord: 2.2ms | Allocations: 19168)


Started GET "/products" for 127.0.0.1 at 2020-12-23 17:21:54 +0600
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:4
  Rendered products/index.html.erb within layouts/application (Duration: 25.4ms | Allocations: 1934)
Completed 500 Internal Server Error in 101ms (ActiveRecord: 1.1ms | Allocations: 20435)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
    4: <title>Depot</title>
    5: <%= csrf_meta_tags %>
    6: <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    7: <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    8: </head>
    9: ‚û§ <body class='<%= controller.controller_name %>'>
   10: <%= yield %>
  
app/views/layouts/application.html.erb:7
Started GET "/products" for 127.0.0.1 at 2020-12-23 17:22:26 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:4
  Rendered products/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 1923)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.7ms | Allocations: 10658)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
    4: <title>Depot</title>
    5: <%= csrf_meta_tags %>
    6: <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    7: <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    8: </head>
    9: ‚û§ <body class='<%= controller.controller_name %>'>
   10: <%= yield %>
  
app/views/layouts/application.html.erb:7
Started GET "/products" for 127.0.0.1 at 2020-12-23 17:27:50 +0600
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:4
  Rendered products/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 1873)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.6ms | Allocations: 10540)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
    4: <title>Depot</title>
    5: <%= csrf_meta_tags %>
    6: <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    7: <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    8: </head>
    9: ‚û§ <body class='<%= controller.controller_name %>'>
   10: <%= yield %>
  
app/views/layouts/application.html.erb:7
Started GET "/products" for 127.0.0.1 at 2020-12-23 17:34:22 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:4
  Rendered products/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 1873)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.6ms | Allocations: 10541)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
    4: <title>Depot</title>
    5: <%= csrf_meta_tags %>
    6: <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    7: <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    8: </head>
    9: <body class='<%= controller.controller_name %>'>
   10: <%= yield %>
  
app/views/layouts/application.html.erb:7
Started GET "/products" for 127.0.0.1 at 2020-12-23 17:44:28 +0600
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:4
  Rendered products/index.html.erb within layouts/application (Duration: 30.1ms | Allocations: 5661)
Completed 500 Internal Server Error in 50ms (ActiveRecord: 0.8ms | Allocations: 14669)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
    4: <title>Depot</title>
    5: <%= csrf_meta_tags %>
    6: <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    7: <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    8: </head>
    9: <body class='<%= controller.controller_name %>'>
   10: <%= yield %>
  
app/views/layouts/application.html.erb:7
Started GET "/products" for 127.0.0.1 at 2020-12-23 17:47:07 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:4
  Rendered products/index.html.erb within layouts/application (Duration: 53.4ms | Allocations: 5488)
Completed 500 Internal Server Error in 72ms (ActiveRecord: 3.4ms | Allocations: 14522)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
     6: 
     7:     <%= stylesheet_link_tag    'application', media: 'all',
     8:     'data-turbolinks-track': 'reload' %>
     9:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    10:   </head>
    11: 
    12:   <body class='<%= controller.controller_name %>'>
  
app/views/layouts/application.html.erb:9
Started GET "/products" for 127.0.0.1 at 2020-12-23 17:48:28 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 1885)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.6ms | Allocations: 10556)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
     6: 
     7:     <%= stylesheet_link_tag    'application', media: 'all',
     8:     'data-turbolinks-track': 'reload' %>
     9:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    10:   </head>
    11: 
    12:   <body class='<%= controller.controller_name %>'>
  
app/views/layouts/application.html.erb:9
Started GET "/products" for 127.0.0.1 at 2020-12-23 17:49:59 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 1615)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.5ms | Allocations: 9425)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
     6: 
     7:     <%= stylesheet_link_tag    'application', media: 'all',
     8:     'data-turbolinks-track': 'reload' %>
     9:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    10:   </head>
    11: 
    12:   <body class='<%= controller.controller_name %>'>
  
app/views/layouts/application.html.erb:9
Started GET "/products" for 127.0.0.1 at 2020-12-23 17:50:01 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 1596)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.5ms | Allocations: 9355)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
     6: 
     7:     <%= stylesheet_link_tag    'application', media: 'all',
     8:     'data-turbolinks-track': 'reload' %>
     9:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    10:   </head>
    11: 
    12:   <body class='<%= controller.controller_name %>'>
  
app/views/layouts/application.html.erb:9
Started GET "/products" for 127.0.0.1 at 2020-12-23 17:50:50 +0600
  [1m[35m (2.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 180.6ms | Allocations: 14722)
Completed 500 Internal Server Error in 276ms (ActiveRecord: 3.2ms | Allocations: 24922)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
     6: 
     7:     <%= stylesheet_link_tag    'application', media: 'all',
     8:     'data-turbolinks-track': 'reload' %>
     9:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    10:   </head>
    11: 
    12:   <body class='<%= controller.controller_name %>'>
  
app/views/layouts/application.html.erb:9
Started GET "/products" for 127.0.0.1 at 2020-12-23 17:52:26 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 48.4ms | Allocations: 12458)
Completed 500 Internal Server Error in 97ms (ActiveRecord: 2.8ms | Allocations: 22646)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
     6: 
     7:     <%= stylesheet_link_tag    'application', media: 'all',
     8:     'data-turbolinks-track': 'reload' %>
     9:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    10:   </head>
    11: 
    12:   <body class='<%= controller.controller_name %>'>
  
app/views/layouts/application.html.erb:9
Started GET "/products" for 127.0.0.1 at 2020-12-23 17:52:28 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 1656)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.5ms | Allocations: 9451)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
     6: 
     7:     <%= stylesheet_link_tag    'application', media: 'all',
     8:     'data-turbolinks-track': 'reload' %>
     9:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    10:   </head>
    11: 
    12:   <body class='<%= controller.controller_name %>'>
  
app/views/layouts/application.html.erb:9
Started GET "/products" for 127.0.0.1 at 2020-12-23 17:53:56 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 1887)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 26.5ms | ActiveRecord: 0.6ms | Allocations: 6149)


  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mProduct Destroy (142.6ms)[0m  [1m[31mDELETE FROM `products`[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Rails, Angular, Postgres, and Bootstrap', '<p>\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\n      As a Rails developer, you care about user experience and performance,\n      but you also want simple and maintainable code. Achieve all that by\n      embracing the full stack of web development, from styling with\n      Bootstrap, building an interactive user interface with AngularJS, to\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\n      full-stack development to create usable, high-performing applications,\n      and learn to use these technologies effectively in a Ruby on Rails\n      environment.\n      </p>', 'dcbang.jpg', 45, '2020-12-23 11:56:57.632408', '2020-12-23 11:56:57.632408')[0m
  [1m[35m (51.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps in Seven Weeks', '<p>\n      <em>Native Apps, Multiple Platforms</em>\n      Answer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\n      resounding YES. This book will help you get there with a real-world\n      introduction to seven platforms, whether you‚Äôre new to mobile or an\n      experienced developer needing to expand your options. Plus, you‚Äôll find\n      out which cross-platform solution makes the most sense for your needs.\n      </p>', '7apps.jpg', 26, '2020-12-23 11:56:57.694369', '2020-12-23 11:56:57.694369')[0m
  [1m[35m (56.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Ruby Performance Optimization', '<p>\n      <em>Why Ruby Is Slow, and How to Fix It</em>\n      You don‚Äôt have to accept slow Ruby or Rails performance. In this\n      comprehensive guide to Ruby optimization, you‚Äôll learn how to write\n      faster Ruby code‚Äîbut that‚Äôs just the beginning. See exactly what makes\n      Ruby and Rails code slow, and how to fix it. Alex Dymo will guide you\n      through perils of memory and CPU optimization, profiling, measuring,\n      performance testing, garbage collection, and tuning. You‚Äôll find that\n      all those ‚Äúhard‚Äù things aren‚Äôt so difficult after all, and your code\n      will run orders of magnitude faster.\n      </p>', 'adrpo.jpg', 46, '2020-12-23 11:56:57.759813', '2020-12-23 11:56:57.759813')[0m
  [1m[35m (56.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/products" for 127.0.0.1 at 2020-12-23 17:57:01 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 3217)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 21.0ms | ActiveRecord: 0.6ms | Allocations: 6524)


Started GET "/products/3" for 127.0.0.1 at 2020-12-23 18:02:11 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (21.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 26.6ms | Allocations: 300)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 101ms (Views: 37.7ms | ActiveRecord: 21.3ms | Allocations: 6302)


Started GET "/products/3" for 127.0.0.1 at 2020-12-23 18:02:20 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 1.2ms | Allocations: 89)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 10.0ms | ActiveRecord: 0.9ms | Allocations: 4051)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-12-23 18:02:23 +0600
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 293.9ms | Allocations: 3174)
  Rendered products/edit.html.erb within layouts/application (Duration: 295.9ms | Allocations: 3552)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 309ms (Views: 304.5ms | ActiveRecord: 0.6ms | Allocations: 7643)


Started GET "/products/3" for 127.0.0.1 at 2020-12-23 18:03:14 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 0.7ms | Allocations: 92)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 11.2ms | ActiveRecord: 0.7ms | Allocations: 4069)


Started GET "/products/3" for 127.0.0.1 at 2020-12-23 18:07:40 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 0.5ms | Allocations: 89)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 10.7ms | ActiveRecord: 0.5ms | Allocations: 4040)


  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-24 11:00:35 +0600
  [1m[35m (46.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/nascenia/.rvm/gems/ruby-2.7.2/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/nascenia/.rvm/gems/ruby-2.7.2/gems/railties-6.0.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 26.9ms | Allocations: 294)
Completed 200 OK in 91ms (Views: 32.8ms | ActiveRecord: 0.0ms | Allocations: 2061)


Started GET "/products" for 127.0.0.1 at 2020-12-24 11:00:41 +0600
Processing by ProductsController#index as HTML
Completed 500 Internal Server Error in 45ms (ActiveRecord: 0.0ms | Allocations: 1928)


  
NoMethodError (undefined method `validates' for main:Object):
  
app/models/product.rb:3:in `<main>'
app/controllers/products_controller.rb:7:in `index'
Started GET "/products" for 127.0.0.1 at 2020-12-24 11:01:18 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (31.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 316.8ms | Allocations: 13970)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 392ms (Views: 354.0ms | ActiveRecord: 33.7ms | Allocations: 18857)


Started GET "/products/new" for 127.0.0.1 at 2020-12-24 11:01:22 +0600
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 183.5ms | Allocations: 3108)
  Rendered products/new.html.erb within layouts/application (Duration: 242.9ms | Allocations: 3438)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 254ms (Views: 252.5ms | ActiveRecord: 0.0ms | Allocations: 6975)


Started POST "/products" for 127.0.0.1 at 2020-12-24 11:01:24 +0600
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"AHrkiLLZR2k55SJqUH39fMCTixnteGl0Ad7jLtKka41YWJbF4icnBd+A+DW7hmKcO8Skq5B93HV+AnddOM0ohQ==", "product"=>{"title"=>"", "description"=>"", "image_url"=>"", "price"=>""}, "commit"=>"Create Product"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 4.6ms | Allocations: 1532)
  Rendered products/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1614)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 18.4ms | ActiveRecord: 0.0ms | Allocations: 6659)


Started POST "/products" for 127.0.0.1 at 2020-12-24 11:02:22 +0600
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"KcEl+DyXKPY2JaQ4xuuLZ/fLr5cOsq0630w75tACfyh7bhxN3SLxiwDb23YpmbTcbrshc6jiNO2wOpNbx7AYiw==", "product"=>{"title"=>"e", "description"=>"e", "image_url"=>"e", "price"=>"e"}, "commit"=>"Create Product"}
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 3.0ms | Allocations: 1255)
  Rendered products/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1339)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 9.6ms | ActiveRecord: 1.3ms | Allocations: 10678)


Started GET "/store/index" for 127.0.0.1 at 2020-12-24 12:43:04 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  Rendered store/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 187)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 263ms (Views: 248.6ms | ActiveRecord: 0.0ms | Allocations: 27005)


Started GET "/" for 127.0.0.1 at 2020-12-24 12:46:23 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  Rendered store/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 5)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.0ms | Allocations: 3540)


Started GET "/" for 127.0.0.1 at 2020-12-24 12:52:28 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 20.3ms | Allocations: 6323)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 27.7ms | ActiveRecord: 2.7ms | Allocations: 11869)


Started GET "/" for 127.0.0.1 at 2020-12-24 12:58:51 +0600
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 2534)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 64ms (Views: 61.8ms | ActiveRecord: 0.9ms | Allocations: 15141)


Started GET "/store/index" for 127.0.0.1 at 2020-12-24 13:06:00 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  
ActionController::RoutingError (No route matches [GET] "/store/index"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2020-12-24 13:06:10 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 10.2ms | Allocations: 2756)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.8ms | Allocations: 11656)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
     8: 
     9:     <%= stylesheet_link_tag    'application', media: 'all',
    10:     'data-turbolinks-track': 'reload' %>
    11:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    12:   </head>
    13: 
    14:   <body class="<%= controller.controller_name %>">
  
app/views/layouts/application.html.erb:11
Started GET "/" for 127.0.0.1 at 2020-12-24 13:07:27 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 9.8ms | Allocations: 2722)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 20.5ms | ActiveRecord: 0.5ms | Allocations: 7002)


Started GET "/" for 127.0.0.1 at 2020-12-24 13:08:19 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 2715)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 18.3ms | ActiveRecord: 0.7ms | Allocations: 7566)


Started GET "/" for 127.0.0.1 at 2020-12-24 14:00:22 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.4ms | Allocations: 2530)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 76ms (Views: 73.1ms | ActiveRecord: 0.9ms | Allocations: 13865)


Started GET "/" for 127.0.0.1 at 2020-12-24 14:35:07 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 10.4ms | Allocations: 2734)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 20.9ms | ActiveRecord: 0.8ms | Allocations: 7578)


Started GET "/" for 127.0.0.1 at 2020-12-24 14:41:08 +0600
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 156.3ms | Allocations: 22612)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 196ms (Views: 181.9ms | ActiveRecord: 2.8ms | Allocations: 29511)


Started GET "/" for 127.0.0.1 at 2020-12-24 14:45:59 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 2829)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 24.3ms | ActiveRecord: 0.6ms | Allocations: 6606)


  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (347.9ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (83.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-24 15:19:29 +0600
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8d3e2274c6f31d6c045f1bd39e63458e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (7.3ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8d3e2274c6f31d6c045f1bd39e63458e/products/3-20201223115657632408 (0.2ms)
Write fragment views/store/index:8d3e2274c6f31d6c045f1bd39e63458e/products/3-20201223115657632408 (0.3ms)
Read fragment views/store/index:8d3e2274c6f31d6c045f1bd39e63458e/products/5-20201223115657759813 (0.3ms)
Write fragment views/store/index:8d3e2274c6f31d6c045f1bd39e63458e/products/5-20201223115657759813 (0.2ms)
Read fragment views/store/index:8d3e2274c6f31d6c045f1bd39e63458e/products/4-20201223115657694369 (0.2ms)
Write fragment views/store/index:8d3e2274c6f31d6c045f1bd39e63458e/products/4-20201223115657694369 (0.2ms)
Write fragment views/store/index:8d3e2274c6f31d6c045f1bd39e63458e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 151.3ms | Allocations: 29692)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 197ms (Views: 175.7ms | ActiveRecord: 4.5ms | Allocations: 41720)


Started GET "/" for 127.0.0.1 at 2020-12-24 15:19:31 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8d3e2274c6f31d6c045f1bd39e63458e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (5.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 947)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.6ms | Allocations: 4940)


Started GET "/products" for 127.0.0.1 at 2020-12-24 15:19:51 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 11.1ms | Allocations: 3513)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 21.2ms | ActiveRecord: 0.5ms | Allocations: 8054)


Started GET "/" for 127.0.0.1 at 2020-12-24 15:25:52 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8d3e2274c6f31d6c045f1bd39e63458e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (4.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1036)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 16.3ms | ActiveRecord: 0.5ms | Allocations: 6222)


Started GET "/" for 127.0.0.1 at 2020-12-24 15:25:54 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8d3e2274c6f31d6c045f1bd39e63458e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (3.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 945)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.5ms | Allocations: 4940)


Started GET "/" for 127.0.0.1 at 2020-12-24 15:42:10 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8d3e2274c6f31d6c045f1bd39e63458e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (3.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 935)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 24.8ms | ActiveRecord: 0.7ms | Allocations: 4949)


Started GET "/say/hello" for 127.0.0.1 at 2020-12-24 15:45:59 +0600
  
ActionController::RoutingError (No route matches [GET] "/say/hello"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (496.8ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (104.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-24 18:32:15 +0600
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (4.0ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201223115657632408 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201223115657632408 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.1ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (0.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 32.2ms | Allocations: 8503)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 106ms (Views: 72.0ms | ActiveRecord: 1.3ms | Allocations: 27567)


Started GET "/" for 127.0.0.1 at 2020-12-24 18:33:18 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (4.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 942)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 53.2ms | ActiveRecord: 0.6ms | Allocations: 17746)


Started GET "/" for 127.0.0.1 at 2020-12-24 18:40:23 +0600
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (2.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1036)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 12.2ms | ActiveRecord: 0.5ms | Allocations: 6845)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-24 18:40:27 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/concerns/current_cart.rb:9:in `<main>'
app/controllers/line_items_controller.rb:10:in `<class:LineItemsController>'
app/controllers/line_items_controller.rb:9:in `<main>'
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-24 18:41:42 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/concerns/current_cart.rb:9:in `<main>'
app/controllers/line_items_controller.rb:10:in `<class:LineItemsController>'
app/controllers/line_items_controller.rb:9:in `<main>'
Started GET "/carts" for 127.0.0.1 at 2020-12-24 18:43:26 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  ‚Ü≥ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1305)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 14.2ms | ActiveRecord: 1.2ms | Allocations: 6606)


Started GET "/carts/new" for 127.0.0.1 at 2020-12-24 18:43:29 +0600
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 2.6ms | Allocations: 670)
  Rendered carts/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 998)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 12.4ms | ActiveRecord: 0.6ms | Allocations: 6498)


Started GET "/carts" for 127.0.0.1 at 2020-12-24 18:43:30 +0600
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  ‚Ü≥ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 684)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 19.8ms | ActiveRecord: 0.5ms | Allocations: 4733)


Started GET "/carts/new" for 127.0.0.1 at 2020-12-24 18:43:31 +0600
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 1.7ms | Allocations: 319)
  Rendered carts/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 401)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.0ms | Allocations: 4438)


Started POST "/carts" for 127.0.0.1 at 2020-12-24 18:43:32 +0600
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"Mxje09sE25CNy5xw33KDolg4xY0uG1MPRUU6gQ/sBDok/K3js8idg68Y3QPs9omR66SGi0DCSLJvYjItsmCT2Q==", "commit"=>"Create Cart"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:30:in `block in create'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-24 12:43:32.081719', '2020-12-24 12:43:32.081719')[0m
  ‚Ü≥ app/controllers/carts_controller.rb:30:in `block in create'
  [1m[35m (68.7ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 81ms (ActiveRecord: 69.4ms | Allocations: 3058)


Started GET "/carts/1" for 127.0.0.1 at 2020-12-24 18:43:32 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  Rendered carts/show.html.erb within layouts/application (Duration: 1.2ms | Allocations: 204)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 9.2ms | ActiveRecord: 0.6ms | Allocations: 5358)


Started GET "/" for 127.0.0.1 at 2020-12-24 18:43:43 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (3.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 939)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 0.6ms | Allocations: 4984)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-24 18:43:45 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/concerns/current_cart.rb:9:in `<main>'
app/controllers/line_items_controller.rb:10:in `<class:LineItemsController>'
app/controllers/line_items_controller.rb:9:in `<main>'
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2020-12-24 18:43:52 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/concerns/current_cart.rb:9:in `<main>'
app/controllers/line_items_controller.rb:10:in `<class:LineItemsController>'
app/controllers/line_items_controller.rb:9:in `<main>'
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-24 18:47:24 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/concerns/current_cart.rb:9:in `<main>'
app/controllers/line_items_controller.rb:10:in `<class:LineItemsController>'
app/controllers/line_items_controller.rb:9:in `<main>'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-24 18:47:29 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/concerns/current_cart.rb:9:in `<main>'
app/controllers/line_items_controller.rb:10:in `<class:LineItemsController>'
app/controllers/line_items_controller.rb:9:in `<main>'
Started GET "/" for 127.0.0.1 at 2020-12-24 18:49:43 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (3.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1365)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.6ms | Allocations: 6392)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-24 18:49:45 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/concerns/current_cart.rb:9:in `<main>'
app/controllers/line_items_controller.rb:10:in `<class:LineItemsController>'
app/controllers/line_items_controller.rb:9:in `<main>'
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-24 18:51:08 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/concerns/current_cart.rb:9:in `<main>'
app/controllers/line_items_controller.rb:10:in `<class:LineItemsController>'
app/controllers/line_items_controller.rb:9:in `<main>'
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-24 18:51:51 +0600
  
LoadError (cannot load such file -- test_helper):
  
app/controllers/concerns/current_cart.rb:9:in `<main>'
app/controllers/line_items_controller.rb:10:in `<class:LineItemsController>'
app/controllers/line_items_controller.rb:9:in `<main>'
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-24 18:53:56 +0600
  
Zeitwerk::NameError (expected file /home/nascenia/myrails/depot/app/controllers/concerns/current_cart.rb to define constant CurrentCart, but didn't):
  
app/controllers/line_items_controller.rb:10:in `<class:LineItemsController>'
app/controllers/line_items_controller.rb:9:in `<main>'
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-24 18:55:18 +0600
  
RuntimeError (test_should_get_index is already defined in StoreControllerTest):
  
app/controllers/concerns/current_cart.rb:12:in `<class:StoreControllerTest>'
app/controllers/concerns/current_cart.rb:11:in `<main>'
app/controllers/line_items_controller.rb:10:in `<class:LineItemsController>'
app/controllers/line_items_controller.rb:9:in `<main>'
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-24 18:55:42 +0600
  
LoadError (cannot load such file -- /home/nascenia/myrails/depot/app/helpers/test_helper.rb):
  
app/controllers/concerns/current_cart.rb:9:in `<main>'
app/controllers/line_items_controller.rb:10:in `<class:LineItemsController>'
app/controllers/line_items_controller.rb:9:in `<main>'
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-24 18:58:08 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"7FPatZuhoxY4VblcD4MwnmUy3huHX4LvzZehidwaSmu+/OMAehR6aw6rxhLg8Q8l/EJQ/yEPGzii4Qk0y6gtyA==", "product_id"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-24 12:58:08.499328', '2020-12-24 12:58:08.499328')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (91.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 2, '2020-12-24 12:58:08.727705', '2020-12-24 12:58:08.727705')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (42.2ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/carts/2
Completed 302 Found in 293ms (ActiveRecord: 174.1ms | Allocations: 23663)


Started GET "/carts/2" for 127.0.0.1 at 2020-12-24 18:58:08 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 6.7ms | Allocations: 2113)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 64ms (Views: 58.9ms | ActiveRecord: 1.4ms | Allocations: 23548)


Started GET "/" for 127.0.0.1 at 2020-12-24 18:58:19 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (5.2ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201223115657632408 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201223115657632408 (1.0ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.3ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.1ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 28.6ms | Allocations: 7415)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 37.2ms | ActiveRecord: 1.2ms | Allocations: 12001)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-24 18:58:21 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"2dSJmGLTkuKxmKlQLDeGzl8F1A+XWqaYwOl/hoRxboaLe7Atg2ZLn4dm1h7DRbl1xnVa6zEKP0+vn9c7k8MJJQ==", "product_id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (1.0ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 2, '2020-12-24 12:58:21.398413', '2020-12-24 12:58:21.398413')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (191.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/carts/2
Completed 302 Found in 209ms (ActiveRecord: 194.5ms | Allocations: 4048)


Started GET "/carts/2" for 127.0.0.1 at 2020-12-24 18:58:21 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (1.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m  [["id", 3], ["LIMIT", 1]]
  ‚Ü≥ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 8.8ms | Allocations: 2297)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 14.2ms | ActiveRecord: 2.9ms | Allocations: 6910)


Started GET "/" for 127.0.0.1 at 2020-12-28 10:42:01 +0600
  [1m[35m (2.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (15.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (3.4ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201223115657632408 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201223115657632408 (0.8ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (2.7ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 313.1ms | Allocations: 18195)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 406ms (Views: 388.5ms | ActiveRecord: 2.7ms | Allocations: 25953)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-28 10:42:06 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Ybdzi7apOsB6r4dENR7wfCqywsBJ6QmA19nTLZQZBRuy6wuY9E1Pc3/GIpATbf2WnsDM1kKjik2+qrssZ/jesg==", "product_id"=>"5"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (1.6ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-28 04:42:06.290302', '2020-12-28 04:42:06.290302')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (73.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 3, '2020-12-28 04:42:06.400353', '2020-12-28 04:42:06.400353')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (53.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 184ms (ActiveRecord: 133.1ms | Allocations: 15674)


Started GET "/carts/3" for 127.0.0.1 at 2020-12-28 10:42:06 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 2109)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 20.6ms | ActiveRecord: 1.7ms | Allocations: 7489)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-28 10:42:11 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Ybdzi7apOsB6r4dENR7wfCqywsBJ6QmA19nTLZQZBRuy6wuY9E1Pc3/GIpATbf2WnsDM1kKjik2+qrssZ/jesg==", "product_id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (3.0ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 3, '2020-12-28 04:42:11.764281', '2020-12-28 04:42:11.764281')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (109.1ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 127ms (ActiveRecord: 114.3ms | Allocations: 4051)


Started GET "/carts/3" for 127.0.0.1 at 2020-12-28 10:42:11 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 9.0ms | Allocations: 2372)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 18.6ms | ActiveRecord: 2.7ms | Allocations: 6994)


Started POST "/line_items?product_id=4" for 127.0.0.1 at 2020-12-28 10:42:16 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Ybdzi7apOsB6r4dENR7wfCqywsBJ6QmA19nTLZQZBRuy6wuY9E1Pc3/GIpATbf2WnsDM1kKjik2+qrssZ/jesg==", "product_id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 3, '2020-12-28 04:42:16.383113', '2020-12-28 04:42:16.383113')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (74.1ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 90ms (ActiveRecord: 76.2ms | Allocations: 4055)


Started GET "/carts/3" for 127.0.0.1 at 2020-12-28 10:42:16 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 9.0ms | Allocations: 3163)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 15.4ms | ActiveRecord: 2.3ms | Allocations: 7782)


  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (1010.1ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (53.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (20.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (1085.4ms)[0m  [1m[35mALTER TABLE `line_items` DROP COLUMN `quantity`[0m
  [1m[36mprimary::SchemaMigration Destroy (60.2ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20201228050122'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-28 11:33:08 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (1737.9ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (50.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (108.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-28 11:37:39 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (3.0ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201223115657632408 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201223115657632408 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 59.4ms | Allocations: 18069)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 81ms (Views: 65.8ms | ActiveRecord: 3.3ms | Allocations: 25365)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-28 11:37:43 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"tiN0RliGNaJYDgB7yavOPR4XEmWIy6xUvfcNeG3CRe1lfwxVGmJAEV1npa/v2MPXqmUcc4OBL5nUhGV5niOeRA==", "product_id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 2, `line_items`.`updated_at` = '2020-12-28 05:37:43.153884' WHERE `line_items`.`id` = 4[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (98.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 151ms (ActiveRecord: 104.4ms | Allocations: 16379)


Started GET "/carts/3" for 127.0.0.1 at 2020-12-28 11:37:43 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 11.5ms | Allocations: 3518)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 18.4ms | ActiveRecord: 3.4ms | Allocations: 8790)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-28 11:37:47 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"tiN0RliGNaJYDgB7yavOPR4XEmWIy6xUvfcNeG3CRe1lfwxVGmJAEV1npa/v2MPXqmUcc4OBL5nUhGV5niOeRA==", "product_id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 3, `line_items`.`updated_at` = '2020-12-28 05:37:47.905692' WHERE `line_items`.`id` = 4[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (60.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 83ms (ActiveRecord: 63.0ms | Allocations: 5973)


Started GET "/carts/3" for 127.0.0.1 at 2020-12-28 11:37:47 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (2.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 12.3ms | Allocations: 3172)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 16.1ms | ActiveRecord: 4.4ms | Allocations: 7791)


Started POST "/line_items?product_id=4" for 127.0.0.1 at 2020-12-28 11:37:53 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"tiN0RliGNaJYDgB7yavOPR4XEmWIy6xUvfcNeG3CRe1lfwxVGmJAEV1npa/v2MPXqmUcc4OBL5nUhGV5niOeRA==", "product_id"=>"4"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3 AND `line_items`.`product_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 2, `line_items`.`updated_at` = '2020-12-28 05:37:53.074188' WHERE `line_items`.`id` = 5[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (85.2ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 110ms (ActiveRecord: 88.5ms | Allocations: 5990)


Started GET "/carts/3" for 127.0.0.1 at 2020-12-28 11:37:53 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 10.1ms | Allocations: 3173)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 17.4ms | ActiveRecord: 2.5ms | Allocations: 7791)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-28 11:58:21 +0600
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"tiN0RliGNaJYDgB7yavOPR4XEmWIy6xUvfcNeG3CRe1lfwxVGmJAEV1npa/v2MPXqmUcc4OBL5nUhGV5niOeRA==", "product_id"=>"3"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 4, `line_items`.`updated_at` = '2020-12-28 05:58:21.558343' WHERE `line_items`.`id` = 4[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (55.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 76ms (ActiveRecord: 58.9ms | Allocations: 5988)


Started GET "/carts/3" for 127.0.0.1 at 2020-12-28 11:58:21 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 10.1ms | Allocations: 3173)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 18.8ms | ActiveRecord: 2.2ms | Allocations: 7799)


Started GET "/carts/3" for 127.0.0.1 at 2020-12-28 11:59:09 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 13.0ms | Allocations: 3170)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 21.5ms | ActiveRecord: 3.0ms | Allocations: 7770)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-28 11:59:13 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"tiN0RliGNaJYDgB7yavOPR4XEmWIy6xUvfcNeG3CRe1lfwxVGmJAEV1npa/v2MPXqmUcc4OBL5nUhGV5niOeRA==", "product_id"=>"5"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3 AND `line_items`.`product_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 2, `line_items`.`updated_at` = '2020-12-28 05:59:13.208733' WHERE `line_items`.`id` = 3[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (59.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 84ms (ActiveRecord: 62.3ms | Allocations: 5983)


Started GET "/carts/3" for 127.0.0.1 at 2020-12-28 11:59:13 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 16.5ms | Allocations: 3172)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 23.0ms | ActiveRecord: 3.3ms | Allocations: 7810)


Started GET "/carts/wibble" for 127.0.0.1 at 2020-12-28 12:01:29 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"wibble"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = NULL LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:67:in `set_cart'
Completed 404 Not Found in 4ms (ActiveRecord: 0.5ms | Allocations: 1149)


  
ActiveRecord::RecordNotFound (Couldn't find Cart with 'id'=wibble):
  
app/controllers/carts_controller.rb:67:in `set_cart'
Started GET "/" for 127.0.0.1 at 2020-12-28 12:04:36 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (3.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1036)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 17.5ms | ActiveRecord: 1.2ms | Allocations: 7046)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-28 12:04:38 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"r3n05rItO5itiMdkPhr+k30XQyeuO4DvIDfkmOB6cL98JYz18MlOK6jhYrAYafN5yWVNMaVxAyJJRIyZE5urFg==", "product_id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 5, `line_items`.`updated_at` = '2020-12-28 06:04:38.254638' WHERE `line_items`.`id` = 4[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (102.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 160ms (ActiveRecord: 110.4ms | Allocations: 16966)


Started GET "/carts/3" for 127.0.0.1 at 2020-12-28 12:04:38 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:79:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 9.6ms | Allocations: 3354)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 16.5ms | ActiveRecord: 2.4ms | Allocations: 8195)


Started GET "/carts/wibble" for 127.0.0.1 at 2020-12-28 12:04:45 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"wibble"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = NULL LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:79:in `set_cart'
Attempt to access invalid cart wibble
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 1163)


Started GET "/" for 127.0.0.1 at 2020-12-28 12:04:45 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (2.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 938)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.5ms | Allocations: 4999)


Started GET "/" for 127.0.0.1 at 2020-12-28 12:19:24 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (5.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 1467)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 16.7ms | ActiveRecord: 0.9ms | Allocations: 8071)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-28 12:19:26 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"XP+3FOYPTcqY+utbv+y2iLLbraWo3Tzx+YnSO+TpFIaPo88HpOs4eZ2TTo+Zn7tiBqmjs6OXvzyQ+ro6FwjPLw==", "product_id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3 AND `line_items`.`product_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Update (0.7ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 3, `line_items`.`updated_at` = '2020-12-28 06:19:26.439756' WHERE `line_items`.`id` = 3[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (120.1ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 180ms (ActiveRecord: 123.7ms | Allocations: 16728)


Started GET "/carts/3" for 127.0.0.1 at 2020-12-28 12:19:26 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:79:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 14.4ms | Allocations: 3706)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 22.6ms | ActiveRecord: 2.6ms | Allocations: 8968)


Started DELETE "/carts/3" for 127.0.0.1 at 2020-12-28 12:19:31 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"tMip2iuEEqFKG1dO4DotLEa6AG5Mpd1vdAyIp0VjIthnlNHJaWBnEk9y8prGSSDG8sgOeEfvXqIdf+CmtoL5cQ==", "id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:79:in `set_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 3[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (1.3ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 4[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.7ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 5[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (86.7ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 3[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (86.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 205ms (ActiveRecord: 177.2ms | Allocations: 7079)


Started GET "/" for 127.0.0.1 at 2020-12-28 12:19:31 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (3.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 941)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.6ms | Allocations: 5010)


Started GET "/" for 127.0.0.1 at 2020-12-28 12:31:31 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (6.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 9.9ms | Allocations: 1464)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 160ms (Views: 153.6ms | ActiveRecord: 0.7ms | Allocations: 23784)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-28 12:31:37 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"HXjZvqBIs4UlLjKckRsBaCq8vhk8mkhkhcX3MVrWpzLOJKGt4qzGNiBHl0i3aAyCns6wDzfQy6nstp8wqTd8mw==", "product_id"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-28 06:31:37.279386', '2020-12-28 06:31:37.279386')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (103.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 4, '2020-12-28 06:31:37.437272', '2020-12-28 06:31:37.437272')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (608.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/carts/4
Completed 302 Found in 783ms (ActiveRecord: 716.0ms | Allocations: 18641)


Started GET "/carts/4" for 127.0.0.1 at 2020-12-28 12:31:38 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:79:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 11.4ms | Allocations: 2365)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 23.0ms | ActiveRecord: 2.6ms | Allocations: 7754)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-28 12:31:42 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"HXjZvqBIs4UlLjKckRsBaCq8vhk8mkhkhcX3MVrWpzLOJKGt4qzGNiBHl0i3aAyCns6wDzfQy6nstp8wqTd8mw==", "product_id"=>"5"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4 AND `line_items`.`product_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 4, '2020-12-28 06:31:42.259049', '2020-12-28 06:31:42.259049')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (59.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/carts/4
Completed 302 Found in 97ms (ActiveRecord: 63.1ms | Allocations: 6029)


Started GET "/carts/4" for 127.0.0.1 at 2020-12-28 12:31:42 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:79:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 12.4ms | Allocations: 2835)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 23.7ms | ActiveRecord: 2.3ms | Allocations: 7434)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-28 12:31:49 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"HXjZvqBIs4UlLjKckRsBaCq8vhk8mkhkhcX3MVrWpzLOJKGt4qzGNiBHl0i3aAyCns6wDzfQy6nstp8wqTd8mw==", "product_id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Update (0.7ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 2, `line_items`.`updated_at` = '2020-12-28 06:31:49.278594' WHERE `line_items`.`id` = 6[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (85.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/carts/4
Completed 302 Found in 110ms (ActiveRecord: 90.4ms | Allocations: 5958)


Started GET "/carts/4" for 127.0.0.1 at 2020-12-28 12:31:49 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:79:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 13.2ms | Allocations: 2835)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 21.9ms | ActiveRecord: 3.4ms | Allocations: 7440)


Started DELETE "/carts/4" for 127.0.0.1 at 2020-12-28 12:35:03 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"vKUB25heIKvaQz7zCeu0E7/Spa4BgR7787xl0JFn55Jv+XnI2rpVGN8qmycvmLn5C6CruArLnTaazw3RYoY8Ow==", "id"=>"4"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:79:in `set_cart'
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (1.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 6[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 7[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (89.6ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 4[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (109.7ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 227ms (ActiveRecord: 204.0ms | Allocations: 6054)


Started GET "/" for 127.0.0.1 at 2020-12-28 12:35:03 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (3.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 941)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.3ms | ActiveRecord: 0.6ms | Allocations: 4998)


Started GET "/" for 127.0.0.1 at 2020-12-28 12:35:05 +0600
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (3.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 16.2ms | ActiveRecord: 0.6ms | Allocations: 4972)


Started GET "/" for 127.0.0.1 at 2020-12-28 13:07:19 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-28 07:07:19.220221', '2020-12-28 07:07:19.220221')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (66.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (5.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 1470)
Completed 500 Internal Server Error in 154ms (ActiveRecord: 68.0ms | Allocations: 27537)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
     8: 
     9:     <%= stylesheet_link_tag    'application', media: 'all',
    10:     'data-turbolinks-track': 'reload' %>
    11:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    12:   </head>
    13: 
    14:   <body class="<%= controller.controller_name %>">
  
app/views/layouts/application.html.erb:11
Started GET "/" for 127.0.0.1 at 2020-12-28 13:08:13 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-28 07:08:13.229068', '2020-12-28 07:08:13.229068')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (130.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (4.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 1367)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 25.4ms | Allocations: 4451)
Completed 200 OK in 196ms (Views: 50.2ms | ActiveRecord: 133.2ms | Allocations: 13725)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-28 13:08:17 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"vfKx/hlARQj/uxyugXQn1aggdxWARtJuTCOHY1jA9J5ursntW6Qwu/rSuXqnByo/HFJ5A4sMUaMlUO9iqyEvNw==", "product_id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (2.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (1.0ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 6, '2020-12-28 07:08:17.109857', '2020-12-28 07:08:17.109857')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (168.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/carts/6
Completed 302 Found in 232ms (ActiveRecord: 174.7ms | Allocations: 13337)


Started GET "/carts/6" for 127.0.0.1 at 2020-12-28 13:08:17 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:79:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.5ms | Allocations: 1053)
  Rendered carts/_cart.html.erb (Duration: 14.0ms | Allocations: 2455)
  Rendered carts/show.html.erb within layouts/application (Duration: 15.4ms | Allocations: 2647)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.5ms | Allocations: 110)
  Rendered carts/_cart.html.erb (Duration: 1.7ms | Allocations: 452)
Completed 200 OK in 37ms (Views: 30.3ms | ActiveRecord: 3.2ms | Allocations: 8389)


Started GET "/" for 127.0.0.1 at 2020-12-28 13:08:26 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (3.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 938)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.7ms | Allocations: 916)
  Rendered carts/_cart.html.erb (Duration: 13.0ms | Allocations: 2130)
Completed 200 OK in 35ms (Views: 26.1ms | ActiveRecord: 4.1ms | Allocations: 7751)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-28 13:08:29 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bCcC8fj7XlghhG5cLO/zlB49noE3jy7P91ZjZZU8J06/e3riuh8r6yTty4gKnP5+qk+QlzzFrQKeJQtkZt385w==", "product_id"=>"5"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6 AND `line_items`.`product_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (3.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 6, '2020-12-28 07:08:29.651970', '2020-12-28 07:08:29.651970')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (73.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/carts/6
Completed 302 Found in 111ms (ActiveRecord: 80.3ms | Allocations: 6021)


Started GET "/carts/6" for 127.0.0.1 at 2020-12-28 13:08:29 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:79:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (2.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 11.2ms | Allocations: 1842)
  Rendered carts/_cart.html.erb (Duration: 15.9ms | Allocations: 3075)
  Rendered carts/show.html.erb within layouts/application (Duration: 16.3ms | Allocations: 3162)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 1.1ms | Allocations: 216)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 560)
Completed 200 OK in 38ms (Views: 29.9ms | ActiveRecord: 5.8ms | Allocations: 8403)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-28 13:08:37 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bCcC8fj7XlghhG5cLO/zlB49noE3jy7P91ZjZZU8J06/e3riuh8r6yTty4gKnP5+qk+QlzzFrQKeJQtkZt385w==", "product_id"=>"5"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (1.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6 AND `line_items`.`product_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 2, `line_items`.`updated_at` = '2020-12-28 07:08:37.896846' WHERE `line_items`.`id` = 9[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (56.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/carts/6
Completed 302 Found in 87ms (ActiveRecord: 63.0ms | Allocations: 5966)


Started GET "/carts/6" for 127.0.0.1 at 2020-12-28 13:08:37 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:79:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 9.9ms | Allocations: 1842)
  Rendered carts/_cart.html.erb (Duration: 16.1ms | Allocations: 3075)
  Rendered carts/show.html.erb within layouts/application (Duration: 16.8ms | Allocations: 3161)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 1.3ms | Allocations: 216)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 560)
Completed 200 OK in 45ms (Views: 39.4ms | ActiveRecord: 2.5ms | Allocations: 8400)


Started GET "/carts/6" for 127.0.0.1 at 2020-12-28 13:08:42 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:79:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 13.7ms | Allocations: 1842)
  Rendered carts/_cart.html.erb (Duration: 21.1ms | Allocations: 3075)
  Rendered carts/show.html.erb within layouts/application (Duration: 22.0ms | Allocations: 3161)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 1.3ms | Allocations: 216)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 560)
Completed 200 OK in 44ms (Views: 35.5ms | ActiveRecord: 3.0ms | Allocations: 8385)


Started GET "/" for 127.0.0.1 at 2020-12-28 13:08:47 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (4.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (4.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 12.8ms | Allocations: 1828)
  Rendered carts/_cart.html.erb (Duration: 17.7ms | Allocations: 3052)
Completed 200 OK in 38ms (Views: 27.8ms | ActiveRecord: 7.4ms | Allocations: 8668)


Started GET "/products" for 127.0.0.1 at 2020-12-28 13:11:25 +0600
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 218.1ms | Allocations: 23829)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 254ms (ActiveRecord: 2.8ms | Allocations: 32132)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    19:     <div id="columns">
    20:       <div id="side">
    21:         <div id="cart">
    22:           <%= render @cart %>
    23:         </div>
    24: 
    25:         <ul>
  
app/views/layouts/application.html.erb:22
Started GET "/" for 127.0.0.1 at 2020-12-28 15:16:03 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (3.3ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201223115657632408 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201223115657632408 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (1.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 35.7ms | Allocations: 7378)
Completed 500 Internal Server Error in 68ms (ActiveRecord: 3.2ms | Allocations: 19895)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
     8: 
     9:     <%= stylesheet_link_tag    'application', media: 'all',
    10:     'data-turbolinks-track': 'reload' %>
    11:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    12:   </head>
    13: 
    14:   <body class="<%= controller.controller_name %>">
  
app/views/layouts/application.html.erb:11
Started GET "/" for 127.0.0.1 at 2020-12-28 15:16:33 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (2.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1369)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 8.6ms | Allocations: 2719)
  Rendered carts/_cart.html.erb (Duration: 40.3ms | Allocations: 11330)
Completed 200 OK in 64ms (Views: 54.4ms | ActiveRecord: 4.5ms | Allocations: 18582)


Started DELETE "/carts/6" for 127.0.0.1 at 2020-12-28 15:16:37 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"rbuKLlEZdwZ/83itdVx1qEjKCYB0Qcdfcozcvneo5jp+5/I9E/0CtXqa3XlTL3hC/LgHln8LRJIb/7S/hEk9kw==", "id"=>"6"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:79:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (1.0ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 8[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 9[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (103.5ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 6[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (53.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 179ms (ActiveRecord: 159.7ms | Allocations: 6185)


Started GET "/" for 127.0.0.1 at 2020-12-28 15:16:37 +0600
Processing by StoreController#index as HTML
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-28 09:16:37.250000', '2020-12-28 09:16:37.250000')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (100.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (5.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 1156)
Completed 200 OK in 134ms (Views: 19.6ms | ActiveRecord: 103.7ms | Allocations: 9071)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-28 15:16:40 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"eJUbWPsJ2VCAQyP/Trp/2B6MbIBqTkrW3rCZgylN3+WryWNLue2s44UqhitoyXIyqv5ilmEEyRu3w/GC2qwETA==", "product_id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 7, '2020-12-28 09:16:40.502745', '2020-12-28 09:16:40.502745')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (55.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 83ms (ActiveRecord: 58.8ms | Allocations: 6292)


Started GET "/" for 127.0.0.1 at 2020-12-28 15:16:40 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (2.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.0ms | Allocations: 916)
  Rendered carts/_cart.html.erb (Duration: 9.5ms | Allocations: 2123)
Completed 200 OK in 25ms (Views: 18.9ms | ActiveRecord: 3.0ms | Allocations: 7731)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-28 15:16:43 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ihMoZ+k+W69Cz3YYuqiRBxQZiNnwL8wyT/9UhG05gz9ZT1B0q9ouHEem08yc25ztoGuGz/tlT/8mjDyFnthYlg==", "product_id"=>"5"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7 AND `line_items`.`product_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (1.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 7, '2020-12-28 09:16:43.394769', '2020-12-28 09:16:43.394769')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (65.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 93ms (ActiveRecord: 70.1ms | Allocations: 6027)


Started GET "/" for 127.0.0.1 at 2020-12-28 15:16:43 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (4.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 5.6ms | Allocations: 1828)
  Rendered carts/_cart.html.erb (Duration: 10.0ms | Allocations: 3052)
Completed 200 OK in 29ms (Views: 22.3ms | ActiveRecord: 3.0ms | Allocations: 8662)


Started POST "/line_items?product_id=4" for 127.0.0.1 at 2020-12-28 15:16:45 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"rLdMMnC0Y/VAR93/Z+8vw+iDPbeWI3nGWXRzDXJqSLV/6zQhMlAWRkUueCtBnCIpXPEzoZ1p+gswBxsMgYuTHA==", "product_id"=>"4"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7 AND `line_items`.`product_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 7, '2020-12-28 09:16:45.921331', '2020-12-28 09:16:45.921331')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (87.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 111ms (ActiveRecord: 91.4ms | Allocations: 6017)


Started GET "/" for 127.0.0.1 at 2020-12-28 15:16:46 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (4.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 11.4ms | Allocations: 2740)
  Rendered carts/_cart.html.erb (Duration: 17.1ms | Allocations: 3980)
Completed 200 OK in 37ms (Views: 30.2ms | ActiveRecord: 3.9ms | Allocations: 9590)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-28 15:17:42 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Vp+yXEoMbP7qrSUuMoKrYf0gv3vFL2qzA6++jJSAIYKFw8pPCOgZTe/EgPoU8aaLSVKxbc5l6X5q3NaNZ2H6Kw==", "product_id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (2.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Update (0.7ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 2, `line_items`.`updated_at` = '2020-12-28 09:17:42.443701' WHERE `line_items`.`id` = 10[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (111.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 139ms (ActiveRecord: 116.5ms | Allocations: 5981)


Started GET "/" for 127.0.0.1 at 2020-12-28 15:17:42 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (2.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 9.3ms | Allocations: 2740)
  Rendered carts/_cart.html.erb (Duration: 14.4ms | Allocations: 3980)
Completed 200 OK in 31ms (Views: 24.3ms | ActiveRecord: 3.2ms | Allocations: 9598)


Started DELETE "/carts/7" for 127.0.0.1 at 2020-12-28 15:17:57 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"pMTRiyIj1codIPOzn6wPIyQkqnIsBJez0kI7pPdpSYp3mKmYYMegeRhJVme53wLJkFakZCdOFH67MVOlBIiSIw==", "id"=>"7"}
  [1m[36mCart Load (2.0ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:79:in `set_cart'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.7ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 10[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (1.8ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 11[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 12[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (96.3ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 7[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (43.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 176ms (ActiveRecord: 145.6ms | Allocations: 7043)


Started GET "/" for 127.0.0.1 at 2020-12-28 15:17:57 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (4.7ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-28 09:17:57.278332', '2020-12-28 09:17:57.278332')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (88.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (3.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 938)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.9ms | Allocations: 1156)
Completed 200 OK in 120ms (Views: 17.5ms | ActiveRecord: 94.5ms | Allocations: 8828)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-28 15:17:59 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Bgkkgp5DRKRy4VZjgJuPGhaQn9jr4JF0xbCX8IX8HrHVVVyR3KcxF3eI87em6ILwouKRzuCqErmsw//xdh3FGA==", "product_id"=>"3"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 8, '2020-12-28 09:17:59.977252', '2020-12-28 09:17:59.977252')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (52.7ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 76ms (ActiveRecord: 57.8ms | Allocations: 6001)


Started GET "/" for 127.0.0.1 at 2020-12-28 15:18:00 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (2.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.6ms | Allocations: 916)
  Rendered carts/_cart.html.erb (Duration: 8.0ms | Allocations: 2123)
Completed 200 OK in 26ms (Views: 21.3ms | ActiveRecord: 1.9ms | Allocations: 7741)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-28 15:18:01 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"tvkbeHmHCIL6XyyoB3Wsk+RqiU1ctBA+waCxrxVG45plpWNrO2N9Mf82iXwhBqF5UBiHW1f+k/Oo09mu5qc4Mw==", "product_id"=>"5"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (2.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8 AND `line_items`.`product_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 8, '2020-12-28 09:18:01.528738', '2020-12-28 09:18:01.528738')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (56.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 85ms (ActiveRecord: 62.1ms | Allocations: 6011)


Started GET "/" for 127.0.0.1 at 2020-12-28 15:18:01 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (4.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 7.9ms | Allocations: 1828)
  Rendered carts/_cart.html.erb (Duration: 13.4ms | Allocations: 3052)
Completed 200 OK in 31ms (Views: 24.3ms | ActiveRecord: 3.7ms | Allocations: 8670)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-28 15:18:01 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"3ZWKICV1yU6EFrraydMXFRp4n0ekaaO1M2VFCGGPZlEOyfIzZ5G8/YF/Hw7voBr/rgqRUa8jIHhaFi0Jkm69+A==", "product_id"=>"5"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8 AND `line_items`.`product_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 2, `line_items`.`updated_at` = '2020-12-28 09:18:01.995769' WHERE `line_items`.`id` = 14[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (92.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 121ms (ActiveRecord: 96.9ms | Allocations: 5951)


Started GET "/" for 127.0.0.1 at 2020-12-28 15:18:02 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (4.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 8.5ms | Allocations: 1828)
  Rendered carts/_cart.html.erb (Duration: 13.2ms | Allocations: 3052)
Completed 200 OK in 30ms (Views: 23.3ms | ActiveRecord: 3.9ms | Allocations: 8664)


Started GET "/products" for 127.0.0.1 at 2020-12-28 15:51:39 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 14.8ms | Allocations: 3471)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 25.8ms | ActiveRecord: 0.5ms | Allocations: 7972)


Started GET "/" for 127.0.0.1 at 2020-12-28 17:15:29 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (4.5ms)
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201223115657632408 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201223115657632408 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (0.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 208.6ms | Allocations: 43177)
Completed 500 Internal Server Error in 275ms (ActiveRecord: 6.4ms | Allocations: 65332)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
     8: 
     9:     <%= stylesheet_link_tag    'application', media: 'all',
    10:     'data-turbolinks-track': 'reload' %>
    11:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    12:   </head>
    13: 
    14:   <body class="<%= controller.controller_name %>">
  
app/views/layouts/application.html.erb:11
Started GET "/" for 127.0.0.1 at 2020-12-28 17:16:17 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (3.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 1376)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/nascenia/myrails/depot/public/packs
[Webpacker] Hash: 76145d9ce4575ebaa29b
Version: webpack 4.44.2
Time: 4634ms
Built at: 12/28/2020 5:16:28 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-c229f7c7014cf8c8d494.js    124 KiB  application  [emitted] [immutable]  application
js/application-c229f7c7014cf8c8d494.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-c229f7c7014cf8c8d494.js js/application-c229f7c7014cf8c8d494.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 9.2ms | Allocations: 2801)
  Rendered carts/_cart.html.erb (Duration: 30.0ms | Allocations: 8237)
Completed 200 OK in 11296ms (Views: 11286.8ms | ActiveRecord: 4.7ms | Allocations: 22556)


Started GET "/" for 127.0.0.1 at 2020-12-28 17:16:29 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (3.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 9.1ms | Allocations: 1840)
  Rendered carts/_cart.html.erb (Duration: 14.7ms | Allocations: 2975)
Completed 200 OK in 43ms (Views: 34.0ms | ActiveRecord: 5.6ms | Allocations: 9463)


Started DELETE "/carts/8" for 127.0.0.1 at 2020-12-28 17:16:33 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"4/CSHup5tL5sxf7YJXvBWzJec5HvrpKbRs9rJBbIZbowrOoNqJ3BDWmsWwwDCMyxhix9h+TkEVYvvAMl5Sm+Ew==", "id"=>"8"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (1.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 13[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.9ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 14[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (116.2ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 8[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (53.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 200ms (ActiveRecord: 174.0ms | Allocations: 6173)


Started GET "/" for 127.0.0.1 at 2020-12-28 17:16:34 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (1.0ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-28 11:16:34.086091', '2020-12-28 11:16:34.086091')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (105.2ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (3.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 9 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 1068)
Completed 200 OK in 144ms (Views: 22.7ms | ActiveRecord: 110.6ms | Allocations: 9815)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-28 17:16:37 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"kKoqJ9J+46Cmh7ggZMO36kEiETDzAQzd7EV/DoiSuJ5D9lI0kJqWE6PuHfRCsLoA9VAfJvhLjxCFNhcPe3NjNw==", "product_id"=>"3"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 9, '2020-12-28 11:16:37.044238', '2020-12-28 11:16:37.044238')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (53.2ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 84ms (ActiveRecord: 57.5ms | Allocations: 6297)


Started GET "/" for 127.0.0.1 at 2020-12-28 17:16:37 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (4.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 9 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.1ms | Allocations: 922)
  Rendered carts/_cart.html.erb (Duration: 11.0ms | Allocations: 2040)
Completed 200 OK in 37ms (Views: 30.1ms | ActiveRecord: 3.8ms | Allocations: 8500)


Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-28 17:16:43 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"2+u6TAUe8sDyfZLm+JMP1xBsuxqsJiWEOGsz861CSioIt8JfR/qHc/cUNzLe4AI9pB61DKdspklRGFvyXqORgw==", "product_id"=>"5"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9 AND `line_items`.`product_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 9, '2020-12-28 11:16:43.605318', '2020-12-28 11:16:43.605318')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (74.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 102ms (ActiveRecord: 80.0ms | Allocations: 6034)


Started GET "/" for 127.0.0.1 at 2020-12-28 17:16:43 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (4.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 9 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 8.6ms | Allocations: 1840)
  Rendered carts/_cart.html.erb (Duration: 15.0ms | Allocations: 2975)
Completed 200 OK in 42ms (Views: 33.0ms | ActiveRecord: 5.0ms | Allocations: 9448)


Started POST "/line_items?product_id=4" for 127.0.0.1 at 2020-12-28 17:16:46 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"n8SwsNd0UeoJmZMof+YiL0deORDpZ+4De8REMfszHT1MmMijlZAkWQzwNvxZlS/F8yw3BuItbc4StywwCNLGlA==", "product_id"=>"4"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9 AND `line_items`.`product_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 9, '2020-12-28 11:16:46.152701', '2020-12-28 11:16:46.152701')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (88.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 119ms (ActiveRecord: 93.4ms | Allocations: 6015)


Started GET "/" for 127.0.0.1 at 2020-12-28 17:16:46 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (2.0ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (5.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 9 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 15.5ms | Allocations: 2758)
  Rendered carts/_cart.html.erb (Duration: 21.0ms | Allocations: 3909)
Completed 200 OK in 49ms (Views: 39.2ms | ActiveRecord: 6.5ms | Allocations: 10382)


Started DELETE "/carts/9" for 127.0.0.1 at 2020-12-28 17:16:50 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"3bNuG32TM3+J2u3womxqqMeiJ79xfgSSe2h9ukWrkHoO7xYIP3dGzIyzSCSEH2dCc9ApqXo0h18SGxW7tkpL0w==", "id"=>"9"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (1.3ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 15[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (1.3ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 16[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (1.8ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 17[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 9[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (49.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 79ms (ActiveRecord: 55.9ms | Allocations: 7043)


Started GET "/" for 127.0.0.1 at 2020-12-28 17:16:50 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (1.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-28 11:16:50.883217', '2020-12-28 11:16:50.883217')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (111.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (3.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 10 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 10[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.2ms | Allocations: 1068)
Completed 200 OK in 152ms (Views: 26.6ms | ActiveRecord: 115.5ms | Allocations: 9586)


Started GET "/" for 127.0.0.1 at 2020-12-28 17:43:38 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 10 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (4.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 10 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (2.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 10[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.6ms | Allocations: 1068)
Completed 200 OK in 41ms (Views: 33.5ms | ActiveRecord: 3.8ms | Allocations: 7540)


Started GET "/" for 127.0.0.1 at 2020-12-28 17:43:45 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 10 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (5.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 10 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 10[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 1068)
Completed 200 OK in 34ms (Views: 27.0ms | ActiveRecord: 4.2ms | Allocations: 7538)


Started GET "/" for 127.0.0.1 at 2020-12-28 17:43:58 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 10 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (3.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 10 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 10[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.5ms | Allocations: 1068)
Completed 200 OK in 33ms (Views: 27.9ms | ActiveRecord: 2.0ms | Allocations: 7529)


Started GET "/" for 127.0.0.1 at 2020-12-28 18:03:58 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 10 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201223115657759813 (5.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 10 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (2.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 10[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.9ms | Allocations: 1068)
Completed 200 OK in 33ms (Views: 24.1ms | ActiveRecord: 5.1ms | Allocations: 7535)


Started GET "/products" for 127.0.0.1 at 2020-12-28 18:04:33 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 15.5ms | Allocations: 3522)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 28.2ms | ActiveRecord: 0.4ms | Allocations: 8062)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-12-28 18:04:36 +0600
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 6.9ms | Allocations: 2141)
  Rendered products/edit.html.erb within layouts/application (Duration: 9.3ms | Allocations: 2518)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 24.7ms | ActiveRecord: 0.6ms | Allocations: 7296)


Started PATCH "/products/3" for 127.0.0.1 at 2020-12-28 18:04:43 +0600
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"C/5qu8x6LWNR0mCUE/W0Ww9q4j7VIo2yGIw54eVa/i2pox22FKeRHgZiDmTfbxkMaCyguXaGjjhOI9yJ0IMmhg==", "product"=>{"title"=>"Rails, Angular, Postgres, and Bootstrap", "description"=>"<p>\r\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\r\n      As a Rails developer, you care about user experience and performance,\r\n      but you also want simple and maintainable code. Achieve all that by\r\n      embracing the full stack of web development, from styling with\r\n      Bootstrap, building an interactive user interface with AngularJS, to\r\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\r\n      full-stack development to create usable, high-performing applications,\r\n      and learn to use these technologies effectively in a Ruby on Rails\r\n      environment.\r\n      </p>", "image_url"=>"dcbang.jpg", "price"=>"46"}, "commit"=>"Update Product", "id"=>"3"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:67:in `set_product'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from block in update at /home/nascenia/myrails/depot/app/controllers/products_controller.rb:44)
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/products_controller.rb:44:in `block in update'
  [1m[36mProduct Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' AND `products`.`id` != 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:44:in `block in update'
  [1m[36mProduct Update (0.9ms)[0m  [1m[33mUPDATE `products` SET `products`.`description` = '<p>\r\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\r\n      As a Rails developer, you care about user experience and performance,\r\n      but you also want simple and maintainable code. Achieve all that by\r\n      embracing the full stack of web development, from styling with\r\n      Bootstrap, building an interactive user interface with AngularJS, to\r\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\r\n      full-stack development to create usable, high-performing applications,\r\n      and learn to use these technologies effectively in a Ruby on Rails\r\n      environment.\r\n      </p>', `products`.`price` = 46, `products`.`updated_at` = '2020-12-28 12:04:43.884898' WHERE `products`.`id` = 3[0m
  ‚Ü≥ app/controllers/products_controller.rb:44:in `block in update'
  [1m[35m (96.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/products_controller.rb:44:in `block in update'
Redirected to http://localhost:3000/products/3
Completed 302 Found in 119ms (ActiveRecord: 100.3ms | Allocations: 5283)


Started GET "/products/3" for 127.0.0.1 at 2020-12-28 18:04:44 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 1.2ms | Allocations: 299)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 12.9ms | ActiveRecord: 1.0ms | Allocations: 5098)


Started GET "/" for 127.0.0.1 at 2020-12-28 18:04:57 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 10 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228120443884898 (6.4ms)
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201228120443884898 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201228120443884898 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.3ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228120443884898 (0.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 23.4ms | Allocations: 2990)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 10 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 10[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 8.4ms | Allocations: 1063)
Completed 200 OK in 60ms (Views: 49.3ms | ActiveRecord: 7.1ms | Allocations: 9473)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-28 18:05:03 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"DwRrXoZnkIYO03hkCK3SbUdCmc2GDPHzGLErLDRYgkHcWBNNxIPlNQu63bAu3t+H8zCX241Gcj5xwkMtx7lZ6A==", "product_id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 10 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 10 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (1.1ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 10, '2020-12-28 12:05:03.266889', '2020-12-28 12:05:03.266889')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (70.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 96ms (ActiveRecord: 74.3ms | Allocations: 6015)


Started GET "/" for 127.0.0.1 at 2020-12-28 18:05:03 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 10 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228120443884898 (4.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 10 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 10[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.4ms | Allocations: 922)
  Rendered carts/_cart.html.erb (Duration: 9.9ms | Allocations: 2040)
Completed 200 OK in 46ms (Views: 38.2ms | ActiveRecord: 3.4ms | Allocations: 8508)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-28 18:05:21 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"eqI8oGKz37XVbLc5HiFeL5fyWczfhIkahSdrwtOQaYap/kSzIFeqBtAFEu04UlPFI4BX2tTOCtfsVAPDIHGyLw==", "product_id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 10 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 10 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 2, `line_items`.`updated_at` = '2020-12-28 12:05:21.589260' WHERE `line_items`.`id` = 18[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (98.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 125ms (ActiveRecord: 102.0ms | Allocations: 5957)


Started GET "/" for 127.0.0.1 at 2020-12-28 18:05:21 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 10 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228120443884898 (2.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 10 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 10[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.7ms | Allocations: 922)
  Rendered carts/_cart.html.erb (Duration: 9.4ms | Allocations: 2040)
Completed 200 OK in 31ms (Views: 24.8ms | ActiveRecord: 2.8ms | Allocations: 8510)


Started DELETE "/carts/10" for 127.0.0.1 at 2020-12-28 18:05:33 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"d9vXgI7SqsDSbcRqmhbXq3ze2mTbS/He5fl+TKqBz2ekh6+TzDbfc9cEYb68ZdpByKzUctABchOMihZNWWAUzg==", "id"=>"10"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 10 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 10[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (1.1ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 18[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (92.8ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 10[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (43.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 156ms (ActiveRecord: 139.4ms | Allocations: 5025)


Started GET "/" for 127.0.0.1 at 2020-12-28 18:05:33 +0600
Processing by StoreController#index as HTML
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (1.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-28 12:05:33.822316', '2020-12-28 12:05:33.822316')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (88.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228120443884898 (2.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 11 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (2.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.4ms | Allocations: 1068)
Completed 200 OK in 128ms (Views: 23.6ms | ActiveRecord: 96.6ms | Allocations: 9577)


Started GET "/products" for 127.0.0.1 at 2020-12-28 18:06:08 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 19.1ms | Allocations: 3213)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 31.5ms | ActiveRecord: 0.6ms | Allocations: 7185)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-12-28 18:06:11 +0600
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 7.3ms | Allocations: 1138)
  Rendered products/edit.html.erb within layouts/application (Duration: 8.1ms | Allocations: 1250)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 21.1ms | ActiveRecord: 1.4ms | Allocations: 5879)


Started PATCH "/products/3" for 127.0.0.1 at 2020-12-28 18:06:15 +0600
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"Zp/zICOOZrL+t/znRuqS+OuE+ZPvc+PWVbEEfHI8TmzEwoQt+1Paz6kHkheKcD+vjMK7FEzX4FwDHuEUR+WWxw==", "product"=>{"title"=>"Rails, Angular, Postgres, and Bootstrap", "description"=>"<p>\r\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\r\n      As a Rails developer, you care about user experience and performance,\r\n      but you also want simple and maintainable code. Achieve all that by\r\n      embracing the full stack of web development, from styling with\r\n      Bootstrap, building an interactive user interface with AngularJS, to\r\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\r\n      full-stack development to create usable, high-performing applications,\r\n      and learn to use these technologies effectively in a Ruby on Rails\r\n      environment.\r\n      </p>", "image_url"=>"dcbang.jpg", "price"=>"47"}, "commit"=>"Update Product", "id"=>"3"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:67:in `set_product'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from block in update at /home/nascenia/myrails/depot/app/controllers/products_controller.rb:44)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/products_controller.rb:44:in `block in update'
  [1m[36mProduct Exists? (3.4ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' AND `products`.`id` != 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:44:in `block in update'
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE `products` SET `products`.`price` = 47, `products`.`updated_at` = '2020-12-28 12:06:15.934839' WHERE `products`.`id` = 3[0m
  ‚Ü≥ app/controllers/products_controller.rb:44:in `block in update'
  [1m[35m (104.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/products_controller.rb:44:in `block in update'
Redirected to http://localhost:3000/products/3
Completed 302 Found in 126ms (ActiveRecord: 109.0ms | Allocations: 4997)


Started GET "/products/3" for 127.0.0.1 at 2020-12-28 18:06:16 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 91)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 13.5ms | ActiveRecord: 0.6ms | Allocations: 4746)


Started GET "/" for 127.0.0.1 at 2020-12-28 18:06:24 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228120615934839 (3.3ms)
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201228120615934839 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201228120615934839 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228120615934839 (0.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 17.2ms | Allocations: 2976)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 11 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.7ms | Allocations: 1059)
Completed 200 OK in 43ms (Views: 34.1ms | ActiveRecord: 3.9ms | Allocations: 9468)


Started DELETE "/carts/10" for 127.0.0.1 at 2020-12-28 18:06:30 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"F9cp0+6lfjjKnN4ztt4ZSmYyoNfWC42ZSnjiA2X4wwHEi1HArEELi8/1e+eQrRSg0kCuwd1BDlQjC4oClhkYqA==", "id"=>"10"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 10 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
Attempt to access invalid cart 10
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms | Allocations: 1194)


Started GET "/" for 127.0.0.1 at 2020-12-28 18:06:30 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228120615934839 (3.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 11 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.5ms | Allocations: 1068)
Completed 200 OK in 31ms (Views: 25.0ms | ActiveRecord: 2.5ms | Allocations: 7553)


Started GET "/products" for 127.0.0.1 at 2020-12-28 18:06:42 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 13.3ms | Allocations: 3204)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 22.9ms | ActiveRecord: 0.9ms | Allocations: 7175)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-12-28 18:06:45 +0600
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 4.0ms | Allocations: 1136)
  Rendered products/edit.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1248)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 17.5ms | ActiveRecord: 0.6ms | Allocations: 5891)


Started PATCH "/products/3" for 127.0.0.1 at 2020-12-28 18:06:49 +0600
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"Eg3/cPZmrCPQYjB6t7J2vWV1yOFzGi6v/RaXQZyrG/6wUIh9LrsQXofSXop7KNvqAjOKZtC+LSWruXIpqXLDVQ==", "product"=>{"title"=>"Rails, Angular, Postgres, and Bootstrap", "description"=>"<p>\r\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\r\n      As a Rails developer, you care about user experience and performance,\r\n      but you also want simple and maintainable code. Achieve all that by\r\n      embracing the full stack of web development, from styling with\r\n      Bootstrap, building an interactive user interface with AngularJS, to\r\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\r\n      full-stack development to create usable, high-performing applications,\r\n      and learn to use these technologies effectively in a Ruby on Rails\r\n      environment.\r\n      </p>", "image_url"=>"dcbang.jpg", "price"=>"48"}, "commit"=>"Update Product", "id"=>"3"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:67:in `set_product'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from block in update at /home/nascenia/myrails/depot/app/controllers/products_controller.rb:44)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/products_controller.rb:44:in `block in update'
  [1m[36mProduct Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' AND `products`.`id` != 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:44:in `block in update'
  [1m[36mProduct Update (0.8ms)[0m  [1m[33mUPDATE `products` SET `products`.`price` = 48, `products`.`updated_at` = '2020-12-28 12:06:49.867404' WHERE `products`.`id` = 3[0m
  ‚Ü≥ app/controllers/products_controller.rb:44:in `block in update'
  [1m[35m (85.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/products_controller.rb:44:in `block in update'
Redirected to http://localhost:3000/products/3
Completed 302 Found in 107ms (ActiveRecord: 89.6ms | Allocations: 5002)


Started GET "/products/3" for 127.0.0.1 at 2020-12-28 18:06:49 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 0.5ms | Allocations: 91)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 10.5ms | ActiveRecord: 0.7ms | Allocations: 4769)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-28 18:07:01 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"7V2+GcgnAoouXDq7jRp6bm2XLt9UyCcVQw7QDMAoudc+AcYKisN3OSs1n2+raXeE2eUgyV+CpNgqfbgNM8lifg==", "product_id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 11, '2020-12-28 12:07:01.041293', '2020-12-28 12:07:01.041293')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (49.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 78ms (ActiveRecord: 53.6ms | Allocations: 6027)


Started GET "/" for 127.0.0.1 at 2020-12-28 18:07:01 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228120649867404 (4.4ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201228120649867404 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201228120649867404 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.7ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228120649867404 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 15.3ms | Allocations: 2979)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 11 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.8ms | Allocations: 922)
  Rendered carts/_cart.html.erb (Duration: 10.1ms | Allocations: 2031)
Completed 200 OK in 43ms (Views: 35.4ms | ActiveRecord: 4.4ms | Allocations: 10444)


Started GET "/" for 127.0.0.1 at 2020-12-28 18:08:01 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228120649867404 (3.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 11 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.7ms | Allocations: 922)
  Rendered carts/_cart.html.erb (Duration: 9.1ms | Allocations: 2040)
Completed 200 OK in 33ms (Views: 26.6ms | ActiveRecord: 2.9ms | Allocations: 8511)


Started GET "/" for 127.0.0.1 at 2020-12-28 18:20:52 +0600
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228120649867404 (6.1ms)
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201228120649867404 (0.4ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201228120649867404 (0.9ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228120649867404 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 133.8ms | Allocations: 18312)
[Webpacker] Compiling...
Started GET "/" for 127.0.0.1 at 2020-12-28 18:20:56 +0600
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228120649867404 (4.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 941)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/nascenia/myrails/depot/public/packs
[Webpacker] Hash: d2c0d7ee0dc78eacdc54
Version: webpack 4.44.2
Time: 1583ms
Built at: 12/28/2020 6:20:56 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-990d29c3671c213dee22.js    128 KiB  application  [emitted] [immutable]  application
js/application-990d29c3671c213dee22.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-990d29c3671c213dee22.js js/application-990d29c3671c213dee22.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 3.1 KiB {application} [optional] [built] [failed] [1 error]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

WARNING in ./app/javascript/channels/products_channel.js
Module build failed (from ./node_modules/babel-loader/lib/index.js):
SyntaxError: /home/nascenia/myrails/depot/app/javascript/channels/products_channel.js: Unexpected token, expected ";" (1:46)

> 1 | App.products = App.cable.subscriptions.create "ProductsChannel",
    |                                               ^
  2 |   connected: ->
  3 |     # Called when the subscription is ready for use on the server
  4 | 
    at Parser._raise (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:748:17)
    at Parser.raiseWithData (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:741:17)
    at Parser.raise (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:735:17)
    at Parser.unexpected (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:9101:16)
    at Parser.semicolon (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:9083:40)
    at Parser.parseExpressionStatement (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:12216:10)
    at Parser.parseStatementContent (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:11812:19)
    at Parser.parseStatement (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:11676:17)
    at Parser.parseBlockOrModuleBlockBody (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:12258:25)
    at Parser.parseBlockBody (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:12249:10)
    at Parser.parseTopLevel (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:11607:10)
    at Parser.parse (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:13415:10)
    at parse (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:13468:38)
    at parser (/home/nascenia/myrails/depot/node_modules/@babel/core/lib/parser/index.js:54:34)
    at parser.next (<anonymous>)
    at normalizeFile (/home/nascenia/myrails/depot/node_modules/@babel/core/lib/transformation/normalize-file.js:99:38)
    at normalizeFile.next (<anonymous>)
    at run (/home/nascenia/myrails/depot/node_modules/@babel/core/lib/transformation/index.js:31:50)
    at run.next (<anonymous>)
    at Function.transform (/home/nascenia/myrails/depot/node_modules/@babel/core/lib/transform.js:27:41)
    at transform.next (<anonymous>)
    at step (/home/nascenia/myrails/depot/node_modules/gensync/index.js:261:32)
    at /home/nascenia/myrails/depot/node_modules/gensync/index.js:273:13
    at async.call.result.err.err (/home/nascenia/myrails/depot/node_modules/gensync/index.js:223:11)
    at /home/nascenia/myrails/depot/node_modules/gensync/index.js:189:28
    at /home/nascenia/myrails/depot/node_modules/@babel/core/lib/gensync-utils/async.js:72:7
    at /home/nascenia/myrails/depot/node_modules/gensync/index.js:113:33
    at step (/home/nascenia/myrails/depot/node_modules/gensync/index.js:287:14)
    at /home/nascenia/myrails/depot/node_modules/gensync/index.js:273:13
    at async.call.result.err.err (/home/nascenia/myrails/depot/node_modules/gensync/index.js:223:11)
 @ ./app/javascript/channels sync _channel\.js$ ./products_channel.js
 @ ./app/javascript/channels/index.js
 @ ./app/javascript/packs/application.js

  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 11 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 7.1ms | Allocations: 1870)
  Rendered carts/_cart.html.erb (Duration: 36.1ms | Allocations: 7246)
Completed 200 OK in 4098ms (Views: 4040.5ms | ActiveRecord: 9.4ms | Allocations: 49304)


[Webpacker] Compiled all packs in /home/nascenia/myrails/depot/public/packs
[Webpacker] Hash: d2c0d7ee0dc78eacdc54
Version: webpack 4.44.2
Time: 1473ms
Built at: 12/28/2020 6:21:00 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-990d29c3671c213dee22.js    128 KiB  application  [emitted] [immutable]  application
js/application-990d29c3671c213dee22.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-990d29c3671c213dee22.js js/application-990d29c3671c213dee22.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 3.1 KiB {application} [optional] [built] [failed] [1 error]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

WARNING in ./app/javascript/channels/products_channel.js
Module build failed (from ./node_modules/babel-loader/lib/index.js):
SyntaxError: /home/nascenia/myrails/depot/app/javascript/channels/products_channel.js: Unexpected token, expected ";" (1:46)

> 1 | App.products = App.cable.subscriptions.create "ProductsChannel",
    |                                               ^
  2 |   connected: ->
  3 |     # Called when the subscription is ready for use on the server
  4 | 
    at Parser._raise (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:748:17)
    at Parser.raiseWithData (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:741:17)
    at Parser.raise (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:735:17)
    at Parser.unexpected (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:9101:16)
    at Parser.semicolon (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:9083:40)
    at Parser.parseExpressionStatement (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:12216:10)
    at Parser.parseStatementContent (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:11812:19)
    at Parser.parseStatement (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:11676:17)
    at Parser.parseBlockOrModuleBlockBody (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:12258:25)
    at Parser.parseBlockBody (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:12249:10)
    at Parser.parseTopLevel (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:11607:10)
    at Parser.parse (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:13415:10)
    at parse (/home/nascenia/myrails/depot/node_modules/@babel/parser/lib/index.js:13468:38)
    at parser (/home/nascenia/myrails/depot/node_modules/@babel/core/lib/parser/index.js:54:34)
    at parser.next (<anonymous>)
    at normalizeFile (/home/nascenia/myrails/depot/node_modules/@babel/core/lib/transformation/normalize-file.js:99:38)
    at normalizeFile.next (<anonymous>)
    at run (/home/nascenia/myrails/depot/node_modules/@babel/core/lib/transformation/index.js:31:50)
    at run.next (<anonymous>)
    at Function.transform (/home/nascenia/myrails/depot/node_modules/@babel/core/lib/transform.js:27:41)
    at transform.next (<anonymous>)
    at step (/home/nascenia/myrails/depot/node_modules/gensync/index.js:261:32)
    at /home/nascenia/myrails/depot/node_modules/gensync/index.js:273:13
    at async.call.result.err.err (/home/nascenia/myrails/depot/node_modules/gensync/index.js:223:11)
    at /home/nascenia/myrails/depot/node_modules/gensync/index.js:189:28
    at /home/nascenia/myrails/depot/node_modules/@babel/core/lib/gensync-utils/async.js:72:7
    at /home/nascenia/myrails/depot/node_modules/gensync/index.js:113:33
    at step (/home/nascenia/myrails/depot/node_modules/gensync/index.js:287:14)
    at /home/nascenia/myrails/depot/node_modules/gensync/index.js:273:13
    at async.call.result.err.err (/home/nascenia/myrails/depot/node_modules/gensync/index.js:223:11)
 @ ./app/javascript/channels sync _channel\.js$ ./products_channel.js
 @ ./app/javascript/channels/index.js
 @ ./app/javascript/packs/application.js

  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 11 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.6ms | Allocations: 922)
  Rendered carts/_cart.html.erb (Duration: 10.0ms | Allocations: 2040)
Completed 200 OK in 3997ms (Views: 3982.5ms | ActiveRecord: 3.8ms | Allocations: 32255)


Started GET "/products" for 127.0.0.1 at 2020-12-28 18:21:25 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 17.4ms | Allocations: 3524)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 29.8ms | ActiveRecord: 0.6ms | Allocations: 8098)


Started GET "/products/3/edit" for 127.0.0.1 at 2020-12-28 18:21:31 +0600
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:85:in `set_product'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 8.6ms | Allocations: 2141)
  Rendered products/edit.html.erb within layouts/application (Duration: 10.8ms | Allocations: 2518)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 26.7ms | ActiveRecord: 0.6ms | Allocations: 7425)


Started PATCH "/products/3" for 127.0.0.1 at 2020-12-28 18:21:40 +0600
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"pabRzRGys32s59azlZciJk130jG3XgEICT/CbJTYgSgH+6bAyW8PAPtXuENZDY9xKjGQthT6AoJfkCcEoQFZgw==", "product"=>{"title"=>"Rails, Angular, Postgres, and Bootstrap", "description"=>"<p>\r\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\r\n      As a Rails developer, you care about user experience and performance,\r\n      but you also want simple and maintainable code. Achieve all that by\r\n      embracing the full stack of web development, from styling with\r\n      Bootstrap, building an interactive user interface with AngularJS, to\r\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\r\n      full-stack development to create usable, high-performing applications,\r\n      and learn to use these technologies effectively in a Ruby on Rails\r\n      environment.\r\n      </p>", "image_url"=>"dcbang.jpg", "price"=>"45"}, "commit"=>"Update Product", "id"=>"3"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:85:in `set_product'
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from block in update at /home/nascenia/myrails/depot/app/controllers/products_controller.rb:55)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/products_controller.rb:55:in `block in update'
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' AND `products`.`id` != 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:55:in `block in update'
  [1m[36mProduct Update (0.6ms)[0m  [1m[33mUPDATE `products` SET `products`.`price` = 45, `products`.`updated_at` = '2020-12-28 12:21:40.063727' WHERE `products`.`id` = 3[0m
  ‚Ü≥ app/controllers/products_controller.rb:55:in `block in update'
  [1m[35m (53.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/products_controller.rb:55:in `block in update'
  Rendering store/index.html.erb
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-e4922f995b4c8ed5646d162d95fd0ec2-3-20201228122140063727 (2.9ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201228122140063727 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201228122140063727 (0.9ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.3ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-e4922f995b4c8ed5646d162d95fd0ec2-3-20201228122140063727 (0.4ms)
  Rendered store/index.html.erb (Duration: 14.2ms | Allocations: 2953)
[ActionCable] Broadcasting to products: {:html=>"<p id=\"notice\"></p>\n\n<h1>Your Pragmatic Catalog</h1>\n\n      <div class=\"entry\">\n        <img src=\"/assets/dcbang-fd0902f12309120965ed39c0c176783bdf2bc8e30aaa29bcd43a612359fcc6c8.jpg\" />\n        <h3>Rails, Angular, Postgres, and Bootstrap</h3>\n        <p>\r\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\r\n      As a Rails developer, you care about user experience and performance,\r\n      but you also want simple and maintainable code. Achieve all that by\r\n      embracing the full stack of web development, from styling with\r\n      Bootstrap, building an interactive user interface with AngularJS, to\r\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\r\n      full-stack development to create usable, high-performing applications,\r\n      and learn to use these technologies effectively in a Ruby on Rails\r\n      environment.\r\n      </p>\n        <div class=\"price_line\">\n          <span class=\"price\">$45.00</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=3\"><input type=\"submit\" value=\"Add to Cart\" /><input type=\"hidden\" name=\"authenticity_token\" value=\"4N+jfjfM8d3dBegqDiy64Zqj9IVmesO23cAo1c3aby9YIwlr0ASlG/HYYl5zg8kA7Woj+ne9R4GqGr/tkHvJsA==\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/assets/7apps-902a7fcba2fb72309a4e03f51b11df7455b49870ab7d972a13e1c80de2be8989.jpg\" />\n        <h3>Seven Mobile Apps in Seven Weeks</h3>\n        <p>\n      <em>Native Apps, Multiple Platforms</em>\n      Answer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\n      resounding YES. This book will help you get there with a real-world\n      introduction to seven platforms, whether you‚Äôre new to mobile or an\n      experienced developer needing to expand your options. Plus, you‚Äôll find\n      out which cross-platform solution makes the most sense for your needs.\n      </p>\n        <div class=\"price_line\">\n          <span class=\"price\">$26.00</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=4\"><input type=\"submit\" value=\"Add to Cart\" /><input type=\"hidden\" name=\"authenticity_token\" value=\"VL1caKtHg0QoUx9V5YuFaWXMC9pzKFCYjpbikauGc2rsQfZ9TI/XggSOlSGYJPaIEgXcpWLv1K/5THWp9ifV9Q==\" /></form>\n        </div>\n      </div>\n      <div class=\"entry\">\n        <img src=\"/assets/adrpo-6a7ff0bda272e3b6f11fb05a1a87e10428faeba16f573b56983441040a311ae1.jpg\" />\n        <h3>Ruby Performance Optimization</h3>\n        <p>\n      <em>Why Ruby Is Slow, and How to Fix It</em>\n      You don‚Äôt have to accept slow Ruby or Rails performance. In this\n      comprehensive guide to Ruby optimization, you‚Äôll learn how to write\n      faster Ruby code‚Äîbut that‚Äôs just the beginning. See exactly what makes\n      Ruby and Rails code slow, and how to fix it. Alex Dymo will guide you\n      through perils of memory and CPU optimization, profiling, measuring,\n      performance testing, garbage collection, and tuning. You‚Äôll find that\n      all those ‚Äúhard‚Äù things aren‚Äôt so difficult after all, and your code\n      will run orders of magnitude faster.\n      </p>\n        <div class=\"price_line\">\n          <span class=\"price\">$46.00</span>\n          <form class=\"button_to\" method=\"post\" action=\"/line_items?product_id=5\"><input type=\"submit\" value=\"Add to Cart\" /><input type=\"hidden\" name=\"authenticity_token\" value=\"iwOBKizC2OePoKDwLLIJlo5gL00UmY03VoL/oTtZ4koz/ys/ywqMIaN9KoRRHXp3+an4MgVeCQAhWGiZZvhE1Q==\" /></form>\n        </div>\n      </div>\n"}
Redirected to http://localhost:3000/products/3
Completed 302 Found in 190ms (ActiveRecord: 57.1ms | Allocations: 10662)


Started GET "/products/3" for 127.0.0.1 at 2020-12-28 18:21:40 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:85:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 1.3ms | Allocations: 300)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 15.2ms | ActiveRecord: 0.6ms | Allocations: 5122)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-28 18:21:49 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"zOoJwYgiqi0J02hDsV1T64xyk7jaj7rokIPooC5x3bIftnHSysbfngy6zZeXLl4BOACdrtHFOSX58ICh3ZAGGw==", "product_id"=>"3"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 2, `line_items`.`updated_at` = '2020-12-28 12:21:49.745641' WHERE `line_items`.`id` = 19[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (57.1ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 82ms (ActiveRecord: 60.4ms | Allocations: 6115)


Started GET "/" for 127.0.0.1 at 2020-12-28 18:21:49 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228122140063727 (3.7ms)
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201228122140063727 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.3ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228122140063727 (0.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 11.1ms | Allocations: 1946)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 11 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.3ms | Allocations: 922)
  Rendered carts/_cart.html.erb (Duration: 11.4ms | Allocations: 2046)
Completed 200 OK in 41ms (Views: 34.5ms | ActiveRecord: 4.0ms | Allocations: 9542)


Started GET "/" for 127.0.0.1 at 2020-12-28 19:03:00 +0600
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-28 13:03:01.047424', '2020-12-28 13:03:01.047424')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (72.1ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228122140063727 (6.9ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201228122140063727 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201228122140063727 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.1ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.1ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228122140063727 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 116.1ms | Allocations: 18324)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.5ms | Allocations: 1446)
Completed 200 OK in 272ms (Views: 142.4ms | ActiveRecord: 78.8ms | Allocations: 37359)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-28 19:03:05 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"nUrAJhVatveC6T7NQAI1q06se6VkwHHtLG4GM4y1+A5V2ngc0LAAa/1p0ycZsPzLYt1PeJHrVpn48/j5B4HA6w==", "product_id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 12, '2020-12-28 13:03:05.812362', '2020-12-28 13:03:05.812362')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (177.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 215ms (ActiveRecord: 182.5ms | Allocations: 10709)


Started GET "/" for 127.0.0.1 at 2020-12-28 19:03:06 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228122140063727 (2.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.8ms | Allocations: 1090)
  Rendered carts/_cart.html.erb (Duration: 9.0ms | Allocations: 2394)
Completed 200 OK in 26ms (Views: 20.6ms | ActiveRecord: 2.7ms | Allocations: 8872)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-28 19:03:09 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"h2j6qErvjb33AeFJvTXauUgH24ZsgPB1JRQXkZ31aZxP+EKSjwU7IYiBDKPkhxPZZHbvW5mr1wHxielbFsFReQ==", "product_id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 2, `line_items`.`updated_at` = '2020-12-28 13:03:09.220436' WHERE `line_items`.`id` = 20[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (93.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 117ms (ActiveRecord: 96.5ms | Allocations: 6008)


Started GET "/" for 127.0.0.1 at 2020-12-28 19:03:09 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228122140063727 (3.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 939)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.2ms | Allocations: 922)
  Rendered carts/_cart.html.erb (Duration: 7.8ms | Allocations: 2040)
Completed 200 OK in 26ms (Views: 20.5ms | ActiveRecord: 3.0ms | Allocations: 8535)


Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-28 19:03:10 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"PLaZSG2apii8+zOmTvxEOFGkxIKx8+IPzudRui0sNaX0JiFyqHAQtMN73kwXTo1YfdXwX0TYxXsaeq9wphgNQA==", "product_id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 3, `line_items`.`updated_at` = '2020-12-28 13:03:10.085630' WHERE `line_items`.`id` = 20[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (74.2ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 98ms (ActiveRecord: 77.3ms | Allocations: 5970)


Started GET "/" for 127.0.0.1 at 2020-12-28 19:03:10 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228122140063727 (3.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.4ms | Allocations: 922)
  Rendered carts/_cart.html.erb (Duration: 6.4ms | Allocations: 2040)
Completed 200 OK in 28ms (Views: 21.8ms | ActiveRecord: 2.3ms | Allocations: 8513)


Started DELETE "/carts/12" for 127.0.0.1 at 2020-12-28 19:03:13 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"1VeUJw5Fj7Ak6HA7r1fvE2GOkH2Bhby9M4E2MX6+/7gdxywdy685LFtondH25SZzTf+koHSum8nnHMj79YrHXQ==", "id"=>"12"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 20[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (1.0ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 12[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (93.7ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 114ms (ActiveRecord: 97.7ms | Allocations: 5123)


Started GET "/" for 127.0.0.1 at 2020-12-28 19:03:13 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-28 13:03:13.824899', '2020-12-28 13:03:13.824899')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (72.2ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228122140063727 (6.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 13 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 13[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 1068)
Completed 200 OK in 109ms (Views: 23.2ms | ActiveRecord: 75.4ms | Allocations: 9585)


Started GET "/" for 127.0.0.1 at 2020-12-29 10:33:07 +0600
  [1m[35m (46.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (20.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-29 04:33:07.965181', '2020-12-29 04:33:07.965181')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (47.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (17.3ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228122140063727 (25.5ms)
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201228122140063727 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201228122140063727 (0.8ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201223115657759813 (0.8ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201223115657694369 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228122140063727 (0.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 592.0ms | Allocations: 18329)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/nascenia/myrails/depot/public/packs
[Webpacker] Hash: 902e7ee3ab62b9ce8fc4
Version: webpack 4.44.2
Time: 10105ms
Built at: 12/29/2020 10:33:26 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-fc5d0c3192eccf2f33c0.js    146 KiB  application  [emitted] [immutable]  application
js/application-fc5d0c3192eccf2f33c0.js.map    164 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-fc5d0c3192eccf2f33c0.js js/application-fc5d0c3192eccf2f33c0.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 416 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 4 hidden modules

  [1m[36mLineItem Exists? (35.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 14 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 14[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 29.5ms | Allocations: 1446)
Completed 200 OK in 18964ms (Views: 18688.8ms | ActiveRecord: 182.5ms | Allocations: 38650)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 10:33:27 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:33:27 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:33:32 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-29 10:33:32 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"2JHDbjmj2G1nXNEiAz6xTpwVSDgSuBB/GrGbFuN3eFhziEm+KkRLSaF+P6TR+k8C6FJxkImW2SpH7yVWHCdNdw==", "product_id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 14 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 14 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 14, '2020-12-29 04:33:32.653804', '2020-12-29 04:33:32.653804')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (47.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 82ms (ActiveRecord: 51.1ms | Allocations: 10715)


Started GET "/" for 127.0.0.1 at 2020-12-29 10:33:32 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 14 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228122140063727 (3.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 14 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 14[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 18.1ms | Allocations: 1091)
  Rendered carts/_cart.html.erb (Duration: 21.7ms | Allocations: 2395)
Completed 200 OK in 40ms (Views: 34.7ms | ActiveRecord: 2.4ms | Allocations: 8875)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 10:33:32 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:33:32 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:33:46 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-29 10:33:46 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Uwy4M+CP9WRFBrOHgZQrylLJkOyj/NSIJTzbU5bgHIP4FTLj82hmQIMkXQFTUNWGJo6pRDjSHd14YmUTabAprA==", "product_id"=>"5"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 14 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 14 AND `line_items`.`product_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (1.1ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 14, '2020-12-29 04:33:46.762491', '2020-12-29 04:33:46.762491')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (440.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 465ms (ActiveRecord: 444.3ms | Allocations: 6024)


Started GET "/" for 127.0.0.1 at 2020-12-29 10:33:47 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 14 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228122140063727 (3.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 939)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 14 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 14[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 6.3ms | Allocations: 1840)
  Rendered carts/_cart.html.erb (Duration: 9.9ms | Allocations: 2975)
Completed 200 OK in 30ms (Views: 23.8ms | ActiveRecord: 3.2ms | Allocations: 9454)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 10:33:47 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:33:47 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:33:49 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=4" for 127.0.0.1 at 2020-12-29 10:33:49 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"CFjeCpDXo7XRwY+Z1ttswyRxf9r1SADd+2thWvQWX52jQVTagzAwkRfjYR8EH5KPUDZGcm5myYimNd8aC0Zqsg==", "product_id"=>"4"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 14 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 14 AND `line_items`.`product_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (145.8ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 14, '2020-12-29 04:33:49.216191', '2020-12-29 04:33:49.216191')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (355.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 527ms (ActiveRecord: 504.3ms | Allocations: 6009)


Started GET "/" for 127.0.0.1 at 2020-12-29 10:33:49 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 14 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228122140063727 (3.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 14 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 14[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 10.9ms | Allocations: 2758)
  Rendered carts/_cart.html.erb (Duration: 15.2ms | Allocations: 3909)
Completed 200 OK in 37ms (Views: 28.8ms | ActiveRecord: 4.1ms | Allocations: 10383)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 10:33:49 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:33:49 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:33:56 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/14" for 127.0.0.1 at 2020-12-29 10:33:56 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"yW74r+RxN+GSoZDLGpb0PBQy3IF/rxdGYLeG5tAcpTpid3J/95akxVSDfk3IUgpwYHXlKeSB3hM96TimL0yQFQ==", "id"=>"14"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 14 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 14[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.7ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 20[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 21[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 22[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (99.8ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 14[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (52.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 181ms (ActiveRecord: 155.6ms | Allocations: 7138)


Started GET "/" for 127.0.0.1 at 2020-12-29 10:33:56 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-29 04:33:56.800890', '2020-12-29 04:33:56.800890')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (55.2ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228122140063727 (16.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 17.2ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 15 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 15[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.8ms | Allocations: 1068)
Completed 200 OK in 99ms (Views: 31.0ms | ActiveRecord: 57.9ms | Allocations: 9614)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 10:33:56 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:33:56 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:33:59 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-29 10:33:59 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"VPpOtOKejbcQg58GLhmCfwUd/YcB0Xj4IV37Qr45pXD/48Rk8Xkek9ahcYD83XwzcVrEL5r/sa18A0UCQWmQXw==", "product_id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 15 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 15 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (2.7ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 15, '2020-12-29 04:33:59.068515', '2020-12-29 04:33:59.068515')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (202.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 258ms (ActiveRecord: 208.2ms | Allocations: 6011)


Started GET "/" for 127.0.0.1 at 2020-12-29 10:33:59 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 15 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201228122140063727 (2.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 15 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 15[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.5ms | Allocations: 922)
  Rendered carts/_cart.html.erb (Duration: 5.7ms | Allocations: 2040)
Completed 200 OK in 23ms (Views: 18.4ms | ActiveRecord: 2.1ms | Allocations: 8509)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 10:33:59 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:33:59 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:34:19 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-29 10:34:21 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:34:21 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:34:22 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-29 10:34:23 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:34:23 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:34:25 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-29 10:34:26 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:34:26 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:34:35 +0600
ProductsChannel stopped streaming from products
Started GET "/store" for 127.0.0.1 at 2020-12-29 10:34:35 +0600
  
ActionController::RoutingError (No route matches [GET] "/store"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/line_items" for 127.0.0.1 at 2020-12-29 10:35:15 +0600
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  ‚Ü≥ app/views/line_items/index.html.erb:15
  Rendered line_items/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1556)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 16.6ms | ActiveRecord: 0.4ms | Allocations: 6296)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 10:35:15 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:35:15 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/line_items/1" for 127.0.0.1 at 2020-12-29 10:35:21 +0600
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:81:in `set_line_item'
  Rendering line_items/show.html.erb within layouts/application
  Rendered line_items/show.html.erb within layouts/application (Duration: 62.6ms | Allocations: 248)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 83ms (Views: 77.8ms | ActiveRecord: 0.6ms | Allocations: 5183)


Started GET "/line_items/new" for 127.0.0.1 at 2020-12-29 10:35:33 +0600
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (Duration: 35.8ms | Allocations: 3246)
  Rendered line_items/new.html.erb within layouts/application (Duration: 37.5ms | Allocations: 3574)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 46.8ms | ActiveRecord: 0.0ms | Allocations: 7722)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:35:38 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items" for 127.0.0.1 at 2020-12-29 10:35:38 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"H24MU1M2kURdKxlP8+s21yjwQb0y7ESb462HL2Tl/QZByHZGnVhUFRUuxucAdqxqfqZpNwSbqjaoc8GCZ7jbBA==", "line_item"=>{"product_id"=>"2", "cart_id"=>"1"}, "commit"=>"Create Line item"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 15 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Completed 404 Not Found in 4ms (ActiveRecord: 0.4ms | Allocations: 1259)


  
ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  
app/controllers/line_items_controller.rb:37:in `create'
Started GET "/line_items/new" for 127.0.0.1 at 2020-12-29 10:35:46 +0600
Processing by LineItemsController#new as HTML
  Rendering line_items/new.html.erb within layouts/application
  Rendered line_items/_form.html.erb (Duration: 3.5ms | Allocations: 707)
  Rendered line_items/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 789)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.6ms | ActiveRecord: 0.0ms | Allocations: 4892)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 10:35:46 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 10:35:46 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/line_items" for 127.0.0.1 at 2020-12-29 10:35:48 +0600
Processing by LineItemsController#index as HTML
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items`[0m
  ‚Ü≥ app/views/line_items/index.html.erb:15
  Rendered line_items/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1187)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 0.5ms | Allocations: 5284)


Started GET "/line_items/1/edit" for 127.0.0.1 at 2020-12-29 10:35:52 +0600
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:81:in `set_line_item'
  Rendering line_items/edit.html.erb within layouts/application
  Rendered line_items/_form.html.erb (Duration: 3.2ms | Allocations: 782)
  Rendered line_items/edit.html.erb within layouts/application (Duration: 50.8ms | Allocations: 1020)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 67ms (Views: 62.6ms | ActiveRecord: 0.6ms | Allocations: 5810)


  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (358.6ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (50.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderToLineItem (20201229044701)
  [1m[35m (1009.7ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint NOT NULL[0m
  [1m[35m (427.3ms)[0m  [1m[35mCREATE  INDEX `index_line_items_on_order_id`  ON `line_items` (`order_id`) [0m
  [1m[35m (807.2ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_2dc2e5c22c`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddOrderToLineItem (20201229044701)
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint NOT NULL[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (218.3ms)[0m  [1m[35mDROP TABLE `orders`[0m
  [1m[36mprimary::SchemaMigration Destroy (48.1ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20201229044643'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (464.5ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (57.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderToLineItem (20201229044701)
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 11:05:30 +0600
Started GET "/" for 127.0.0.1 at 2020-12-29 11:05:30 +0600
ProductsChannel stopped streaming from products
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2020-12-29 11:07:51 +0600
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (249.0ms)[0m  [1m[35mDROP TABLE `orders`[0m
  [1m[36mprimary::SchemaMigration Destroy (49.5ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20201229044643'[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (368.3ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (61.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderToLineItem (20201229044701)
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint NOT NULL[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (217.9ms)[0m  [1m[35mDROP TABLE `orders`[0m
  [1m[36mprimary::SchemaMigration Destroy (92.7ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20201229044643'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (367.8ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (58.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderToLineItem (20201229044701)
  [1m[35m (4.2ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (241.5ms)[0m  [1m[35mDROP TABLE `orders`[0m
  [1m[36mprimary::SchemaMigration Destroy (56.7ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20201229044643'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (364.2ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (56.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (16.2ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (14.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to RemoveorderIdFromlineItems (20201229053342)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229053342')[0m
  [1m[35m (93.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.7ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddOrderToLineItem (20201229054452)
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddOrderToLineItem (20201229054452)
  [1m[35m (4.2ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` int NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (374.6ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (373.7ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (491.3ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (53.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (353.6ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (86.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (600.3ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (46.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (928.8ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (58.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (49.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (457.3ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (94.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderToLineItem (20201229054452)
  [1m[35m (694.0ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` int NOT NULL[0m
  [1m[35m (390.7ms)[0m  [1m[35mCREATE  INDEX `index_line_items_on_order_id`  ON `line_items` (`order_id`) [0m
  [1m[35m (491.4ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_2dc2e5c22c`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (423.1ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (384.7ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (335.2ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (49.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (461.8ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (107.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (625.6ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (53.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (734.5ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (92.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (60.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (342.9ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (44.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-12-29 06:06:52.414542', '2020-12-29 06:06:52.414542')[0m
  [1m[35m (45.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddOrderToLineItem (20201229060931)
  [1m[35m (821.1ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint NOT NULL[0m
  [1m[35m (325.8ms)[0m  [1m[35mCREATE  INDEX `index_line_items_on_order_id`  ON `line_items` (`order_id`) [0m
  [1m[35m (999.6ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_2dc2e5c22c`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229060931')[0m
  [1m[35m (46.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-29 12:10:39 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 15 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-29 06:10:40.172569', '2020-12-29 06:10:40.172569')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (74.1ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-0 (2.9ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-0 (0.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 2600)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 10.7ms | Allocations: 3293)
Completed 200 OK in 727ms (Views: 614.4ms | ActiveRecord: 80.7ms | Allocations: 55869)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:10:41 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:10:41 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:10:47 +0600
ProductsChannel stopped streaming from products
Started GET "/products" for 127.0.0.1 at 2020-12-29 12:10:47 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 991)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 17.9ms | ActiveRecord: 0.6ms | Allocations: 5764)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:10:47 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:10:47 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products/new" for 127.0.0.1 at 2020-12-29 12:10:49 +0600
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 58.6ms | Allocations: 2091)
  Rendered products/new.html.erb within layouts/application (Duration: 85.9ms | Allocations: 2420)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 116ms (Views: 97.1ms | ActiveRecord: 0.7ms | Allocations: 9991)


  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM `products`[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:11)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Rails, Angular, Postgres, and Bootstrap', '<p>\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\n      As a Rails developer, you care about user experience and performance,\n      but you also want simple and maintainable code. Achieve all that by\n      embracing the full stack of web development, from styling with\n      Bootstrap, building an interactive user interface with AngularJS, to\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\n      full-stack development to create usable, high-performing applications,\n      and learn to use these technologies effectively in a Ruby on Rails\n      environment.\n      </p>', 'dcbang.jpg', 45.0, '2020-12-29 06:11:12.099450', '2020-12-29 06:11:12.099450')[0m
  [1m[35m (53.7ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:27)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Seven Mobile Apps in Seven Weeks' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps in Seven Weeks', '<p>\n      <em>Native Apps, Multiple Platforms</em>\n      Answer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\n      resounding YES. This book will help you get there with a real-world\n      introduction to seven platforms, whether you‚Äôre new to mobile or an\n      experienced developer needing to expand your options. Plus, you‚Äôll find\n      out which cross-platform solution makes the most sense for your needs.\n      </p>', '7apps.jpg', 26.0, '2020-12-29 06:11:12.179824', '2020-12-29 06:11:12.179824')[0m
  [1m[35m (107.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:41)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Ruby Performance Optimization' LIMIT 1[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Ruby Performance Optimization', '<p>\n      <em>Why Ruby Is Slow, and How to Fix It</em>\n      You don‚Äôt have to accept slow Ruby or Rails performance. In this\n      comprehensive guide to Ruby optimization, you‚Äôll learn how to write\n      faster Ruby code‚Äîbut that‚Äôs just the beginning. See exactly what makes\n      Ruby and Rails code slow, and how to fix it. Alex Dymo will guide you\n      through perils of memory and CPU optimization, profiling, measuring,\n      performance testing, garbage collection, and tuning. You‚Äôll find that\n      all those ‚Äúhard‚Äù things aren‚Äôt so difficult after all, and your code\n      will run orders of magnitude faster.\n      </p>', 'adrpo.jpg', 46.0, '2020-12-29 06:11:12.313454', '2020-12-29 06:11:12.313454')[0m
  [1m[35m (89.4ms)[0m  [1m[35mCOMMIT[0m
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:11:32 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:11:32 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:11:32 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:11:34 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-29 12:11:34 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229061112313454 (5.9ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201229061112099450 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201229061112099450 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201229061112313454 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201229061112313454 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201229061112179824 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201229061112179824 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229061112313454 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 25.8ms | Allocations: 4847)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 1116)
Completed 200 OK in 47ms (Views: 40.1ms | ActiveRecord: 2.9ms | Allocations: 11481)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:11:34 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:11:34 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:11:36 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-29 12:11:36 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"xaS5Mh5mTZVH1rLLliC1ehZKJzoNQdlj38V6FA6ttIBuvTPiDYHesYH0XE1E5Es2Yg0ekpZvEDaCm8RU8f2Brw==", "product_id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.9ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-29 06:11:37.025491', '2020-12-29 06:11:37.025491')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 4.1ms | Allocations: 11834)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Field 'order_id' doesn't have a default value):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:11:54 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:11:54 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:11:56 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-29 12:11:56 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"xaS5Mh5mTZVH1rLLliC1ehZKJzoNQdlj38V6FA6ttIBuvTPiDYHesYH0XE1E5Es2Yg0ekpZvEDaCm8RU8f2Brw==", "product_id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (1.1ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, '2020-12-29 06:11:56.327530', '2020-12-29 06:11:56.327530')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 3.7ms | Allocations: 7039)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Field 'order_id' doesn't have a default value):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:12:02 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:12:02 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:12:39 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-29 12:12:39 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"xaS5Mh5mTZVH1rLLliC1ehZKJzoNQdlj38V6FA6ttIBuvTPiDYHesYH0XE1E5Es2Yg0ekpZvEDaCm8RU8f2Brw==", "product_id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (2.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.9ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-29 06:12:39.549797', '2020-12-29 06:12:39.549797')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 5.5ms | Allocations: 6965)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Field 'order_id' doesn't have a default value):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/" for 127.0.0.1 at 2020-12-29 12:14:08 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229061112313454 (3.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 942)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.5ms | Allocations: 1136)
Completed 200 OK in 31ms (Views: 24.3ms | ActiveRecord: 2.6ms | Allocations: 7731)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:14:08 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:14:08 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:15:53 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-29 12:15:53 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"+O9Z+6be2euNi2/eX1ssQ0jpnnnhM+/TFMJCpMOxdUJT9tMrtTlKz0upgViNn9IPPK6n0XodJoZJnPzkPOFAbQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (2.7ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-29 06:15:53.951258', '2020-12-29 06:15:53.951258')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 26ms (ActiveRecord: 5.7ms | Allocations: 6943)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Field 'order_id' doesn't have a default value):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:18:49 +0600
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:18:49 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:18:50 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-29 12:18:50 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"+O9Z+6be2euNi2/eX1ssQ0jpnnnhM+/TFMJCpMOxdUJT9tMrtTlKz0upgViNn9IPPK6n0XodJoZJnPzkPOFAbQ==", "product_id"=>"1"}
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (1.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (1.6ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (1.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-29 06:18:51.008338', '2020-12-29 06:18:51.008338')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 9.8ms | Allocations: 6944)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Field 'order_id' doesn't have a default value):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:19:11 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:19:11 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:19:12 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-29 12:19:12 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"+O9Z+6be2euNi2/eX1ssQ0jpnnnhM+/TFMJCpMOxdUJT9tMrtTlKz0upgViNn9IPPK6n0XodJoZJnPzkPOFAbQ==", "product_id"=>"1"}
  [1m[36mCart Load (2.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (1.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-29 06:19:12.648342', '2020-12-29 06:19:12.648342')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 87ms (ActiveRecord: 12.9ms | Allocations: 20111)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Field 'order_id' doesn't have a default value):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
  [1m[35m (2.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (2.0ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (407.9ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (437.5ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (534.3ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (49.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (382.2ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (103.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (567.5ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (47.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (956.9ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (57.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (56.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (488.1ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (45.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderToLineItem (20201229060931)
  [1m[35m (688.4ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint DEFAULT 1 NOT NULL[0m
  [1m[35m (319.5ms)[0m  [1m[35mCREATE  INDEX `index_line_items_on_order_id`  ON `line_items` (`order_id`) [0m
  [1m[35m (1135.3ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_2dc2e5c22c`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229060931')[0m
  [1m[35m (53.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-12-29 06:20:37.434275', '2020-12-29 06:20:37.434275')[0m
  [1m[35m (55.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:20:54 +0600
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:20:55 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mProduct Destroy (0.5ms)[0m  [1m[31mDELETE FROM `products`[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:11)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' LIMIT 1[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Rails, Angular, Postgres, and Bootstrap', '<p>\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\n      As a Rails developer, you care about user experience and performance,\n      but you also want simple and maintainable code. Achieve all that by\n      embracing the full stack of web development, from styling with\n      Bootstrap, building an interactive user interface with AngularJS, to\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\n      full-stack development to create usable, high-performing applications,\n      and learn to use these technologies effectively in a Ruby on Rails\n      environment.\n      </p>', 'dcbang.jpg', 45.0, '2020-12-29 06:20:58.318436', '2020-12-29 06:20:58.318436')[0m
  [1m[35m (120.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:27)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Seven Mobile Apps in Seven Weeks' LIMIT 1[0m
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps in Seven Weeks', '<p>\n      <em>Native Apps, Multiple Platforms</em>\n      Answer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\n      resounding YES. This book will help you get there with a real-world\n      introduction to seven platforms, whether you‚Äôre new to mobile or an\n      experienced developer needing to expand your options. Plus, you‚Äôll find\n      out which cross-platform solution makes the most sense for your needs.\n      </p>', '7apps.jpg', 26.0, '2020-12-29 06:20:58.475565', '2020-12-29 06:20:58.475565')[0m
  [1m[35m (98.0ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:41)
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Ruby Performance Optimization' LIMIT 1[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Ruby Performance Optimization', '<p>\n      <em>Why Ruby Is Slow, and How to Fix It</em>\n      You don‚Äôt have to accept slow Ruby or Rails performance. In this\n      comprehensive guide to Ruby optimization, you‚Äôll learn how to write\n      faster Ruby code‚Äîbut that‚Äôs just the beginning. See exactly what makes\n      Ruby and Rails code slow, and how to fix it. Alex Dymo will guide you\n      through perils of memory and CPU optimization, profiling, measuring,\n      performance testing, garbage collection, and tuning. You‚Äôll find that\n      all those ‚Äúhard‚Äù things aren‚Äôt so difficult after all, and your code\n      will run orders of magnitude faster.\n      </p>', 'adrpo.jpg', 46.0, '2020-12-29 06:20:58.611546', '2020-12-29 06:20:58.611546')[0m
  [1m[35m (54.7ms)[0m  [1m[35mCOMMIT[0m
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:21:06 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-29 12:21:06 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"+O9Z+6be2euNi2/eX1ssQ0jpnnnhM+/TFMJCpMOxdUJT9tMrtTlKz0upgViNn9IPPK6n0XodJoZJnPzkPOFAbQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-29 06:21:06.669414', '2020-12-29 06:21:06.669414')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (88.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (10.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-29 06:21:06.822366', '2020-12-29 06:21:06.822366')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (105.0ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 293ms (ActiveRecord: 214.2ms | Allocations: 22190)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:22:37 +0600
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:22:37 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:22:38 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-29 12:22:38 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"+O9Z+6be2euNi2/eX1ssQ0jpnnnhM+/TFMJCpMOxdUJT9tMrtTlKz0upgViNn9IPPK6n0XodJoZJnPzkPOFAbQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (4.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-29 06:22:38.885296', '2020-12-29 06:22:38.885296')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (50.7ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 141ms (ActiveRecord: 62.2ms | Allocations: 19592)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
  [1m[35m (14.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:32:37 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:32:37 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:32:49 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-29 12:32:49 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (1.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229062058611546 (4.7ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201229062058318436 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201229062058318436 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201229062058611546 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201229062058611546 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201229062058475565 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201229062058475565 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229062058611546 (0.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 35.5ms | Allocations: 8074)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.8ms | Allocations: 1345)
Completed 200 OK in 82ms (Views: 56.9ms | ActiveRecord: 8.4ms | Allocations: 20540)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:32:49 +0600
  [1m[35m (3.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:32:49 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:32:51 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-29 12:32:51 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"um7LLUghLgCTdC/n3FBFj6/U49T7aeFMHDT4JTqAKicRd0H9W8a9JFVWwWEOlLvD25PafGBHKBlBakZlxdAfCA==", "product_id"=>"1"}
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (1.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-29 06:32:51.371037', '2020-12-29 06:32:51.371037')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (78.6ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 122ms (ActiveRecord: 83.9ms | Allocations: 11406)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:40:20 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:40:20 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:40:23 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-29 12:40:23 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"um7LLUghLgCTdC/n3FBFj6/U49T7aeFMHDT4JTqAKicRd0H9W8a9JFVWwWEOlLvD25PafGBHKBlBakZlxdAfCA==", "product_id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (10.1ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-29 06:40:23.945668', '2020-12-29 06:40:23.945668')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (121.6ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 213ms (ActiveRecord: 139.4ms | Allocations: 20011)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
  [1m[35m (1.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/products" for 127.0.0.1 at 2020-12-29 12:46:11 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 28.0ms | Allocations: 7277)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 38.5ms | ActiveRecord: 0.4ms | Allocations: 13464)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:46:11 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:46:11 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products/1" for 127.0.0.1 at 2020-12-29 12:46:14 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:85:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 58.5ms | Allocations: 302)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 78ms (Views: 72.2ms | ActiveRecord: 0.6ms | Allocations: 5282)


Started GET "/products/2/edit" for 127.0.0.1 at 2020-12-29 12:46:29 +0600
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:85:in `set_product'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 7.3ms | Allocations: 1539)
  Rendered products/edit.html.erb within layouts/application (Duration: 10.9ms | Allocations: 1915)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 23.0ms | ActiveRecord: 1.3ms | Allocations: 6760)


Started GET "/products/3" for 127.0.0.1 at 2020-12-29 12:46:35 +0600
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:85:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 94)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 12.5ms | ActiveRecord: 0.5ms | Allocations: 4800)


Started GET "/carts" for 127.0.0.1 at 2020-12-29 12:46:44 +0600
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:46:44 +0600
ProductsChannel stopped streaming from products
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  ‚Ü≥ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 28.6ms | Allocations: 2432)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 40.7ms | ActiveRecord: 0.4ms | Allocations: 7844)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:46:44 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:46:44 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/carts/1" for 127.0.0.1 at 2020-12-29 12:46:47 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 12.5ms | Allocations: 2960)
  Rendered carts/show.html.erb within layouts/application (Duration: 14.4ms | Allocations: 3300)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 1.6ms | Allocations: 358)
Completed 200 OK in 37ms (Views: 31.9ms | ActiveRecord: 1.3ms | Allocations: 8608)


Started GET "/carts/new" for 127.0.0.1 at 2020-12-29 12:46:56 +0600
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 3.0ms | Allocations: 570)
  Rendered carts/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 891)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 357)
Completed 200 OK in 33ms (Views: 31.5ms | ActiveRecord: 0.0ms | Allocations: 5990)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:46:58 +0600
ProductsChannel stopped streaming from products
Started POST "/carts" for 127.0.0.1 at 2020-12-29 12:46:58 +0600
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"OeJJCh9eZDMhKu6Rz6Sknh9TMyEbPDpn70MUF/T0HakKDzMK0pbfpTQVmtnZNBL+CCyrhKIEFJBG3myMzovKmw==", "commit"=>"Create Cart"}
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:38:in `block in create'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-29 06:46:58.349227', '2020-12-29 06:46:58.349227')[0m
  ‚Ü≥ app/controllers/carts_controller.rb:38:in `block in create'
  [1m[35m (117.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/2
Completed 302 Found in 128ms (ActiveRecord: 118.8ms | Allocations: 2879)


Started GET "/carts/2" for 127.0.0.1 at 2020-12-29 12:46:58 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.5ms | Allocations: 1219)
  Rendered carts/show.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1308)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 1.2ms | Allocations: 358)
Completed 200 OK in 21ms (Views: 16.8ms | ActiveRecord: 0.8ms | Allocations: 6491)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:46:58 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:46:58 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:47:06 +0600
ProductsChannel stopped streaming from products
Started GET "/carts/new" for 127.0.0.1 at 2020-12-29 12:47:06 +0600
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 0.9ms | Allocations: 319)
  Rendered carts/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 401)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 1.6ms | Allocations: 355)
Completed 200 OK in 16ms (Views: 14.8ms | ActiveRecord: 0.0ms | Allocations: 5150)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:47:06 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:47:06 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:47:07 +0600
ProductsChannel stopped streaming from products
Started POST "/carts" for 127.0.0.1 at 2020-12-29 12:47:07 +0600
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"9PrXm5Ztn2RLvZ0wioTUJjItBT4kD+VV1FvXOUbL2nFf411LhYoMQI2fc7ZYQCpqRmo8lr8hLACJBWl5uZvvXg==", "commit"=>"Create Cart"}
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:38:in `block in create'
  [1m[36mCart Create (1.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-29 06:47:07.367424', '2020-12-29 06:47:07.367424')[0m
  ‚Ü≥ app/controllers/carts_controller.rb:38:in `block in create'
  [1m[35m (90.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 103ms (ActiveRecord: 92.7ms | Allocations: 2691)


Started GET "/carts/3" for 127.0.0.1 at 2020-12-29 12:47:07 +0600
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.2ms | Allocations: 1218)
  Rendered carts/show.html.erb within layouts/application (Duration: 5.9ms | Allocations: 1306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 1.3ms | Allocations: 358)
Completed 200 OK in 22ms (Views: 18.2ms | ActiveRecord: 1.3ms | Allocations: 6474)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:47:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:47:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:47:17 +0600
Started GET "/" for 127.0.0.1 at 2020-12-29 12:47:17 +0600
ProductsChannel stopped streaming from products
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229062058611546 (3.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 1423)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.3ms | Allocations: 1128)
Completed 200 OK in 31ms (Views: 24.7ms | ActiveRecord: 2.4ms | Allocations: 8757)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:47:17 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:47:17 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:47:19 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-29 12:47:19 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"BULPhs2ScGLyo1uNog1OpSvRLORU56f/tjd6W+rxZQCuW0VW3nXjRjSBtQtwybDpX5YVTM/JbqrracQbFaFQLw==", "product_id"=>"1"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (2.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-29 06:47:19.667208', '2020-12-29 06:47:19.667208')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (68.5ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 110ms (ActiveRecord: 73.8ms | Allocations: 11266)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/orders" for 127.0.0.1 at 2020-12-29 12:47:39 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  ‚Ü≥ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 1288)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 15.5ms | ActiveRecord: 1.4ms | Allocations: 7103)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:47:39 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:47:39 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-29 12:47:42 +0600
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 69.0ms | Allocations: 1754)
  Rendered orders/new.html.erb within layouts/application (Duration: 71.1ms | Allocations: 2075)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 106ms (Views: 90.7ms | ActiveRecord: 0.7ms | Allocations: 9668)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:47:56 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-29 12:47:56 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"/h+qRGlfPWSHhGqy93Hxgn6qwfWVlfFff8PPtaJDcKKOnLG2r8y0+62hXJvkq2U+k+l6n+z2paKLP+9xQlZ7EQ==", "order"=>{"name"=>"M", "address"=>"ddd", "email"=>"ssss", "pay_type"=>"1"}, "commit"=>"Create Order"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 842)


  
ArgumentError ('1' is not a valid pay_type):
  
app/controllers/orders_controller.rb:27:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-12-29 12:48:29 +0600
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.9ms | Allocations: 1063)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1145)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 0.0ms | Allocations: 5311)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:48:29 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:48:29 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:48:41 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-29 12:48:41 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"zPLdtY7j8R0KnyC/W4L2x+L/QHHImUhsvyu/Pahm+LRn61dlnQRiOcy9zjmJRgiLlrh52VO3gTnidQF9VzbNmw==", "order"=>{"name"=>"gtg", "address"=>"gttg", "email"=>"gtgtg", "pay_type"=>"0"}, "commit"=>"Create Order"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 802)


  
ArgumentError ('0' is not a valid pay_type):
  
app/controllers/orders_controller.rb:27:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-12-29 12:50:46 +0600
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.5ms | Allocations: 1063)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1145)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 16.7ms | ActiveRecord: 0.0ms | Allocations: 5302)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:50:46 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:50:46 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for 127.0.0.1 at 2020-12-29 12:50:47 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (2.3ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  ‚Ü≥ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 688)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 16.5ms | ActiveRecord: 2.3ms | Allocations: 4814)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:50:47 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:50:48 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:50:48 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:55:45 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-29 12:55:45 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"BULPhs2ScGLyo1uNog1OpSvRLORU56f/tjd6W+rxZQCuW0VW3nXjRjSBtQtwybDpX5YVTM/JbqrracQbFaFQLw==", "product_id"=>"1"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (2.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (1.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-29 06:55:45.567336', '2020-12-29 06:55:45.567336')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (48.4ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 80ms (ActiveRecord: 54.8ms | Allocations: 6943)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:55:49 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:55:49 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:55:50 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=2" for 127.0.0.1 at 2020-12-29 12:55:51 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"BULPhs2ScGLyo1uNog1OpSvRLORU56f/tjd6W+rxZQCuW0VW3nXjRjSBtQtwybDpX5YVTM/JbqrracQbFaFQLw==", "product_id"=>"2"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (1.8ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (2, 1, '2020-12-29 06:55:51.024223', '2020-12-29 06:55:51.024223')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (72.0ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 97ms (ActiveRecord: 76.9ms | Allocations: 6942)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:56:48 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:56:48 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:57:01 +0600
ProductsChannel stopped streaming from products
Started GET "/products=1" for 127.0.0.1 at 2020-12-29 12:57:01 +0600
  
ActionController::RoutingError (No route matches [GET] "/products=1"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products" for 127.0.0.1 at 2020-12-29 12:57:11 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 12.6ms | Allocations: 3232)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 27.2ms | ActiveRecord: 0.6ms | Allocations: 7278)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:57:11 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:57:11 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products/1/edit" for 127.0.0.1 at 2020-12-29 12:57:16 +0600
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:85:in `set_product'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 4.4ms | Allocations: 1141)
  Rendered products/edit.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1254)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 13.8ms | ActiveRecord: 0.7ms | Allocations: 5968)


Started GET "/products/1" for 127.0.0.1 at 2020-12-29 12:57:25 +0600
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:57:25 +0600
ProductsChannel stopped streaming from products
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:85:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 0.7ms | Allocations: 92)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 11.4ms | ActiveRecord: 0.5ms | Allocations: 4802)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:57:25 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:57:25 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-29 12:59:43 +0600
Processing by StoreController#index as HTML
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:59:43 +0600
ProductsChannel stopped streaming from products
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229062058611546 (3.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 939)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 1127)
Completed 200 OK in 26ms (Views: 20.6ms | ActiveRecord: 2.1ms | Allocations: 7746)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 12:59:43 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:59:43 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 12:59:46 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-29 12:59:46 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"vMaaSVYOV+/CdvbPTJ4Hxt9QiMToggAgS6DUPz3bSY4X3xCZRenEywRUGEmeWvmKqxexbHOsyXUW/mp/wot8oQ==", "product_id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (2.1ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, '2020-12-29 06:59:46.532480', '2020-12-29 06:59:46.532480')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (58.2ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 85ms (ActiveRecord: 63.5ms | Allocations: 6941)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-29 13:05:52 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"vMaaSVYOV+/CdvbPTJ4Hxt9QiMToggAgS6DUPz3bSY4X3xCZRenEywRUGEmeWvmKqxexbHOsyXUW/mp/wot8oQ==", "product_id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (1.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, '2020-12-29 07:05:53.027756', '2020-12-29 07:05:53.027756')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (88.5ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 153ms (ActiveRecord: 92.9ms | Allocations: 19340)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-29 13:06:01 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"vMaaSVYOV+/CdvbPTJ4Hxt9QiMToggAgS6DUPz3bSY4X3xCZRenEywRUGEmeWvmKqxexbHOsyXUW/mp/wot8oQ==", "product_id"=>"3"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (2.0ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, '2020-12-29 07:06:01.221144', '2020-12-29 07:06:01.221144')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (73.9ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 101ms (ActiveRecord: 78.6ms | Allocations: 6940)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/cable" for 127.0.0.1 at 2020-12-29 13:13:09 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 13:13:09 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 13:13:12 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-29 13:13:13 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 13:13:13 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 13:13:22 +0600
Started GET "/index" for 127.0.0.1 at 2020-12-29 13:13:22 +0600
ProductsChannel stopped streaming from products
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders" for 127.0.0.1 at 2020-12-29 13:13:33 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  ‚Ü≥ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1232)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 15.7ms | ActiveRecord: 0.5ms | Allocations: 6511)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 13:13:33 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 13:13:33 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-29 13:13:36 +0600
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.9ms | Allocations: 1124)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1206)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 14.6ms | ActiveRecord: 0.0ms | Allocations: 8499)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 13:13:50 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-29 13:13:50 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Ao2CKM+bLNdv6uRsZwv5LoSH9uKcF2uua3Rs6FxWnqpyDpnaCQilSEXP0kV00W2SacRNiOV0P1OfiEwsvEOVGQ==", "order"=>{"name"=>"g", "address"=>"g", "email"=>"gee", "pay_type"=>"1"}, "commit"=>"Create Order"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 828)


  
ArgumentError ('1' is not a valid pay_type):
  
app/controllers/orders_controller.rb:27:in `create'
Started GET "/orders/new" for 127.0.0.1 at 2020-12-29 13:16:17 +0600
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.3ms | Allocations: 1063)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1145)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 15.2ms | ActiveRecord: 0.0ms | Allocations: 5297)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 13:16:17 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 13:16:17 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for 127.0.0.1 at 2020-12-29 13:16:18 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  ‚Ü≥ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 686)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.4ms | Allocations: 4810)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 13:16:19 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-29 13:16:20 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 13:16:20 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 13:16:21 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-29 13:16:21 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"vMaaSVYOV+/CdvbPTJ4Hxt9QiMToggAgS6DUPz3bSY4X3xCZRenEywRUGEmeWvmKqxexbHOsyXUW/mp/wot8oQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (1.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-29 07:16:21.632559', '2020-12-29 07:16:21.632559')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (119.9ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 141ms (ActiveRecord: 125.7ms | Allocations: 6947)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/" for 127.0.0.1 at 2020-12-29 13:22:28 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229062058611546 (4.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1037)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.5ms | Allocations: 1356)
Completed 200 OK in 37ms (Views: 30.6ms | ActiveRecord: 2.7ms | Allocations: 8215)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 13:22:29 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 13:22:29 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 13:22:31 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-29 13:22:31 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"rRMYWZlXIGEDHQBRNKqRAINEHFJXyOh9TlyKoE6+nwMGCpKJirCzRcU/7tfmbm9M9wMl+szmISgTAjTgse6qLA==", "product_id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (1.9ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-29 07:22:31.394404', '2020-12-29 07:22:31.394404')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (96.6ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 125ms (ActiveRecord: 101.6ms | Allocations: 6953)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-29 13:26:42 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"rRMYWZlXIGEDHQBRNKqRAINEHFJXyOh9TlyKoE6+nwMGCpKJirCzRcU/7tfmbm9M9wMl+szmISgTAjTgse6qLA==", "product_id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (2.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-29 07:26:42.734424', '2020-12-29 07:26:42.734424')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (82.8ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 151ms (ActiveRecord: 92.1ms | Allocations: 20007)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/" for 127.0.0.1 at 2020-12-29 14:09:41 +0600
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229062058611546 (9.9ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201229062058318436 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201229062058318436 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201229062058611546 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201229062058611546 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201229062058475565 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201229062058475565 (0.4ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229062058611546 (0.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 241.1ms | Allocations: 18630)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.5ms | Allocations: 1515)
Completed 200 OK in 365ms (Views: 304.4ms | ActiveRecord: 8.0ms | Allocations: 35770)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 14:09:41 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 14:09:41 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 14:09:43 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-29 14:09:43 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"FiaUJrbw2c3MQLfrcamGJk4T7UGKlo4y4xeJfmpdGf29Px72pRdK6QpiWW2jbXhqOlTU6RG4R2e+STc+lQ0s0g==", "product_id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (1.8ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-29 08:09:43.800299', '2020-12-29 08:09:43.800299')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (49.4ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 126ms (ActiveRecord: 54.5ms | Allocations: 12031)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/" for 127.0.0.1 at 2020-12-29 14:16:07 +0600
  [1m[35m (2.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229062058611546 (3.6ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201229062058318436 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201229062058318436 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201229062058611546 (0.1ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201229062058611546 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201229062058475565 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201229062058475565 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229062058611546 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 60.7ms | Allocations: 18645)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 7.2ms | Allocations: 1515)
Completed 200 OK in 164ms (Views: 90.8ms | ActiveRecord: 10.5ms | Allocations: 35797)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 14:16:08 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 14:16:08 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 14:16:10 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-29 14:16:10 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"dKqRY/rsN21B2cZIqiY/anhzOZJter4rkvoanyiqIIHfsxuz6QukSYf7KM544sEmDDQAOvZUd37PpKTf1/oVrg==", "product_id"=>"1"}
  [1m[36mCart Load (1.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (2.2ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-29 08:16:10.145752', '2020-12-29 08:16:10.145752')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (92.7ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 141ms (ActiveRecord: 99.4ms | Allocations: 12004)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/cable" for 127.0.0.1 at 2020-12-29 14:23:56 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 14:23:56 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 14:23:57 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-29 14:23:59 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 14:23:59 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 14:24:01 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-29 14:24:01 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"dKqRY/rsN21B2cZIqiY/anhzOZJter4rkvoanyiqIIHfsxuz6QukSYf7KM544sEmDDQAOvZUd37PpKTf1/oVrg==", "product_id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (1.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-29 08:24:01.156212', '2020-12-29 08:24:01.156212')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (105.3ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 169ms (ActiveRecord: 108.9ms | Allocations: 19497)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/cable" for 127.0.0.1 at 2020-12-29 14:33:29 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 14:33:29 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 14:33:31 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-29 14:33:31 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"dKqRY/rsN21B2cZIqiY/anhzOZJter4rkvoanyiqIIHfsxuz6QukSYf7KM544sEmDDQAOvZUd37PpKTf1/oVrg==", "product_id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (2.1ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-29 08:33:31.705318', '2020-12-29 08:33:31.705318')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (60.4ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 123ms (ActiveRecord: 64.9ms | Allocations: 19389)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/" for 127.0.0.1 at 2020-12-29 14:46:09 +0600
  [1m[35m (1.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-4-20201229084411605226 (3.0ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201229084411605226 (0.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 21.4ms | Allocations: 7918)
Completed 500 Internal Server Error in 73ms (ActiveRecord: 4.6ms | Allocations: 15193)


  
ActionView::Template::Error (The asset "http/s/img.jpg" is not present in the asset pipeline.
):
     6:   <% @products.each do |product| %>
     7:     <% cache product do %>
     8:       <div class="entry">
     9:         <%= image_tag(product.image_url) %>
    10:         <h3><%= product.title %></h3>
    11:         <%= sanitize(product.description) %>
    12:         <div class="price_line">
  
app/views/store/index.html.erb:9
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
app/views/store/index.html.erb:5
Started GET "/" for 127.0.0.1 at 2020-12-29 14:46:12 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-4-20201229084411605226 (4.0ms)
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201229084411605226 (0.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 10.6ms | Allocations: 3291)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 2.6ms | Allocations: 4380)


  
ActionView::Template::Error (The asset "http/s/img.jpg" is not present in the asset pipeline.
):
     6:   <% @products.each do |product| %>
     7:     <% cache product do %>
     8:       <div class="entry">
     9:         <%= image_tag(product.image_url) %>
    10:         <h3><%= product.title %></h3>
    11:         <%= sanitize(product.description) %>
    12:         <div class="price_line">
  
app/views/store/index.html.erb:9
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
app/views/store/index.html.erb:5
Started GET "/" for 127.0.0.1 at 2020-12-29 14:47:29 +0600
  [1m[35m (1.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-29 08:47:29.336980', '2020-12-29 08:47:29.336980')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (72.1ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-4-20201229084411605226 (3.6ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/4-20201229084411605226 (0.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 26.0ms | Allocations: 7867)
Completed 500 Internal Server Error in 163ms (ActiveRecord: 77.7ms | Allocations: 17296)


  
ActionView::Template::Error (The asset "http/s/img.jpg" is not present in the asset pipeline.
):
     6:   <% @products.each do |product| %>
     7:     <% cache product do %>
     8:       <div class="entry">
     9:         <%= image_tag(product.image_url) %>
    10:         <h3><%= product.title %></h3>
    11:         <%= sanitize(product.description) %>
    12:         <div class="price_line">
  
app/views/store/index.html.erb:9
app/views/store/index.html.erb:7
app/views/store/index.html.erb:6
app/views/store/index.html.erb:5
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mProduct Destroy (52.8ms)[0m  [1m[31mDELETE FROM `products`[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:11)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Rails, Angular, Postgres, and Bootstrap', '<p>\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\n      As a Rails developer, you care about user experience and performance,\n      but you also want simple and maintainable code. Achieve all that by\n      embracing the full stack of web development, from styling with\n      Bootstrap, building an interactive user interface with AngularJS, to\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\n      full-stack development to create usable, high-performing applications,\n      and learn to use these technologies effectively in a Ruby on Rails\n      environment.\n      </p>', 'dcbang.jpg', 45.0, '2020-12-29 08:51:00.171759', '2020-12-29 08:51:00.171759')[0m
  [1m[35m (49.5ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:27)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Seven Mobile Apps in Seven Weeks' LIMIT 1[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps in Seven Weeks', '<p>\n      <em>Native Apps, Multiple Platforms</em>\n      Answer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\n      resounding YES. This book will help you get there with a real-world\n      introduction to seven platforms, whether you‚Äôre new to mobile or an\n      experienced developer needing to expand your options. Plus, you‚Äôll find\n      out which cross-platform solution makes the most sense for your needs.\n      </p>', '7apps.jpg', 26.0, '2020-12-29 08:51:00.237082', '2020-12-29 08:51:00.237082')[0m
  [1m[35m (52.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:41)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Ruby Performance Optimization' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Ruby Performance Optimization', '<p>\n      <em>Why Ruby Is Slow, and How to Fix It</em>\n      You don‚Äôt have to accept slow Ruby or Rails performance. In this\n      comprehensive guide to Ruby optimization, you‚Äôll learn how to write\n      faster Ruby code‚Äîbut that‚Äôs just the beginning. See exactly what makes\n      Ruby and Rails code slow, and how to fix it. Alex Dymo will guide you\n      through perils of memory and CPU optimization, profiling, measuring,\n      performance testing, garbage collection, and tuning. You‚Äôll find that\n      all those ‚Äúhard‚Äù things aren‚Äôt so difficult after all, and your code\n      will run orders of magnitude faster.\n      </p>', 'adrpo.jpg', 46.0, '2020-12-29 08:51:00.302459', '2020-12-29 08:51:00.302459')[0m
  [1m[35m (53.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-29 14:52:23 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (5.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-29 08:52:23.035551', '2020-12-29 08:52:23.035551')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (133.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229085100302459 (3.0ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201229085100171759 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201229085100171759 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/7-20201229085100302459 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/7-20201229085100302459 (0.3ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/6-20201229085100237082 (0.1ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/6-20201229085100237082 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229085100302459 (0.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 93.5ms | Allocations: 30052)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 7.2ms | Allocations: 1522)
Completed 200 OK in 295ms (Views: 144.2ms | ActiveRecord: 142.6ms | Allocations: 48961)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 14:52:23 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 14:52:23 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 14:52:26 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-29 14:52:26 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"LFkokgt9aP+pOUs15WZIOH+snFFwltvr/EOlCTrsBm0uAO1WVyADDfLx2FCiPXdJbxr6TUo/+BT1M9sjdhcvXw==", "product_id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6 AND `line_items`.`product_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (1.6ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 6, '2020-12-29 08:52:26.319630', '2020-12-29 08:52:26.319630')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (86.4ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 121ms (ActiveRecord: 91.1ms | Allocations: 11993)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/" for 127.0.0.1 at 2020-12-29 15:01:34 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229085100302459 (3.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1038)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 1357)
Completed 200 OK in 40ms (Views: 23.7ms | ActiveRecord: 2.0ms | Allocations: 13202)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 15:01:34 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:01:34 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:01:36 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-29 15:01:36 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"E6s3n3pZNiQy8uiaVi7w1jylRBA2QIRjpox899tLdCgR8vJbJgRd1mk6e/8Rdc+nLBMiDAzpp5yv/ALdl7BdGg==", "product_id"=>"5"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6 AND `line_items`.`product_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:13:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (1.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 6, '2020-12-29 09:01:36.174315', '2020-12-29 09:01:36.174315')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (101.5ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 157ms (ActiveRecord: 105.8ms | Allocations: 14497)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/cable" for 127.0.0.1 at 2020-12-29 15:09:42 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:09:42 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:09:44 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-29 15:09:44 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229085100302459 (5.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 1037)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.8ms | Allocations: 1357)
Completed 200 OK in 46ms (Views: 25.0ms | ActiveRecord: 2.1ms | Allocations: 13334)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 15:09:44 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:09:44 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:09:46 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-29 15:09:46 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Ogla8mTcNFH5rNlM5mRE9f/3IZR8AHSW7WHWvOBUJPY4UJ82OIFfo6JkSimhP3uE70FHiEapV2nkEaiWrK8NxA==", "product_id"=>"5"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6 AND `line_items`.`product_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (2.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 6, '2020-12-29 09:09:46.221527', '2020-12-29 09:09:46.221527')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (89.4ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 133ms (ActiveRecord: 93.8ms | Allocations: 12542)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/cable" for 127.0.0.1 at 2020-12-29 15:24:32 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:24:32 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:24:41 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-29 15:24:41 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Ogla8mTcNFH5rNlM5mRE9f/3IZR8AHSW7WHWvOBUJPY4UJ82OIFfo6JkSimhP3uE70FHiEapV2nkEaiWrK8NxA==", "product_id"=>"5"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6 AND `line_items`.`product_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (2.0ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 6, '2020-12-29 09:24:41.662673', '2020-12-29 09:24:41.662673')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (115.6ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 140ms (ActiveRecord: 121.9ms | Allocations: 5674)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-29 15:26:30 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Ogla8mTcNFH5rNlM5mRE9f/3IZR8AHSW7WHWvOBUJPY4UJ82OIFfo6JkSimhP3uE70FHiEapV2nkEaiWrK8NxA==", "product_id"=>"5"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (2.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6 AND `line_items`.`product_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (2.0ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 6, '2020-12-29 09:26:30.474561', '2020-12-29 09:26:30.474561')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (79.4ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 106ms (ActiveRecord: 85.2ms | Allocations: 5662)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/cable" for 127.0.0.1 at 2020-12-29 15:27:26 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:27:26 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:27:28 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-29 15:27:28 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Ogla8mTcNFH5rNlM5mRE9f/3IZR8AHSW7WHWvOBUJPY4UJ82OIFfo6JkSimhP3uE70FHiEapV2nkEaiWrK8NxA==", "product_id"=>"5"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6 AND `line_items`.`product_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (2.3ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 6, '2020-12-29 09:27:28.115572', '2020-12-29 09:27:28.115572')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (59.6ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 84ms (ActiveRecord: 65.0ms | Allocations: 5661)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
  [1m[35m (1.0ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable" for 127.0.0.1 at 2020-12-29 15:32:57 +0600
  [1m[35m (1.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (41.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:32:57 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:32:59 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-29 15:32:59 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229085100302459 (5.5ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201229085100171759 (0.5ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201229085100171759 (0.7ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/7-20201229085100302459 (0.4ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/7-20201229085100302459 (0.7ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/6-20201229085100237082 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/6-20201229085100237082 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229085100302459 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 86.9ms | Allocations: 18477)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.8ms | Allocations: 1515)
Completed 200 OK in 186ms (Views: 127.4ms | ActiveRecord: 9.4ms | Allocations: 35801)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 15:32:59 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:32:59 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:33:01 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-29 15:33:01 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"O7e1Mw8s18Y2fwuYvTJmpGZQwBmaAL05JskxVBDcEG857nD3U3G8NG23mP36aVnVduamBaCpnsYvuU9+XCc5XQ==", "product_id"=>"5"}
  [1m[36mCart Load (1.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6 AND `line_items`.`product_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (2.1ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 6, '2020-12-29 09:33:01.990542', '2020-12-29 09:33:01.990542')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (58.3ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 123ms (ActiveRecord: 66.9ms | Allocations: 12025)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/cable" for 127.0.0.1 at 2020-12-29 15:35:23 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:35:23 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-29 15:36:02 +0600
Started GET "/cable" for 127.0.0.1 at 2020-12-29 15:36:02 +0600
  [1m[35m (1.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (4.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (10.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:36:02 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
Processing by StoreController#index as HTML
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[36mCart Load (2.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229085100302459 (6.9ms)
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201229085100171759 (0.4ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/5-20201229085100171759 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/7-20201229085100302459 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/7-20201229085100302459 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/6-20201229085100237082 (0.4ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/6-20201229085100237082 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229085100302459 (0.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 77.3ms | Allocations: 18606)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 8.6ms | Allocations: 1515)
Completed 200 OK in 180ms (Views: 114.1ms | ActiveRecord: 17.6ms | Allocations: 37879)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:36:02 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-29 15:36:02 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:36:02 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:36:05 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-29 15:36:05 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"YJTjSJE+gK9aA4cy4w/uc5eLm/x29CeFFDbo7laOTQRizSaMzWPrXQHLFFekVNEChz394ExdBHodRpbEGnVkNg==", "product_id"=>"5"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6 AND `line_items`.`product_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (2.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 6, '2020-12-29 09:36:05.744752', '2020-12-29 09:36:05.744752')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (57.4ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 115ms (ActiveRecord: 64.1ms | Allocations: 12012)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
Started GET "/" for 127.0.0.1 at 2020-12-29 15:36:19 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229085100302459 (6.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 7.4ms | Allocations: 1134)
Completed 200 OK in 43ms (Views: 35.5ms | ActiveRecord: 2.6ms | Allocations: 7794)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 15:36:19 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:36:19 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:36:21 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=5" for 127.0.0.1 at 2020-12-29 15:36:21 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"6srkl66PIyFnc5nxuhVHbFNvn3IveCESYlQFG624cFTokyFT8tJI0zy7CpT9TngdQ9n5bhXRAu1rJHsx4UNZZg==", "product_id"=>"5"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (3.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6 AND `line_items`.`product_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (2.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (5, 6, '2020-12-29 09:36:21.698781', '2020-12-29 09:36:21.698781')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (108.6ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Completed 500 Internal Server Error in 139ms (ActiveRecord: 117.1ms | Allocations: 6969)


  
ActiveRecord::InvalidForeignKey (Mysql2::Error: Cannot add or update a child row: a foreign key constraint fails (`depot_development`.`line_items`, CONSTRAINT `fk_rails_2dc2e5c22c` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`))):
  
app/controllers/line_items_controller.rb:41:in `block in create'
app/controllers/line_items_controller.rb:40:in `create'
  [1m[35m (1.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (328.3ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (333.4ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (348.0ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (47.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (363.5ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (104.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (540.8ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (58.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (645.9ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (46.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (46.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (388.9ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (78.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-12-29 09:38:06.875376', '2020-12-29 09:38:06.875376')[0m
  [1m[35m (44.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable" for 127.0.0.1 at 2020-12-29 15:38:30 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:38:30 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:38:38 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-29 15:38:38 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-29 09:38:38.063430', '2020-12-29 09:38:38.063430')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (74.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-0 (4.2ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-0 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 1702)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 8.6ms | Allocations: 1356)
Completed 200 OK in 157ms (Views: 40.0ms | ActiveRecord: 82.4ms | Allocations: 17608)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 15:38:38 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:38:38 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mProduct Destroy (0.5ms)[0m  [1m[31mDELETE FROM `products`[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:11)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' LIMIT 1[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Rails, Angular, Postgres, and Bootstrap', '<p>\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\n      As a Rails developer, you care about user experience and performance,\n      but you also want simple and maintainable code. Achieve all that by\n      embracing the full stack of web development, from styling with\n      Bootstrap, building an interactive user interface with AngularJS, to\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\n      full-stack development to create usable, high-performing applications,\n      and learn to use these technologies effectively in a Ruby on Rails\n      environment.\n      </p>', 'dcbang.jpg', 45.0, '2020-12-29 09:38:58.002993', '2020-12-29 09:38:58.002993')[0m
  [1m[35m (62.8ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:27)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Seven Mobile Apps in Seven Weeks' LIMIT 1[0m
  [1m[36mProduct Create (1.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps in Seven Weeks', '<p>\n      <em>Native Apps, Multiple Platforms</em>\n      Answer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\n      resounding YES. This book will help you get there with a real-world\n      introduction to seven platforms, whether you‚Äôre new to mobile or an\n      experienced developer needing to expand your options. Plus, you‚Äôll find\n      out which cross-platform solution makes the most sense for your needs.\n      </p>', '7apps.jpg', 26.0, '2020-12-29 09:38:58.082259', '2020-12-29 09:38:58.082259')[0m
  [1m[35m (105.5ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:41)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Ruby Performance Optimization' LIMIT 1[0m
  [1m[36mProduct Create (1.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Ruby Performance Optimization', '<p>\n      <em>Why Ruby Is Slow, and How to Fix It</em>\n      You don‚Äôt have to accept slow Ruby or Rails performance. In this\n      comprehensive guide to Ruby optimization, you‚Äôll learn how to write\n      faster Ruby code‚Äîbut that‚Äôs just the beginning. See exactly what makes\n      Ruby and Rails code slow, and how to fix it. Alex Dymo will guide you\n      through perils of memory and CPU optimization, profiling, measuring,\n      performance testing, garbage collection, and tuning. You‚Äôll find that\n      all those ‚Äúhard‚Äù things aren‚Äôt so difficult after all, and your code\n      will run orders of magnitude faster.\n      </p>', 'adrpo.jpg', 46.0, '2020-12-29 09:38:58.204906', '2020-12-29 09:38:58.204906')[0m
  [1m[35m (93.6ms)[0m  [1m[35mCOMMIT[0m
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:39:02 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-29 15:39:02 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (4.6ms)
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201229093858002993 (0.5ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201229093858002993 (0.7ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201229093858204906 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201229093858204906 (0.8ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201229093858082259 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201229093858082259 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 42.6ms | Allocations: 7971)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.8ms | Allocations: 1110)
Completed 200 OK in 68ms (Views: 58.8ms | ActiveRecord: 5.2ms | Allocations: 14572)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 15:39:02 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:39:02 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:39:15 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-29 15:39:15 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"9zSfqt0HCwhj32Nx0l/9CZs0AOsKv4DC2EqAN8G+yoL1bVpugVpg+jgX8BSVBMJ4i4Jm9zAWoz3ROv4djUXjsA==", "product_id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (1.0ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-29 09:39:15.989108', '2020-12-29 09:39:15.989108')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (91.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 138ms (ActiveRecord: 97.9ms | Allocations: 10121)


Started GET "/" for 127.0.0.1 at 2020-12-29 15:39:16 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (4.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.3ms | Allocations: 1104)
  Rendered carts/_cart.html.erb (Duration: 9.8ms | Allocations: 2469)
Completed 200 OK in 39ms (Views: 32.6ms | ActiveRecord: 2.7ms | Allocations: 9014)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 15:39:16 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:39:16 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:56:24 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/1" for 127.0.0.1 at 2020-12-29 15:56:24 +0600
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"QNJS87TYmC0dKoNR5MbNvYama1GsETYLsbSfnyeDoN5Ci5c36IXz30biEDSjnfLMlhANTZa4FfS4xOG1a3iJ7A==", "id"=>"1"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (115.1ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (108.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 263ms (ActiveRecord: 225.5ms | Allocations: 12338)


Started GET "/" for 127.0.0.1 at 2020-12-29 15:56:24 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-29 09:56:24.572670', '2020-12-29 09:56:24.572670')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (87.2ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (3.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1038)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.3ms | Allocations: 1176)
Completed 200 OK in 128ms (Views: 21.0ms | ActiveRecord: 89.5ms | Allocations: 11959)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 15:56:24 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:56:24 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:56:25 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-29 15:56:25 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"O7sb4JBqel6Xe27jhKvN2FmrYrAf9kXGoUuIwQd1jXk54t4kzDcRrMyz/YbD8PKpSR0ErCVfZjmoO/brS46kSw==", "product_id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 2, '2020-12-29 09:56:26.014749', '2020-12-29 09:56:26.014749')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (106.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 144ms (ActiveRecord: 109.2ms | Allocations: 10176)


Started GET "/" for 127.0.0.1 at 2020-12-29 15:56:26 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (3.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.7ms | Allocations: 936)
  Rendered carts/_cart.html.erb (Duration: 8.9ms | Allocations: 2137)
Completed 200 OK in 32ms (Views: 26.5ms | ActiveRecord: 2.6ms | Allocations: 8664)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 15:56:26 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:56:26 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:56:28 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-29 15:56:28 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"TvGUJiT+CEsc5xGIC/tfPwtJUORcVgjcV2LAKSNDwNVMqFHieKNjuUcvgu1MoGBOG/82+Gb/KyNeEr4Db7jp5w==", "product_id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (2.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 2, `line_items`.`updated_at` = '2020-12-29 09:56:28.686746' WHERE `line_items`.`id` = 2[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (69.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 93ms (ActiveRecord: 74.1ms | Allocations: 5995)


Started GET "/" for 127.0.0.1 at 2020-12-29 15:56:28 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (9.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 9.8ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.5ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 7.3ms | Allocations: 2112)
Completed 200 OK in 32ms (Views: 26.5ms | ActiveRecord: 2.5ms | Allocations: 8657)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 15:56:28 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:56:28 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for 127.0.0.1 at 2020-12-29 15:57:26 +0600
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 14.6ms | Allocations: 3539)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 24.5ms | ActiveRecord: 0.5ms | Allocations: 8068)


Started GET "/cable" for 127.0.0.1 at 2020-12-29 15:57:26 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:57:26 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 15:57:29 +0600
ProductsChannel stopped streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-29 19:01:47 +0600
ProductsChannel stopped streaming from products
Started GET "/products" for 127.0.0.1 at 2020-12-30 10:51:59 +0600
  [1m[35m (37.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (9.2ms)[0m  [1m[34mSELECT `products`.* FROM `products`[0m
  ‚Ü≥ app/views/products/index.html.erb:6
  Rendered products/index.html.erb within layouts/application (Duration: 460.7ms | Allocations: 15578)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 664ms (Views: 599.2ms | ActiveRecord: 11.6ms | Allocations: 23480)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 10:52:01 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 10:52:01 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 10:52:08 +0600
Started GET "/" for 127.0.0.1 at 2020-12-30 10:52:08 +0600
ProductsChannel stopped streaming from products
Processing by StoreController#index as HTML
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (23.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 04:52:08.321950', '2020-12-30 04:52:08.321950')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (77.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (23.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (27.7ms)
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201229093858002993 (0.4ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201229093858002993 (0.7ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201229093858204906 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201229093858204906 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201229093858082259 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201229093858082259 (0.4ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (0.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 162.5ms | Allocations: 7371)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (15.2ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.8ms | Allocations: 1512)
Completed 200 OK in 419ms (Views: 202.6ms | ActiveRecord: 178.1ms | Allocations: 23390)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 10:52:08 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 10:52:08 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 10:52:10 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 10:52:10 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Fts8vxeM2HuojrGQp6BQGRJoOOrHxVrNivNKXSORMtWmB+f3XH5iO+KnnAhRhqEoJrmo6fqsUu2CP8B/W+1SUw==", "product_id"=>"1"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 3, '2020-12-30 04:52:10.889790', '2020-12-30 04:52:10.889790')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (39.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 145ms (ActiveRecord: 45.2ms | Allocations: 10689)


Started GET "/" for 127.0.0.1 at 2020-12-30 10:52:10 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (3.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.6ms | Allocations: 1101)
  Rendered carts/_cart.html.erb (Duration: 12.2ms | Allocations: 2467)
Completed 200 OK in 34ms (Views: 28.5ms | ActiveRecord: 3.1ms | Allocations: 9008)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 10:52:11 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 10:52:11 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 10:52:14 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 10:52:14 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 118.7ms | Allocations: 2360)
  Rendered orders/new.html.erb within layouts/application (Duration: 120.1ms | Allocations: 2688)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.0ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 7.1ms | Allocations: 2107)
Completed 200 OK in 237ms (Views: 139.7ms | ActiveRecord: 28.6ms | Allocations: 16419)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 10:52:14 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 10:52:14 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:00:28 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/3" for 127.0.0.1 at 2020-12-30 11:00:28 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"iqjo5HLLiWSxkFG2O+dyDG+UL5OlVFNHR51JD+NMHtI6dDOsOTkzJPu5fC7NwYM9W0W/kJg9W2dPUcMtmzB+VA==", "id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 3[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (112.8ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 3[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (108.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 238ms (ActiveRecord: 223.2ms | Allocations: 5110)


Started GET "/" for 127.0.0.1 at 2020-12-30 11:00:28 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 05:00:28.951018', '2020-12-30 05:00:28.951018')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (89.1ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (4.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 938)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 1126)
Completed 200 OK in 122ms (Views: 20.3ms | ActiveRecord: 91.6ms | Allocations: 9729)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 11:00:29 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:00:29 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:00:30 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 11:00:30 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"EGElCcTMTQyZdQucdvBSK4IEOuouh8U5gRshsFj3J9Kgvf5Bjz73TNNcJgSA1qMattWq6RPuzRmJ16uSIItHVA==", "product_id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 4, '2020-12-30 05:00:30.748637', '2020-12-30 05:00:30.748637')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (83.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 107ms (ActiveRecord: 87.2ms | Allocations: 6026)


Started GET "/" for 127.0.0.1 at 2020-12-30 11:00:30 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (2.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.4ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 8.3ms | Allocations: 2112)
Completed 200 OK in 27ms (Views: 21.6ms | ActiveRecord: 2.6ms | Allocations: 8645)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 11:00:30 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:00:30 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:00:33 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 11:00:33 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.6ms | Allocations: 1046)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1129)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.8ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 6.5ms | Allocations: 2103)
Completed 200 OK in 32ms (Views: 22.4ms | ActiveRecord: 2.6ms | Allocations: 9425)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 11:00:33 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:00:33 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:44:43 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 11:44:43 +0600
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"91V5C1KsPYwTxM//fpcKqKS4XfmIygwuYUjb9v+m+JBHiaJDGV6HzFnt4meIsfuZkGnN+rWjBA5phFHUh9qYFg==", "order"=>{"name"=>"Mushfiq", "address"=>"High Level Road", "email"=>"mushfiq@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (2.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (0.8ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('Mushfiq', 'High Level Road', 'mushfiq@gmail.com', 0, '2020-12-30 05:44:43.716402', '2020-12-30 05:44:43.716402')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (114.9ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
Completed 500 Internal Server Error in 144ms (ActiveRecord: 119.5ms | Allocations: 7085)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `order_id`):
  
app/controllers/orders_controller.rb:42:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
Started GET "/cable" for 127.0.0.1 at 2020-12-30 11:44:55 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:44:55 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:45:00 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-30 11:45:00 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:45:00 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:45:04 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/4" for 127.0.0.1 at 2020-12-30 11:45:04 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"RjSaSfBgW3e5obl2bxvmY1AHXaJJzyDflHKF767G6Gb26EEBu5LhN/OIlO6ZPRdSZNbNoXSmKP+cvg/N1rqI4A==", "id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (1.1ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 4[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (103.8ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 4[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (107.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 238ms (ActiveRecord: 213.8ms | Allocations: 5062)


Started GET "/" for 127.0.0.1 at 2020-12-30 11:45:04 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 05:45:04.995423', '2020-12-30 05:45:04.995423')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (88.1ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (4.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 942)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.4ms | Allocations: 1133)
Completed 200 OK in 125ms (Views: 24.8ms | ActiveRecord: 90.5ms | Allocations: 9771)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 11:45:05 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:45:05 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:45:06 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 11:45:06 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"eeGTKxGGu7d9cgXD6sZ+PUEJ5nSzVt3HOXgMnUjJQWfJPUhjWnQB9zdbKFsc4I8Mddh2d44/1ecxtIa/MLUh4Q==", "product_id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (3.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 5, '2020-12-30 05:45:06.396163', '2020-12-30 05:45:06.396163')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (126.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 155ms (ActiveRecord: 133.4ms | Allocations: 6036)


Started GET "/" for 127.0.0.1 at 2020-12-30 11:45:06 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (3.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.2ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 7.6ms | Allocations: 2112)
Completed 200 OK in 28ms (Views: 22.5ms | ActiveRecord: 2.7ms | Allocations: 8636)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 11:45:06 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:45:06 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:45:10 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 11:45:10 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.3ms | Allocations: 1055)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1137)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.8ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 6.7ms | Allocations: 2103)
Completed 200 OK in 33ms (Views: 23.4ms | ActiveRecord: 2.8ms | Allocations: 9401)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 11:45:10 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:45:10 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:45:13 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 11:45:13 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"RZV+P7Ll+DagqkXQjnkR56xTIeBhQdoah4/hgi4L/nz1SaV3+RdCduqDaEh4X+DWmIKx41wo0jqPQ2ugVnee+g==", "order"=>{"name"=>"e", "address"=>"", "email"=>"", "pay_type"=>""}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.1ms | Allocations: 1492)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 1574)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.4ms | Allocations: 123)
  Rendered carts/_cart.html.erb (Duration: 1.8ms | Allocations: 526)
Completed 200 OK in 44ms (Views: 21.2ms | ActiveRecord: 2.3ms | Allocations: 12496)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 11:45:14 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:45:14 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:45:36 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 11:45:36 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"CWrvSWc2F3NWnpk0FCjcamVs2DfuU6sbyf88R2/Bjuy5tjQBLMStMxy3tKziDi1bUb1INNM6ozvBM7ZlF73uag==", "order"=>{"name"=>"e", "address"=>"e", "email"=>"e@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (1.3ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('e', 'e', 'e@gmail.com', 1, '2020-12-30 05:45:36.499353', '2020-12-30 05:45:36.499353')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (210.8ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
Completed 500 Internal Server Error in 235ms (ActiveRecord: 214.8ms | Allocations: 6557)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `order_id`):
  
app/controllers/orders_controller.rb:42:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-30 11:54:05 +0600
  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (3.9ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201229093858002993 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201229093858002993 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201229093858204906 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201229093858204906 (0.3ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201229093858082259 (0.1ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201229093858082259 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 57.5ms | Allocations: 18621)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.3ms | Allocations: 1881)
  Rendered carts/_cart.html.erb (Duration: 23.5ms | Allocations: 7321)
Completed 200 OK in 160ms (Views: 103.7ms | ActiveRecord: 11.6ms | Allocations: 42208)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 11:54:06 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:54:06 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:54:09 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/5" for 127.0.0.1 at 2020-12-30 11:54:09 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"k5JmpmuOlEH1VgFvGyR8KjDHHWTWt2dGtCn6y9A3kGMjTr3uIHwuAb9/LPftAo0bBBaNZ+veb2a85XDpqEvw5Q==", "id"=>"5"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.7ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 5[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (127.2ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 5[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (86.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 237ms (ActiveRecord: 216.7ms | Allocations: 5173)


Started GET "/" for 127.0.0.1 at 2020-12-30 11:54:09 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (1.1ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 05:54:09.856062', '2020-12-30 05:54:09.856062')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (64.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (2.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 1119)
Completed 200 OK in 98ms (Views: 18.6ms | ActiveRecord: 68.1ms | Allocations: 9940)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 11:54:10 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:54:10 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:54:12 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 11:54:12 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"PuCROHYSz7Kso+L0i/dtgNvbby7sMss5sx2W8FAmmdmOPEpwPeB18uaKz2x90Zyx7wr/LdFbwxm70RzSKFr5Xw==", "product_id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 6, '2020-12-30 05:54:12.377342', '2020-12-30 05:54:12.377342')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (71.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 98ms (ActiveRecord: 74.6ms | Allocations: 6334)


Started GET "/" for 127.0.0.1 at 2020-12-30 11:54:12 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (3.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.3ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 8.7ms | Allocations: 2112)
Completed 200 OK in 29ms (Views: 22.0ms | ActiveRecord: 3.1ms | Allocations: 8641)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 11:54:12 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:54:12 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:54:14 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 11:54:14 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"I4cm5KWYG7r2j8IOegKg2dLyS30msG6o2FCFRUHlOT+TW/2s7mqh+rym75aMJFHo5iPbfhvZZojQnA9nOZlZuQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (2.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 2, `line_items`.`updated_at` = '2020-12-30 05:54:14.518057' WHERE `line_items`.`id` = 6[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (66.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 92ms (ActiveRecord: 71.3ms | Allocations: 6019)


Started GET "/" for 127.0.0.1 at 2020-12-30 11:54:14 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (2.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.6ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 9.1ms | Allocations: 2112)
Completed 200 OK in 27ms (Views: 21.1ms | ActiveRecord: 3.1ms | Allocations: 8642)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 11:54:14 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:54:14 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:54:16 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 11:54:16 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.7ms | Allocations: 2240)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.9ms | Allocations: 2569)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.1ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 6.8ms | Allocations: 2107)
Completed 200 OK in 62ms (Views: 36.5ms | ActiveRecord: 3.7ms | Allocations: 16160)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 11:54:16 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:54:16 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 11:54:34 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 11:54:34 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"LZiiB00ySVRfIYtJUv/PiHgvycamfWVaIUqo2AXF65KdRHlPBsDzFBUIptGk2T65TP5ZxZsUbXophiL6fbmLFA==", "order"=>{"name"=>"ggg", "address"=>"eeee", "email"=>"a@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (2.0ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('ggg', 'eeee', 'a@gmail.com', 1, '2020-12-30 05:54:34.037763', '2020-12-30 05:54:34.037763')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (75.0ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
Completed 500 Internal Server Error in 101ms (ActiveRecord: 78.9ms | Allocations: 7074)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `order_id`):
  
app/controllers/orders_controller.rb:42:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/products/3/who_bought.atom" for 127.0.0.1 at 2020-12-30 12:12:50 +0600
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ProductsController#who_bought as ATOM
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:83:in `who_bought'
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT `orders`.* FROM `orders` INNER JOIN `line_items` ON `orders`.`id` = `line_items`.`order_id` WHERE `line_items`.`product_id` = 3 ORDER BY `orders`.`updated_at` DESC LIMIT 1[0m
  ‚Ü≥ app/controllers/products_controller.rb:84:in `who_bought'
Completed 500 Internal Server Error in 93ms (ActiveRecord: 5.4ms | Allocations: 16874)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'line_items.order_id' in 'on clause'):
  
app/controllers/products_controller.rb:84:in `who_bought'
Started GET "/" for 127.0.0.1 at 2020-12-30 12:13:17 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (4.1ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201229093858002993 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201229093858002993 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201229093858204906 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201229093858204906 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201229093858082259 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201229093858082259 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (0.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 66.5ms | Allocations: 18301)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.6ms | Allocations: 1881)
  Rendered carts/_cart.html.erb (Duration: 22.5ms | Allocations: 7316)
Completed 200 OK in 124ms (Views: 103.6ms | ActiveRecord: 5.9ms | Allocations: 35556)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:13:18 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:13:18 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:13:21 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-30 12:13:22 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"A39WFcG/Ff9Je9oOnWAcyp7wGO+oOKXmucerdrIsmRazo41dik2vvwNS95ZrRu37qiGI7JVRrcaxCyFUylD5kA==", "product_id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 6, '2020-12-30 06:13:22.039510', '2020-12-30 06:13:22.039510')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (174.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 199ms (ActiveRecord: 177.1ms | Allocations: 6389)


Started GET "/" for 127.0.0.1 at 2020-12-30 12:13:22 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201229093858204906 (2.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 939)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 7.0ms | Allocations: 1862)
  Rendered carts/_cart.html.erb (Duration: 12.1ms | Allocations: 3064)
Completed 200 OK in 32ms (Views: 24.9ms | ActiveRecord: 3.3ms | Allocations: 9605)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:13:22 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:13:22 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:13:23 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 12:13:23 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.0ms | Allocations: 2216)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.0ms | Allocations: 2514)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 6.5ms | Allocations: 1862)
  Rendered carts/_cart.html.erb (Duration: 10.7ms | Allocations: 3059)
Completed 200 OK in 46ms (Views: 26.0ms | ActiveRecord: 2.4ms | Allocations: 15704)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:13:23 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:13:23 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:13:40 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 12:13:40 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"zLHhauIV4Zr+MZL9tK5CaUVFzZQYLVY85Gm4s7mq2lN8bToiqedb2rQYv2VCiLNYcZRdlyVEXhzspTKRwda61Q==", "order"=>{"name"=>"e", "address"=>"deded", "email"=>"a@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('e', 'deded', 'a@gmail.com', 1, '2020-12-30 06:13:40.443769', '2020-12-30 06:13:40.443769')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (724.2ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
Completed 500 Internal Server Error in 762ms (ActiveRecord: 727.0ms | Allocations: 8112)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `order_id`):
  
app/controllers/orders_controller.rb:42:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (352.7ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (312.8ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (356.2ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (54.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (418.5ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (102.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (475.3ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (58.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (733.7ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (50.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (50.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (356.8ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (50.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-12-30 06:28:15.586657', '2020-12-30 06:28:15.586657')[0m
  [1m[35m (50.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:30:28 +0600
  [1m[35m (1.0ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:30:28 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:30:29 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 12:30:29 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 06:30:29.753068', '2020-12-30 06:30:29.753068')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (59.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
Redirected to http://localhost:3000/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 107ms (ActiveRecord: 63.9ms | Allocations: 11319)


Started GET "/" for 127.0.0.1 at 2020-12-30 12:30:29 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-0 (4.1ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-0 (0.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 2547)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 10.9ms | Allocations: 3277)
Completed 200 OK in 80ms (Views: 63.5ms | ActiveRecord: 3.9ms | Allocations: 23175)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:30:30 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:30:30 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM `products`[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:11)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' LIMIT 1[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Rails, Angular, Postgres, and Bootstrap', '<p>\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\n      As a Rails developer, you care about user experience and performance,\n      but you also want simple and maintainable code. Achieve all that by\n      embracing the full stack of web development, from styling with\n      Bootstrap, building an interactive user interface with AngularJS, to\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\n      full-stack development to create usable, high-performing applications,\n      and learn to use these technologies effectively in a Ruby on Rails\n      environment.\n      </p>', 'dcbang.jpg', 45.0, '2020-12-30 06:30:52.764747', '2020-12-30 06:30:52.764747')[0m
  [1m[35m (45.5ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:27)
  [1m[35m (2.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Seven Mobile Apps in Seven Weeks' LIMIT 1[0m
  [1m[36mProduct Create (1.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps in Seven Weeks', '<p>\n      <em>Native Apps, Multiple Platforms</em>\n      Answer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\n      resounding YES. This book will help you get there with a real-world\n      introduction to seven platforms, whether you‚Äôre new to mobile or an\n      experienced developer needing to expand your options. Plus, you‚Äôll find\n      out which cross-platform solution makes the most sense for your needs.\n      </p>', '7apps.jpg', 26.0, '2020-12-30 06:30:52.830276', '2020-12-30 06:30:52.830276')[0m
  [1m[35m (88.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:41)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Ruby Performance Optimization' LIMIT 1[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Ruby Performance Optimization', '<p>\n      <em>Why Ruby Is Slow, and How to Fix It</em>\n      You don‚Äôt have to accept slow Ruby or Rails performance. In this\n      comprehensive guide to Ruby optimization, you‚Äôll learn how to write\n      faster Ruby code‚Äîbut that‚Äôs just the beginning. See exactly what makes\n      Ruby and Rails code slow, and how to fix it. Alex Dymo will guide you\n      through perils of memory and CPU optimization, profiling, measuring,\n      performance testing, garbage collection, and tuning. You‚Äôll find that\n      all those ‚Äúhard‚Äù things aren‚Äôt so difficult after all, and your code\n      will run orders of magnitude faster.\n      </p>', 'adrpo.jpg', 46.0, '2020-12-30 06:30:52.937390', '2020-12-30 06:30:52.937390')[0m
  [1m[35m (139.3ms)[0m  [1m[35mCOMMIT[0m
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:31:04 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-30 12:31:04 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230063052937390 (3.8ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230063052764747 (0.5ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230063052764747 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230063052937390 (0.1ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230063052937390 (0.3ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230063052830276 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230063052830276 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230063052937390 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 31.9ms | Allocations: 8184)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 1110)
Completed 200 OK in 52ms (Views: 45.4ms | ActiveRecord: 3.4ms | Allocations: 14801)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:31:04 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:31:04 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:31:14 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 12:31:15 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ta7OEWnaOHgIfpueNeVqOjw/4BzUQ3LJdqVqjzE//4QFchVZIiiCOEJXtgbDw5sLCO5wH+kqeul+aeCtSUOfAg==", "product_id"=>"1"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-30 06:31:15.038678', '2020-12-30 06:31:15.038678')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (48.2ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 83ms (ActiveRecord: 52.2ms | Allocations: 10501)


Started GET "/" for 127.0.0.1 at 2020-12-30 12:31:15 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230063052937390 (3.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 938)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.8ms | Allocations: 1101)
  Rendered carts/_cart.html.erb (Duration: 11.0ms | Allocations: 2467)
Completed 200 OK in 31ms (Views: 24.6ms | ActiveRecord: 2.8ms | Allocations: 8988)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:31:15 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:31:15 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:31:16 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 12:31:16 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.5ms | Allocations: 2239)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.4ms | Allocations: 2533)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.3ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 8.5ms | Allocations: 2107)
Completed 200 OK in 105ms (Views: 24.9ms | ActiveRecord: 51.5ms | Allocations: 16468)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:31:16 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:31:16 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:31:58 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 12:31:58 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"8PVMxbEkKqzmY6wPgqJaL/OTEXfw6XORfwQME0d+7J9AKZeN+taQ7KxKgZd0hKsex0KBdM2Ae7F3yIYxPwKMGQ==", "order"=>{"name"=>"d", "address"=>"d", "email"=>"d@gmail.com", "pay_type"=>"Purchase order"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('d', 'd', 'd@gmail.com', 2, '2020-12-30 06:31:58.410333', '2020-12-30 06:31:58.410333')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (67.0ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
Completed 500 Internal Server Error in 96ms (ActiveRecord: 69.4ms | Allocations: 7089)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `order_id`):
  
app/controllers/orders_controller.rb:42:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:38:54 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:38:54 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:38:56 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:38:56 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:38:56 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:38:59 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/1" for 127.0.0.1 at 2020-12-30 12:38:59 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"WcYZq3GeKNqpFrWGUqL16k+OS/GfgTZf2BqLY+0XqwPpGsLjOmySmuM/mB6khATbe1/b8qLoPn/Q1gFBlWvLhQ==", "id"=>"1"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (131.5ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (86.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 278ms (ActiveRecord: 224.5ms | Allocations: 15815)


Started GET "/" for 127.0.0.1 at 2020-12-30 12:38:59 +0600
Processing by StoreController#index as HTML
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 06:38:59.653827', '2020-12-30 06:38:59.653827')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (60.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230063052937390 (3.4ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230063052764747 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230063052764747 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230063052937390 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230063052937390 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230063052830276 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230063052830276 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230063052937390 (0.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 64.9ms | Allocations: 18568)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.5ms | Allocations: 1329)
Completed 200 OK in 172ms (Views: 86.6ms | ActiveRecord: 65.9ms | Allocations: 31771)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:38:59 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:38:59 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:39:01 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 12:39:01 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Ky+OCYJ4M4YquKzuwILv3oOfJbbh0vA+pD+52Hh4oZCb81VByYqJxmCRgXY2pB7vt061tdy7+B6s8zP6AATBFg==", "product_id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 2, '2020-12-30 06:39:01.099607', '2020-12-30 06:39:01.099607')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (65.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 89ms (ActiveRecord: 68.8ms | Allocations: 7094)


Started GET "/" for 127.0.0.1 at 2020-12-30 12:39:01 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230063052937390 (3.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.6ms | Allocations: 1101)
  Rendered carts/_cart.html.erb (Duration: 10.0ms | Allocations: 2459)
Completed 200 OK in 35ms (Views: 28.9ms | ActiveRecord: 2.6ms | Allocations: 8999)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:39:01 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:39:01 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:39:02 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 12:39:02 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 9.2ms | Allocations: 2240)
  Rendered orders/new.html.erb within layouts/application (Duration: 10.7ms | Allocations: 2535)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.7ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 8.5ms | Allocations: 2107)
Completed 200 OK in 67ms (Views: 34.5ms | ActiveRecord: 3.9ms | Allocations: 16112)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:39:02 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:39:02 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:39:09 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 12:39:09 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"uWeeufVmeXMg9V4UXpw/8BoOYnOmTLOSGwGlwUBZS3MJu0XxvpTDM2rcc4yous7BLt/ycJslu7ITzS/jOCUr9Q==", "order"=>{"name"=>"e", "address"=>"e", "email"=>"a@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (0.9ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('e', 'e', 'a@gmail.com', 1, '2020-12-30 06:39:09.816021', '2020-12-30 06:39:09.816021')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (197.9ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
Completed 500 Internal Server Error in 227ms (ActiveRecord: 200.9ms | Allocations: 7114)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `order_id`):
  
app/controllers/orders_controller.rb:42:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:43:14 +0600
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:43:14 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:43:15 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:43:15 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:43:15 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:43:16 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-30 12:43:16 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230063052937390 (3.8ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230063052764747 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230063052764747 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230063052937390 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230063052937390 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230063052830276 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230063052830276 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230063052937390 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 59.9ms | Allocations: 18613)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.6ms | Allocations: 1881)
  Rendered carts/_cart.html.erb (Duration: 23.5ms | Allocations: 7321)
Completed 200 OK in 144ms (Views: 103.9ms | ActiveRecord: 8.8ms | Allocations: 42224)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:43:16 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:43:16 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:43:18 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 12:43:18 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.9ms | Allocations: 2241)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.1ms | Allocations: 2536)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.5ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 7.9ms | Allocations: 2107)
Completed 200 OK in 51ms (Views: 27.0ms | ActiveRecord: 3.9ms | Allocations: 16118)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:43:18 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:43:18 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:43:25 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 12:43:25 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"2wZAj3N148NN74xvSaMeSyjckVG189xiYwPq1Ejv/GNr2pvHOIdZgwfGofe/he96HA0BUoia1EJrz2D2MJOc5Q==", "order"=>{"name"=>"e", "address"=>"e", "email"=>"a@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('e', 'e', 'a@gmail.com', 1, '2020-12-30 06:43:25.409026', '2020-12-30 06:43:25.409026')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (63.4ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
Completed 500 Internal Server Error in 88ms (ActiveRecord: 65.8ms | Allocations: 7303)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `order_id`):
  
app/controllers/orders_controller.rb:42:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (355.9ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (411.7ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (356.0ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (80.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (442.6ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (94.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (483.7ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (50.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (756.0ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (50.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (53.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (388.2ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (50.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-12-30 06:47:04.954109', '2020-12-30 06:47:04.954109')[0m
  [1m[35m (50.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM `products`[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:11)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Rails, Angular, Postgres, and Bootstrap', '<p>\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\n      As a Rails developer, you care about user experience and performance,\n      but you also want simple and maintainable code. Achieve all that by\n      embracing the full stack of web development, from styling with\n      Bootstrap, building an interactive user interface with AngularJS, to\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\n      full-stack development to create usable, high-performing applications,\n      and learn to use these technologies effectively in a Ruby on Rails\n      environment.\n      </p>', 'dcbang.jpg', 45.0, '2020-12-30 06:47:18.737782', '2020-12-30 06:47:18.737782')[0m
  [1m[35m (86.6ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:27)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Seven Mobile Apps in Seven Weeks' LIMIT 1[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps in Seven Weeks', '<p>\n      <em>Native Apps, Multiple Platforms</em>\n      Answer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\n      resounding YES. This book will help you get there with a real-world\n      introduction to seven platforms, whether you‚Äôre new to mobile or an\n      experienced developer needing to expand your options. Plus, you‚Äôll find\n      out which cross-platform solution makes the most sense for your needs.\n      </p>', '7apps.jpg', 26.0, '2020-12-30 06:47:18.839114', '2020-12-30 06:47:18.839114')[0m
  [1m[35m (85.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:41)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Ruby Performance Optimization' LIMIT 1[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Ruby Performance Optimization', '<p>\n      <em>Why Ruby Is Slow, and How to Fix It</em>\n      You don‚Äôt have to accept slow Ruby or Rails performance. In this\n      comprehensive guide to Ruby optimization, you‚Äôll learn how to write\n      faster Ruby code‚Äîbut that‚Äôs just the beginning. See exactly what makes\n      Ruby and Rails code slow, and how to fix it. Alex Dymo will guide you\n      through perils of memory and CPU optimization, profiling, measuring,\n      performance testing, garbage collection, and tuning. You‚Äôll find that\n      all those ‚Äúhard‚Äù things aren‚Äôt so difficult after all, and your code\n      will run orders of magnitude faster.\n      </p>', 'adrpo.jpg', 46.0, '2020-12-30 06:47:18.938947', '2020-12-30 06:47:18.938947')[0m
  [1m[35m (73.6ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:47:32 +0600
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:47:32 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:47:34 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:47:34 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:47:34 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:47:34 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-30 12:47:34 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 12:47:34 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (556.1ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (446.1ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (333.8ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (46.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (321.7ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (95.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (542.3ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (47.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (790.3ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (50.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (65.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (332.1ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (43.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-12-30 07:01:44.430640', '2020-12-30 07:01:44.430640')[0m
  [1m[35m (43.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM `products`[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:11)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Rails, Angular, Postgres, and Bootstrap', '<p>\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\n      As a Rails developer, you care about user experience and performance,\n      but you also want simple and maintainable code. Achieve all that by\n      embracing the full stack of web development, from styling with\n      Bootstrap, building an interactive user interface with AngularJS, to\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\n      full-stack development to create usable, high-performing applications,\n      and learn to use these technologies effectively in a Ruby on Rails\n      environment.\n      </p>', 'dcbang.jpg', 45.0, '2020-12-30 07:01:54.166209', '2020-12-30 07:01:54.166209')[0m
  [1m[35m (46.5ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:27)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Seven Mobile Apps in Seven Weeks' LIMIT 1[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps in Seven Weeks', '<p>\n      <em>Native Apps, Multiple Platforms</em>\n      Answer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\n      resounding YES. This book will help you get there with a real-world\n      introduction to seven platforms, whether you‚Äôre new to mobile or an\n      experienced developer needing to expand your options. Plus, you‚Äôll find\n      out which cross-platform solution makes the most sense for your needs.\n      </p>', '7apps.jpg', 26.0, '2020-12-30 07:01:54.225439', '2020-12-30 07:01:54.225439')[0m
  [1m[35m (109.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:41)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Ruby Performance Optimization' LIMIT 1[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Ruby Performance Optimization', '<p>\n      <em>Why Ruby Is Slow, and How to Fix It</em>\n      You don‚Äôt have to accept slow Ruby or Rails performance. In this\n      comprehensive guide to Ruby optimization, you‚Äôll learn how to write\n      faster Ruby code‚Äîbut that‚Äôs just the beginning. See exactly what makes\n      Ruby and Rails code slow, and how to fix it. Alex Dymo will guide you\n      through perils of memory and CPU optimization, profiling, measuring,\n      performance testing, garbage collection, and tuning. You‚Äôll find that\n      all those ‚Äúhard‚Äù things aren‚Äôt so difficult after all, and your code\n      will run orders of magnitude faster.\n      </p>', 'adrpo.jpg', 46.0, '2020-12-30 07:01:54.349203', '2020-12-30 07:01:54.349203')[0m
  [1m[35m (98.8ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cable" for 127.0.0.1 at 2020-12-30 13:02:13 +0600
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:02:13 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:03:05 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-30 13:03:11 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 07:03:11.339597', '2020-12-30 07:03:11.339597')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (71.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230070154349203 (4.8ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230070154166209 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230070154166209 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230070154349203 (0.1ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230070154349203 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230070154225439 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230070154225439 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230070154349203 (0.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 60.3ms | Allocations: 18599)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.8ms | Allocations: 1513)
Completed 200 OK in 205ms (Views: 92.0ms | ActiveRecord: 79.0ms | Allocations: 39157)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 13:03:11 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:03:11 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:03:16 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-30 13:03:16 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"6gsHul8lcoiKH4z9gu3itZ1PGJSxyDjM2VOSw4s0+s1a19zyFNfIyMA2oWV0yxOEqZ6Il4yhMOzRnxjh80iaSw==", "product_id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:37:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, '2020-12-30 07:03:16.076917', '2020-12-30 07:03:16.076917')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
  [1m[35m (62.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:41:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 99ms (ActiveRecord: 65.5ms | Allocations: 10516)


Started GET "/" for 127.0.0.1 at 2020-12-30 13:03:16 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230070154349203 (2.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.8ms | Allocations: 1101)
  Rendered carts/_cart.html.erb (Duration: 8.3ms | Allocations: 2467)
Completed 200 OK in 27ms (Views: 22.0ms | ActiveRecord: 2.4ms | Allocations: 9014)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 13:03:16 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:03:16 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:03:18 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 13:03:18 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.2ms | Allocations: 2240)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 2535)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.0ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 9.0ms | Allocations: 2107)
Completed 200 OK in 54ms (Views: 26.2ms | ActiveRecord: 3.9ms | Allocations: 16168)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 13:03:18 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:03:18 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:03:26 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 13:03:26 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"v7QFVZ5dLcnzYpF6gS2P+LYxhi0unwv3T+TzIIY5C5MPaN4d1a+XiblLvOJ3C37JguAWLhP2A9dHKHkC/kVrFQ==", "order"=>{"name"=>"r", "address"=>"r", "email"=>"a@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('r', 'r', 'a@gmail.com', 1, '2020-12-30 07:03:26.167139', '2020-12-30 07:03:26.167139')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (102.5ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
Completed 500 Internal Server Error in 124ms (ActiveRecord: 104.8ms | Allocations: 7080)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `order_id`):
  
app/controllers/orders_controller.rb:42:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (351.6ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (355.3ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (372.1ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (56.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (355.6ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (94.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (540.5ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (47.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (867.3ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (57.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (54.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (477.3ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (72.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-12-30 07:14:40.076103', '2020-12-30 07:14:40.076103')[0m
  [1m[35m (57.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM `products`[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:11)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Rails, Angular, Postgres, and Bootstrap', '<p>\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\n      As a Rails developer, you care about user experience and performance,\n      but you also want simple and maintainable code. Achieve all that by\n      embracing the full stack of web development, from styling with\n      Bootstrap, building an interactive user interface with AngularJS, to\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\n      full-stack development to create usable, high-performing applications,\n      and learn to use these technologies effectively in a Ruby on Rails\n      environment.\n      </p>', 'dcbang.jpg', 45.0, '2020-12-30 07:15:51.769095', '2020-12-30 07:15:51.769095')[0m
  [1m[35m (102.6ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:27)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Seven Mobile Apps in Seven Weeks' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps in Seven Weeks', '<p>\n      <em>Native Apps, Multiple Platforms</em>\n      Answer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\n      resounding YES. This book will help you get there with a real-world\n      introduction to seven platforms, whether you‚Äôre new to mobile or an\n      experienced developer needing to expand your options. Plus, you‚Äôll find\n      out which cross-platform solution makes the most sense for your needs.\n      </p>', '7apps.jpg', 26.0, '2020-12-30 07:15:51.889785', '2020-12-30 07:15:51.889785')[0m
  [1m[35m (199.5ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:41)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Ruby Performance Optimization' LIMIT 1[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Ruby Performance Optimization', '<p>\n      <em>Why Ruby Is Slow, and How to Fix It</em>\n      You don‚Äôt have to accept slow Ruby or Rails performance. In this\n      comprehensive guide to Ruby optimization, you‚Äôll learn how to write\n      faster Ruby code‚Äîbut that‚Äôs just the beginning. See exactly what makes\n      Ruby and Rails code slow, and how to fix it. Alex Dymo will guide you\n      through perils of memory and CPU optimization, profiling, measuring,\n      performance testing, garbage collection, and tuning. You‚Äôll find that\n      all those ‚Äúhard‚Äù things aren‚Äôt so difficult after all, and your code\n      will run orders of magnitude faster.\n      </p>', 'adrpo.jpg', 46.0, '2020-12-30 07:15:52.099090', '2020-12-30 07:15:52.099090')[0m
  [1m[35m (79.7ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cable" for 127.0.0.1 at 2020-12-30 13:16:30 +0600
  [1m[35m (2.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:16:30 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:16:30 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-30 13:16:30 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:16:30 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:16:31 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-30 13:16:36 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 07:16:36.898471', '2020-12-30 07:16:36.898471')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (80.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230071552099090 (3.1ms)
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230071551769095 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230071551769095 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230071552099090 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230071552099090 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230071551889785 (0.1ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230071551889785 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230071552099090 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 54.0ms | Allocations: 18599)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.3ms | Allocations: 1513)
Completed 200 OK in 210ms (Views: 79.9ms | ActiveRecord: 88.8ms | Allocations: 39171)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 13:16:37 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:16:37 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:16:39 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 13:16:39 +0600
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/line_items_controller.rb:2:in `<class:LineItemsController>'
app/controllers/line_items_controller.rb:1:in `<main>'
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 13:17:50 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Jhkdvk2IG92cvwCU8rcz7Q0g0sWd8+ol/1J8pqahV1GWxcb2BnqhndaWLQwEkcLcOfFCxqCa4gX3nvaE3t031w==", "product_id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-30 07:17:51.033446', '2020-12-30 07:17:51.033446')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[35m (48.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 122ms (ActiveRecord: 55.6ms | Allocations: 19777)


Started GET "/" for 127.0.0.1 at 2020-12-30 13:17:51 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230071552099090 (4.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1046)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.4ms | Allocations: 1116)
  Rendered carts/_cart.html.erb (Duration: 8.7ms | Allocations: 2713)
Completed 200 OK in 33ms (Views: 26.7ms | ActiveRecord: 3.3ms | Allocations: 9672)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 13:17:51 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:17:51 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:17:52 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 13:17:52 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"aK56xCu3TwAG5YE1/lLqWVe3DAokAR0veBW1fkzz51DYcqGMYEX1QEzMrK0IdBtoY2acCRloFQ9w2T9cNI+H1g==", "product_id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 2, `line_items`.`updated_at` = '2020-12-30 07:17:52.776628' WHERE `line_items`.`id` = 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[35m (116.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 138ms (ActiveRecord: 120.0ms | Allocations: 6013)


Started GET "/" for 127.0.0.1 at 2020-12-30 13:17:52 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230071552099090 (2.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.4ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 9.7ms | Allocations: 2112)
Completed 200 OK in 31ms (Views: 25.7ms | ActiveRecord: 2.6ms | Allocations: 8644)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 13:17:53 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:17:53 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:17:56 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 13:17:56 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:87:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.9ms | Allocations: 2240)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 2540)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.7ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 8.3ms | Allocations: 2107)
Completed 200 OK in 52ms (Views: 23.7ms | ActiveRecord: 4.6ms | Allocations: 16547)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 13:17:56 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:17:56 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:18:08 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 13:18:08 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"0x0JEGFVUeqAhFd0YPe54pCQlKkw14wjg9oCbk6LJBRjwdJYKqfrqsqteuyW0UjTpEEEqg2+hAOLFohMNvdEkg==", "order"=>{"name"=>"w", "address"=>"w", "email"=>"a@gmail.com", "pay_type"=>"Purchase order"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (2.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mOrder Create (2.1ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('w', 'w', 'a@gmail.com', 2, '2020-12-30 07:18:08.040277', '2020-12-30 07:18:08.040277')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[35m (72.8ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
Completed 500 Internal Server Error in 99ms (ActiveRecord: 78.8ms | Allocations: 7099)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `order_id`):
  
app/controllers/orders_controller.rb:34:in `block in create'
app/controllers/orders_controller.rb:33:in `create'
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (347.5ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (356.6ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (360.0ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (45.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (387.8ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (106.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (630.0ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (48.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (823.7ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (58.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (41.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (354.9ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (50.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-12-30 07:22:38.026751', '2020-12-30 07:22:38.026751')[0m
  [1m[35m (50.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable" for 127.0.0.1 at 2020-12-30 13:23:14 +0600
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:23:14 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:23:14 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-30 13:23:14 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:23:14 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:23:16 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-30 13:23:16 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:23:16 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:23:16 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-30 13:23:23 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 07:23:23.105327', '2020-12-30 07:23:23.105327')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (45.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-0 (5.2ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-0 (0.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 11.6ms | Allocations: 2599)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 11.8ms | Allocations: 3291)
Completed 200 OK in 160ms (Views: 67.2ms | ActiveRecord: 53.4ms | Allocations: 32716)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 13:23:23 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:23:23 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM `products`[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:11)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Rails, Angular, Postgres, and Bootstrap', '<p>\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\n      As a Rails developer, you care about user experience and performance,\n      but you also want simple and maintainable code. Achieve all that by\n      embracing the full stack of web development, from styling with\n      Bootstrap, building an interactive user interface with AngularJS, to\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\n      full-stack development to create usable, high-performing applications,\n      and learn to use these technologies effectively in a Ruby on Rails\n      environment.\n      </p>', 'dcbang.jpg', 45.0, '2020-12-30 07:23:48.029815', '2020-12-30 07:23:48.029815')[0m
  [1m[35m (64.5ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:27)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Seven Mobile Apps in Seven Weeks' LIMIT 1[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps in Seven Weeks', '<p>\n      <em>Native Apps, Multiple Platforms</em>\n      Answer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\n      resounding YES. This book will help you get there with a real-world\n      introduction to seven platforms, whether you‚Äôre new to mobile or an\n      experienced developer needing to expand your options. Plus, you‚Äôll find\n      out which cross-platform solution makes the most sense for your needs.\n      </p>', '7apps.jpg', 26.0, '2020-12-30 07:23:48.108869', '2020-12-30 07:23:48.108869')[0m
  [1m[35m (107.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:41)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Ruby Performance Optimization' LIMIT 1[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Ruby Performance Optimization', '<p>\n      <em>Why Ruby Is Slow, and How to Fix It</em>\n      You don‚Äôt have to accept slow Ruby or Rails performance. In this\n      comprehensive guide to Ruby optimization, you‚Äôll learn how to write\n      faster Ruby code‚Äîbut that‚Äôs just the beginning. See exactly what makes\n      Ruby and Rails code slow, and how to fix it. Alex Dymo will guide you\n      through perils of memory and CPU optimization, profiling, measuring,\n      performance testing, garbage collection, and tuning. You‚Äôll find that\n      all those ‚Äúhard‚Äù things aren‚Äôt so difficult after all, and your code\n      will run orders of magnitude faster.\n      </p>', 'adrpo.jpg', 46.0, '2020-12-30 07:23:48.227148', '2020-12-30 07:23:48.227148')[0m
  [1m[35m (79.9ms)[0m  [1m[35mCOMMIT[0m
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:23:48 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-30 13:23:48 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230072348227148 (3.9ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230072348029815 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230072348029815 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230072348227148 (0.4ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230072348227148 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230072348108869 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230072348108869 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230072348227148 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 40.5ms | Allocations: 8184)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.0ms | Allocations: 1110)
Completed 200 OK in 62ms (Views: 55.4ms | ActiveRecord: 3.7ms | Allocations: 14821)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 13:23:49 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:23:49 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:23:50 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 13:23:50 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"1fHH/GWa8SNovNblbJ2x9kiBoD/rC7lEhNVO9LNVvxNlLRy0LmhLYyKV+32au0DHfFAwPNZisWSMGcTWyynflQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-30 07:23:50.522864', '2020-12-30 07:23:50.522864')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[35m (96.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 129ms (ActiveRecord: 100.7ms | Allocations: 10496)


Started GET "/" for 127.0.0.1 at 2020-12-30 13:23:50 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230072348227148 (2.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 938)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.4ms | Allocations: 1101)
  Rendered carts/_cart.html.erb (Duration: 8.4ms | Allocations: 2467)
Completed 200 OK in 25ms (Views: 19.8ms | ActiveRecord: 3.2ms | Allocations: 9002)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 13:23:50 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:23:50 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:23:53 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 13:23:53 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:87:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.3ms | Allocations: 2240)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.4ms | Allocations: 2534)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.5ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 10.4ms | Allocations: 2107)
Completed 200 OK in 54ms (Views: 26.9ms | ActiveRecord: 4.0ms | Allocations: 16494)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 13:23:53 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:23:53 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 13:24:00 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 13:24:00 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"mYlO+tb2iVc73Lkqq0D/GGCtblVTuD2PlGtB9HAtPB8pVZWynQQzF3H1lLJdZg4pVHz+Vm7RNa+cp8vWCFFcmQ==", "order"=>{"name"=>"s", "address"=>"s", "email"=>"a@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('s', 's', 'a@gmail.com', 1, '2020-12-30 07:24:00.745638', '2020-12-30 07:24:00.745638')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[35m (113.9ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
Completed 500 Internal Server Error in 138ms (ActiveRecord: 116.2ms | Allocations: 7077)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `order_id`):
  
app/controllers/orders_controller.rb:34:in `block in create'
app/controllers/orders_controller.rb:33:in `create'
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1316.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS `depot_development`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (399.2ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (356.5ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (364.5ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (53.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (387.5ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (104.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (527.7ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (101.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (677.7ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (45.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (46.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (407.5ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (45.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-12-30 08:15:48.439777', '2020-12-30 08:15:48.439777')[0m
  [1m[35m (50.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddOrderToLineItem (20201229060931)
  [1m[35m (694.7ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint NOT NULL[0m
  [1m[35m (336.3ms)[0m  [1m[35mCREATE  INDEX `index_line_items_on_order_id`  ON `line_items` (`order_id`) [0m
  [1m[35m (1268.8ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_2dc2e5c22c`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229060931')[0m
  [1m[35m (61.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-30 14:17:35 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (3.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 08:17:35.134106', '2020-12-30 08:17:35.134106')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (90.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-0 (4.9ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-0 (0.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 1708)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 7.3ms | Allocations: 1372)
Completed 200 OK in 167ms (Views: 39.1ms | ActiveRecord: 97.3ms | Allocations: 17023)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 14:17:35 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:17:35 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM `products`[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:11)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' LIMIT 1[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Rails, Angular, Postgres, and Bootstrap', '<p>\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\n      As a Rails developer, you care about user experience and performance,\n      but you also want simple and maintainable code. Achieve all that by\n      embracing the full stack of web development, from styling with\n      Bootstrap, building an interactive user interface with AngularJS, to\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\n      full-stack development to create usable, high-performing applications,\n      and learn to use these technologies effectively in a Ruby on Rails\n      environment.\n      </p>', 'dcbang.jpg', 45.0, '2020-12-30 08:17:50.958280', '2020-12-30 08:17:50.958280')[0m
  [1m[35m (41.8ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:27)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Seven Mobile Apps in Seven Weeks' LIMIT 1[0m
  [1m[36mProduct Create (3.0ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps in Seven Weeks', '<p>\n      <em>Native Apps, Multiple Platforms</em>\n      Answer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\n      resounding YES. This book will help you get there with a real-world\n      introduction to seven platforms, whether you‚Äôre new to mobile or an\n      experienced developer needing to expand your options. Plus, you‚Äôll find\n      out which cross-platform solution makes the most sense for your needs.\n      </p>', '7apps.jpg', 26.0, '2020-12-30 08:17:51.016974', '2020-12-30 08:17:51.016974')[0m
  [1m[35m (103.2ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:41)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Ruby Performance Optimization' LIMIT 1[0m
  [1m[36mProduct Create (2.0ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Ruby Performance Optimization', '<p>\n      <em>Why Ruby Is Slow, and How to Fix It</em>\n      You don‚Äôt have to accept slow Ruby or Rails performance. In this\n      comprehensive guide to Ruby optimization, you‚Äôll learn how to write\n      faster Ruby code‚Äîbut that‚Äôs just the beginning. See exactly what makes\n      Ruby and Rails code slow, and how to fix it. Alex Dymo will guide you\n      through perils of memory and CPU optimization, profiling, measuring,\n      performance testing, garbage collection, and tuning. You‚Äôll find that\n      all those ‚Äúhard‚Äù things aren‚Äôt so difficult after all, and your code\n      will run orders of magnitude faster.\n      </p>', 'adrpo.jpg', 46.0, '2020-12-30 08:17:51.137718', '2020-12-30 08:17:51.137718')[0m
  [1m[35m (96.1ms)[0m  [1m[35mCOMMIT[0m
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:30:58 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-30 14:30:58 +0600
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230081751137718 (3.4ms)
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230081750958280 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230081750958280 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230081751137718 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230081751137718 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230081751016974 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230081751016974 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230081751137718 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 32.5ms | Allocations: 7963)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 1112)
Completed 200 OK in 51ms (Views: 44.1ms | ActiveRecord: 4.1ms | Allocations: 14587)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 14:30:58 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:30:58 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-30 14:31:13 +0600
  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:31:13 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-30 14:32:20 +0600
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:32:21 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:32:36 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-30 14:32:36 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230081751137718 (3.2ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230081750958280 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230081750958280 (0.8ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230081751137718 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230081751137718 (0.9ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230081751016974 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230081751016974 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230081751137718 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 67.4ms | Allocations: 18606)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.5ms | Allocations: 1515)
Completed 200 OK in 133ms (Views: 94.9ms | ActiveRecord: 7.4ms | Allocations: 36407)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 14:32:37 +0600
  [1m[35m (4.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:32:37 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:32:38 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 14:32:38 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"i2SItxbU++RKYT2gLaAmsSbiQKxg04wUpB22UW4i10E7uFP/XSZBpABIEDjbhteAEjPQr126hDSs0TxzFl63xw==", "product_id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (0.9ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-30 08:32:38.549123', '2020-12-30 08:32:38.549123')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 3.8ms | Allocations: 11991)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Field 'order_id' doesn't have a default value):
  
app/controllers/line_items_controller.rb:33:in `block in create'
app/controllers/line_items_controller.rb:32:in `create'
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-30 14:34:21 +0600
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230081751137718 (4.0ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230081750958280 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230081750958280 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230081751137718 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230081751137718 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230081751016974 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230081751016974 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230081751137718 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 65.7ms | Allocations: 18648)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.3ms | Allocations: 1515)
Completed 200 OK in 159ms (Views: 101.1ms | ActiveRecord: 7.1ms | Allocations: 36421)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 14:34:21 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:34:21 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:34:23 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 14:34:23 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"H5dLFeqpqCy2dBon8gRuekPv9lVemQV1xBdXzXEYm/GvS5BdoVsSbPxdN78EIp9Ldz5mVmPwDVXM293vCWT7dw==", "product_id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (1.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-30 08:34:23.092283', '2020-12-30 08:34:23.092283')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
Completed 500 Internal Server Error in 42ms (ActiveRecord: 4.9ms | Allocations: 12000)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Field 'order_id' doesn't have a default value):
  
app/controllers/line_items_controller.rb:33:in `block in create'
app/controllers/line_items_controller.rb:32:in `create'
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 14:34:54 +0600
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"H5dLFeqpqCy2dBon8gRuekPv9lVemQV1xBdXzXEYm/GvS5BdoVsSbPxdN78EIp9Ldz5mVmPwDVXM293vCWT7dw==", "product_id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (1.0ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-30 08:34:54.994142', '2020-12-30 08:34:54.994142')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 3.7ms | Allocations: 6990)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Field 'order_id' doesn't have a default value):
  
app/controllers/line_items_controller.rb:33:in `block in create'
app/controllers/line_items_controller.rb:32:in `create'
Started GET "/" for 127.0.0.1 at 2020-12-30 14:35:04 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230081751137718 (3.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 946)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 1134)
Completed 200 OK in 32ms (Views: 23.8ms | ActiveRecord: 2.5ms | Allocations: 7731)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 14:35:04 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:35:04 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:35:06 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-30 14:35:06 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"6zmsdZE9b0fAU/GiJnG64BFg5t7w01RUDGezCjCyuMVb5Xc92s/VB4p63DrQV0vRJbF23c26XHQEqzkoSM7YQw==", "product_id"=>"3"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (0.9ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, '2020-12-30 08:35:06.910713', '2020-12-30 08:35:06.910713')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 3.8ms | Allocations: 6946)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Field 'order_id' doesn't have a default value):
  
app/controllers/line_items_controller.rb:33:in `block in create'
app/controllers/line_items_controller.rb:32:in `create'
Started GET "/cable" for 127.0.0.1 at 2020-12-30 14:40:47 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:40:48 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:40:48 +0600
Started GET "/cable" for 127.0.0.1 at 2020-12-30 14:40:48 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:40:48 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:40:49 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-30 14:40:50 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:40:50 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:40:52 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-30 14:40:52 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230081751137718 (4.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1040)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 1357)
Completed 200 OK in 51ms (Views: 23.6ms | ActiveRecord: 5.9ms | Allocations: 14431)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 14:40:52 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:40:52 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:40:55 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 14:40:55 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"rKji0JAbAuxRUMAJf1BdbzGvLfoRdeleWAJRsVfa0GocdDmY2+m4rBt57ZGJdqxeBX69+Swc4X5QztuTL6aw7A==", "product_id"=>"1"}
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (1.1ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-30 08:40:55.190987', '2020-12-30 08:40:55.190987')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 5.8ms | Allocations: 14581)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Field 'order_id' doesn't have a default value):
  
app/controllers/line_items_controller.rb:33:in `block in create'
app/controllers/line_items_controller.rb:32:in `create'
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.1ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable" for 127.0.0.1 at 2020-12-30 14:49:12 +0600
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:49:12 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:49:16 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-30 14:49:16 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230081751137718 (3.7ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230081750958280 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230081750958280 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230081751137718 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230081751137718 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230081751016974 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230081751016974 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230081751137718 (0.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 72.8ms | Allocations: 18606)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 7.7ms | Allocations: 1515)
Completed 200 OK in 139ms (Views: 107.3ms | ActiveRecord: 7.8ms | Allocations: 36469)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 14:49:16 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:49:16 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:49:18 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 14:49:18 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"+UXFzxwpKKqWRnT/k6cAsDTtijtXyuVPDQqKnrd1nO1JmR6HV9uS6txvWWdlgfGBADwaOGqj7W8FxgC8zwn8aw==", "product_id"=>"1"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (2.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (1.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-30 08:49:18.647889', '2020-12-30 08:49:18.647889')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
Completed 500 Internal Server Error in 62ms (ActiveRecord: 7.4ms | Allocations: 12027)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Field 'order_id' doesn't have a default value):
  
app/controllers/line_items_controller.rb:33:in `block in create'
app/controllers/line_items_controller.rb:32:in `create'
  [1m[35m (1.0ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (1.0ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (388.2ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (403.3ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (405.9ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (58.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (420.2ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (90.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (507.6ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (45.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (710.8ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (54.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (47.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (443.2ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (58.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderToLineItem (20201229060931)
  [1m[35m (734.0ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint NOT NULL[0m
  [1m[35m (431.1ms)[0m  [1m[35mCREATE  INDEX `index_line_items_on_order_id`  ON `line_items` (`order_id`) [0m
  [1m[35m (1201.8ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_2dc2e5c22c`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229060931')[0m
  [1m[35m (47.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-12-30 08:52:49.386725', '2020-12-30 08:52:49.386725')[0m
  [1m[35m (51.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-30 14:53:36 +0600
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (3.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 08:53:37.005693', '2020-12-30 08:53:37.005693')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (62.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-0 (5.4ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-0 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 14.2ms | Allocations: 2600)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 13.0ms | Allocations: 3293)
Completed 200 OK in 272ms (Views: 102.0ms | ActiveRecord: 76.0ms | Allocations: 32788)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 14:53:37 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:53:37 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:53:54 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-30 14:53:54 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-0 (6.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 928)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.2ms | Allocations: 1120)
Completed 200 OK in 49ms (Views: 42.1ms | ActiveRecord: 3.1ms | Allocations: 7681)


  [1m[35m (2.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mProduct Destroy (1.2ms)[0m  [1m[31mDELETE FROM `products`[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:11)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Rails, Angular, Postgres, and Bootstrap', '<p>\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\n      As a Rails developer, you care about user experience and performance,\n      but you also want simple and maintainable code. Achieve all that by\n      embracing the full stack of web development, from styling with\n      Bootstrap, building an interactive user interface with AngularJS, to\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\n      full-stack development to create usable, high-performing applications,\n      and learn to use these technologies effectively in a Ruby on Rails\n      environment.\n      </p>', 'dcbang.jpg', 45.0, '2020-12-30 08:53:54.499661', '2020-12-30 08:53:54.499661')[0m
  [1m[35m (45.6ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:27)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Seven Mobile Apps in Seven Weeks' LIMIT 1[0m
  [1m[36mProduct Create (3.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps in Seven Weeks', '<p>\n      <em>Native Apps, Multiple Platforms</em>\n      Answer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\n      resounding YES. This book will help you get there with a real-world\n      introduction to seven platforms, whether you‚Äôre new to mobile or an\n      experienced developer needing to expand your options. Plus, you‚Äôll find\n      out which cross-platform solution makes the most sense for your needs.\n      </p>', '7apps.jpg', 26.0, '2020-12-30 08:53:54.563467', '2020-12-30 08:53:54.563467')[0m
  [1m[35m (92.3ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:41)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Ruby Performance Optimization' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Ruby Performance Optimization', '<p>\n      <em>Why Ruby Is Slow, and How to Fix It</em>\n      You don‚Äôt have to accept slow Ruby or Rails performance. In this\n      comprehensive guide to Ruby optimization, you‚Äôll learn how to write\n      faster Ruby code‚Äîbut that‚Äôs just the beginning. See exactly what makes\n      Ruby and Rails code slow, and how to fix it. Alex Dymo will guide you\n      through perils of memory and CPU optimization, profiling, measuring,\n      performance testing, garbage collection, and tuning. You‚Äôll find that\n      all those ‚Äúhard‚Äù things aren‚Äôt so difficult after all, and your code\n      will run orders of magnitude faster.\n      </p>', 'adrpo.jpg', 46.0, '2020-12-30 08:53:54.673462', '2020-12-30 08:53:54.673462')[0m
Started GET "/cable" for 127.0.0.1 at 2020-12-30 14:53:54 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:53:54 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[35m (96.1ms)[0m  [1m[35mCOMMIT[0m
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:54:00 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-30 14:54:00 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (1.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230085354673462 (4.5ms)
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230085354499661 (0.8ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230085354499661 (0.7ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230085354673462 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230085354673462 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230085354563467 (0.1ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230085354563467 (0.4ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230085354673462 (0.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 51.0ms | Allocations: 8196)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.4ms | Allocations: 1111)
Completed 200 OK in 79ms (Views: 69.9ms | ActiveRecord: 5.6ms | Allocations: 14800)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 14:54:01 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:54:01 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:54:02 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 14:54:02 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"6DPDYWCxFmrp2mzzroSUJluUV6FoiAyFadsiOuffk1pY7xgpK0OsKqPzQWtYomUXb0XHolXhBKVhF6gYn6Pz3A==", "product_id"=>"1"}
  [1m[36mCart Load (3.0ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mProduct Load (2.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (1.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-30 08:54:02.758196', '2020-12-30 08:54:02.758196')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
Completed 500 Internal Server Error in 73ms (ActiveRecord: 11.3ms | Allocations: 11841)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Field 'order_id' doesn't have a default value):
  
app/controllers/line_items_controller.rb:33:in `block in create'
app/controllers/line_items_controller.rb:32:in `create'
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-30 14:55:37 +0600
  [1m[35m (2.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230085354673462 (5.9ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230085354499661 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230085354499661 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230085354673462 (0.6ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230085354673462 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230085354563467 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230085354563467 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230085354673462 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 87.4ms | Allocations: 18645)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.9ms | Allocations: 1515)
Completed 200 OK in 235ms (Views: 127.1ms | ActiveRecord: 12.3ms | Allocations: 36473)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 14:55:38 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:55:38 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 14:55:40 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-30 14:55:40 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"S7QYDqBFlyum3SgGpmrDAs0YjkcfTeRXJoin1BIFGxr7aMNG67cta+z0BZ5QTDIz+ckeRCIk7HcuRC32anl7nA==", "product_id"=>"3"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (2.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, '2020-12-30 08:55:40.557574', '2020-12-30 08:55:40.557574')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
Completed 500 Internal Server Error in 68ms (ActiveRecord: 9.1ms | Allocations: 12026)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Field 'order_id' doesn't have a default value):
  
app/controllers/line_items_controller.rb:33:in `block in create'
app/controllers/line_items_controller.rb:32:in `create'
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (3.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-30 15:00:15 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (2.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230085354673462 (4.6ms)
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230085354499661 (0.5ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230085354499661 (0.9ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230085354673462 (0.4ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230085354673462 (0.7ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230085354563467 (0.1ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230085354563467 (0.4ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230085354673462 (0.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 83.2ms | Allocations: 18628)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 8.9ms | Allocations: 1515)
Completed 200 OK in 208ms (Views: 120.3ms | ActiveRecord: 11.3ms | Allocations: 36451)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 15:00:15 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:00:15 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:00:18 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=2" for 127.0.0.1 at 2020-12-30 15:00:18 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"nClQQCCkXT7QjXOFSA1GKYch6OaYFqRSHNoWp1UVLTos9YsIa1bnfpqkXh2+K7cYs/B45aV/rHIUFpyFLWlNvA==", "product_id"=>"2"}
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (4.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (1.7ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (2, 1, '2020-12-30 09:00:18.546364', '2020-12-30 09:00:18.546364')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:33:in `block in create'
Completed 500 Internal Server Error in 75ms (ActiveRecord: 11.0ms | Allocations: 12021)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Field 'order_id' doesn't have a default value):
  
app/controllers/line_items_controller.rb:33:in `block in create'
app/controllers/line_items_controller.rb:32:in `create'
  [1m[35m (1.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (416.9ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (499.6ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (418.1ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (5.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (53.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (555.5ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (92.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (441.2ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (48.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (822.3ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (55.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (46.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (619.4ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (58.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderToLineItem (20201229060931)
  [1m[35m (763.2ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint[0m
  [1m[35m (286.2ms)[0m  [1m[35mCREATE  INDEX `index_line_items_on_order_id`  ON `line_items` (`order_id`) [0m
  [1m[35m (1101.3ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_2dc2e5c22c`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229060931')[0m
  [1m[35m (47.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (2.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-12-30 09:39:07.769340', '2020-12-30 09:39:07.769340')[0m
  [1m[35m (45.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-30 15:41:42 +0600
  [1m[35m (2.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 09:41:42.270501', '2020-12-30 09:41:42.270501')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (52.7ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-0 (4.2ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-0 (0.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 12.5ms | Allocations: 2607)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 9.4ms | Allocations: 3296)
Completed 200 OK in 274ms (Views: 139.2ms | ActiveRecord: 60.3ms | Allocations: 32057)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 15:41:42 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:41:42 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (3.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM `products`[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:11)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Rails, Angular, Postgres, and Bootstrap', '<p>\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\n      As a Rails developer, you care about user experience and performance,\n      but you also want simple and maintainable code. Achieve all that by\n      embracing the full stack of web development, from styling with\n      Bootstrap, building an interactive user interface with AngularJS, to\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\n      full-stack development to create usable, high-performing applications,\n      and learn to use these technologies effectively in a Ruby on Rails\n      environment.\n      </p>', 'dcbang.jpg', 45.0, '2020-12-30 09:41:56.424448', '2020-12-30 09:41:56.424448')[0m
  [1m[35m (54.6ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:27)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Seven Mobile Apps in Seven Weeks' LIMIT 1[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps in Seven Weeks', '<p>\n      <em>Native Apps, Multiple Platforms</em>\n      Answer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\n      resounding YES. This book will help you get there with a real-world\n      introduction to seven platforms, whether you‚Äôre new to mobile or an\n      experienced developer needing to expand your options. Plus, you‚Äôll find\n      out which cross-platform solution makes the most sense for your needs.\n      </p>', '7apps.jpg', 26.0, '2020-12-30 09:41:56.494574', '2020-12-30 09:41:56.494574')[0m
  [1m[35m (106.5ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:41)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Ruby Performance Optimization' LIMIT 1[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Ruby Performance Optimization', '<p>\n      <em>Why Ruby Is Slow, and How to Fix It</em>\n      You don‚Äôt have to accept slow Ruby or Rails performance. In this\n      comprehensive guide to Ruby optimization, you‚Äôll learn how to write\n      faster Ruby code‚Äîbut that‚Äôs just the beginning. See exactly what makes\n      Ruby and Rails code slow, and how to fix it. Alex Dymo will guide you\n      through perils of memory and CPU optimization, profiling, measuring,\n      performance testing, garbage collection, and tuning. You‚Äôll find that\n      all those ‚Äúhard‚Äù things aren‚Äôt so difficult after all, and your code\n      will run orders of magnitude faster.\n      </p>', 'adrpo.jpg', 46.0, '2020-12-30 09:41:56.617671', '2020-12-30 09:41:56.617671')[0m
  [1m[35m (95.1ms)[0m  [1m[35mCOMMIT[0m
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:41:57 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-30 15:41:57 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230094156617671 (3.2ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230094156424448 (0.4ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230094156424448 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230094156617671 (0.1ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230094156617671 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230094156494574 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230094156494574 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230094156617671 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 31.8ms | Allocations: 8183)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.6ms | Allocations: 1111)
Completed 200 OK in 52ms (Views: 46.1ms | ActiveRecord: 2.7ms | Allocations: 14953)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 15:41:57 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:41:57 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:41:59 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 15:41:59 +0600
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/line_items_controller.rb:2:in `<class:LineItemsController>'
app/controllers/line_items_controller.rb:1:in `<main>'
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-30 15:43:37 +0600
  [1m[35m (1.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (2.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230094156617671 (3.7ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230094156424448 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230094156424448 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230094156617671 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230094156617671 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230094156494574 (0.1ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230094156494574 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230094156617671 (0.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 60.1ms | Allocations: 18628)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 1515)
Completed 200 OK in 137ms (Views: 86.0ms | ActiveRecord: 8.7ms | Allocations: 36425)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 15:43:37 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:43:37 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:43:39 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 15:43:39 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"d1Z+vJkBVSnefAAGg4vDrGLxqSURoTFP9Jba4Z20TBJFzY/91VhJWe4dkxqiFuklDJ5MU4lUGb4BwI1v2lmtJA==", "product_id"=>"1"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-30 09:43:39.697830', '2020-12-30 09:43:39.697830')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (113.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 151ms (ActiveRecord: 118.6ms | Allocations: 11186)


Started GET "/" for 127.0.0.1 at 2020-12-30 15:43:39 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230094156617671 (2.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.4ms | Allocations: 1101)
  Rendered carts/_cart.html.erb (Duration: 7.7ms | Allocations: 2468)
Completed 200 OK in 28ms (Views: 21.4ms | ActiveRecord: 3.0ms | Allocations: 9006)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 15:43:39 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:43:39 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:43:44 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 15:43:44 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:87:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 66.8ms | Allocations: 2240)
  Rendered orders/new.html.erb within layouts/application (Duration: 68.5ms | Allocations: 2535)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.8ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 8.9ms | Allocations: 2108)
Completed 200 OK in 182ms (Views: 91.8ms | ActiveRecord: 5.2ms | Allocations: 16169)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 15:43:44 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:43:44 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:43:52 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 15:43:52 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"U0xsai62U5EO3I/TQAxBFo2iIPtx+rSiiJ4oKbxtsW9h150rYu9P4T69HM9hkWuf483FjekPnFN9yH+n+4BQWQ==", "order"=>{"name"=>"d", "address"=>"d", "email"=>"a@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('d', 'd', 'a@gmail.com', 1, '2020-12-30 09:43:52.634421', '2020-12-30 09:43:52.634421')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mLineItem Update (1.2ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 1, `line_items`.`updated_at` = '2020-12-30 09:43:52.639075' WHERE `line_items`.`id` = 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[35m (169.4ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
Completed 500 Internal Server Error in 199ms (ActiveRecord: 173.1ms | Allocations: 9594)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:34:in `block in create'
app/controllers/orders_controller.rb:33:in `create'
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (405.4ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (445.3ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (388.2ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (55.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (387.9ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (191.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (496.1ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (50.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (890.5ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (50.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (54.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (455.1ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (57.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderToLineItem (20201229060931)
  [1m[35m (748.1ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint[0m
  [1m[35m (351.1ms)[0m  [1m[35mCREATE  INDEX `index_line_items_on_order_id`  ON `line_items` (`order_id`) [0m
  [1m[35m (1068.2ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_2dc2e5c22c`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
[0m
  [1m[35m (53.0ms)[0m  [1m[35mALTER TABLE `line_items` CHANGE `cart_id` `cart_id` int NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (395.4ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (401.9ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (396.9ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (57.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (365.9ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (165.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (513.8ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (46.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (880.0ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (58.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (55.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (399.3ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (102.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderToLineItem (20201229060931)
  [1m[35m (723.4ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint[0m
  [1m[35m (276.0ms)[0m  [1m[35mCREATE  INDEX `index_line_items_on_order_id`  ON `line_items` (`order_id`) [0m
  [1m[35m (1093.2ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_2dc2e5c22c`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
[0m
  [1m[35m (53.2ms)[0m  [1m[35mALTER TABLE `line_items` CHANGE `cart_id` `cart_id` int DEFAULT NULL[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (540.3ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (448.9ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (2.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (451.4ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (41.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (410.8ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (91.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (541.1ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (46.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (911.6ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (48.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (50.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (587.3ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (56.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderToLineItem (20201229060931)
  [1m[35m (728.8ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint[0m
  [1m[35m (371.3ms)[0m  [1m[35mCREATE  INDEX `index_line_items_on_order_id`  ON `line_items` (`order_id`) [0m
  [1m[35m (1546.6ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_2dc2e5c22c`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229060931')[0m
  [1m[35m (57.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-12-30 09:51:10.084276', '2020-12-30 09:51:10.084276')[0m
  [1m[35m (104.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-30 15:51:36 +0600
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 09:51:37.085728', '2020-12-30 09:51:37.085728')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (85.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-0 (2.9ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-0 (0.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 2600)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 9.2ms | Allocations: 3293)
Completed 200 OK in 210ms (Views: 57.8ms | ActiveRecord: 94.2ms | Allocations: 32764)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 15:51:37 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:51:37 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-30 15:52:01 +0600
  [1m[35m (1.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:52:01 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM `products`[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:11)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' LIMIT 1[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Rails, Angular, Postgres, and Bootstrap', '<p>\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\n      As a Rails developer, you care about user experience and performance,\n      but you also want simple and maintainable code. Achieve all that by\n      embracing the full stack of web development, from styling with\n      Bootstrap, building an interactive user interface with AngularJS, to\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\n      full-stack development to create usable, high-performing applications,\n      and learn to use these technologies effectively in a Ruby on Rails\n      environment.\n      </p>', 'dcbang.jpg', 45.0, '2020-12-30 09:52:34.667879', '2020-12-30 09:52:34.667879')[0m
  [1m[35m (52.6ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:27)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Seven Mobile Apps in Seven Weeks' LIMIT 1[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps in Seven Weeks', '<p>\n      <em>Native Apps, Multiple Platforms</em>\n      Answer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\n      resounding YES. This book will help you get there with a real-world\n      introduction to seven platforms, whether you‚Äôre new to mobile or an\n      experienced developer needing to expand your options. Plus, you‚Äôll find\n      out which cross-platform solution makes the most sense for your needs.\n      </p>', '7apps.jpg', 26.0, '2020-12-30 09:52:34.735802', '2020-12-30 09:52:34.735802')[0m
  [1m[35m (96.0ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:41)
  [1m[35m (4.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Ruby Performance Optimization' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Ruby Performance Optimization', '<p>\n      <em>Why Ruby Is Slow, and How to Fix It</em>\n      You don‚Äôt have to accept slow Ruby or Rails performance. In this\n      comprehensive guide to Ruby optimization, you‚Äôll learn how to write\n      faster Ruby code‚Äîbut that‚Äôs just the beginning. See exactly what makes\n      Ruby and Rails code slow, and how to fix it. Alex Dymo will guide you\n      through perils of memory and CPU optimization, profiling, measuring,\n      performance testing, garbage collection, and tuning. You‚Äôll find that\n      all those ‚Äúhard‚Äù things aren‚Äôt so difficult after all, and your code\n      will run orders of magnitude faster.\n      </p>', 'adrpo.jpg', 46.0, '2020-12-30 09:52:34.850317', '2020-12-30 09:52:34.850317')[0m
  [1m[35m (71.7ms)[0m  [1m[35mCOMMIT[0m
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:52:40 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-30 15:52:40 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (3.5ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230095234667879 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230095234667879 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230095234850317 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230095234850317 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230095234735802 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230095234735802 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 53.6ms | Allocations: 18599)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.7ms | Allocations: 1515)
Completed 200 OK in 109ms (Views: 78.4ms | ActiveRecord: 6.9ms | Allocations: 36353)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 15:52:40 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:52:40 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:52:42 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 15:52:42 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"lvqtWQAfTBoeiQQ72h0f8xHmxiBtWvbklEBIBq0Kck2kYVwYTEZQai7olyf7gDV6f4kjVvWv3hVhFh+I6ueTew==", "product_id"=>"1"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-30 09:52:42.306737', '2020-12-30 09:52:42.306737')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (86.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 123ms (ActiveRecord: 90.1ms | Allocations: 11195)


Started GET "/" for 127.0.0.1 at 2020-12-30 15:52:42 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (3.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.2ms | Allocations: 1101)
  Rendered carts/_cart.html.erb (Duration: 11.1ms | Allocations: 2468)
Completed 200 OK in 37ms (Views: 29.9ms | ActiveRecord: 3.0ms | Allocations: 9014)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 15:52:42 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:52:42 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:52:46 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/1" for 127.0.0.1 at 2020-12-30 15:52:46 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"cNvSQ0CZewxZA1ALo0u7nnMfYw3zFPgPQLT/YOWYoiFCQCMCDMBnfGliwxeC1pEXHXCGe2vh0P614qjuonVDFw==", "id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (1.6ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (84.4ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (87.1ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 190ms (ActiveRecord: 174.7ms | Allocations: 5109)


Started GET "/" for 127.0.0.1 at 2020-12-30 15:52:46 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 09:52:46.284991', '2020-12-30 09:52:46.284991')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (69.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (4.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 938)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 1120)
Completed 200 OK in 101ms (Views: 21.4ms | ActiveRecord: 72.3ms | Allocations: 9814)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 15:52:46 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:52:46 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:52:47 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 15:52:47 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"k6NWnegMvFYzksN32nR0sP88GPu+Ha6BPP8bGbK5CoqhOKfcpFWgJgPzUGv76V45kVP9jSbohnDJqUyX9VTrvA==", "product_id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 2, '2020-12-30 09:52:47.626407', '2020-12-30 09:52:47.626407')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (131.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 156ms (ActiveRecord: 135.8ms | Allocations: 6045)


Started GET "/" for 127.0.0.1 at 2020-12-30 15:52:47 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (4.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.3ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 23.8ms | Allocations: 2113)
Completed 200 OK in 50ms (Views: 42.8ms | ActiveRecord: 3.5ms | Allocations: 8635)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 15:52:47 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:52:47 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:52:48 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 15:52:48 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:87:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 8.4ms | Allocations: 2240)
  Rendered orders/new.html.erb within layouts/application (Duration: 10.0ms | Allocations: 2537)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.6ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 5.8ms | Allocations: 2108)
Completed 200 OK in 61ms (Views: 27.9ms | ActiveRecord: 5.8ms | Allocations: 16530)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 15:52:49 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:52:49 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 15:52:56 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 15:52:56 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"e1wX4yNOWYUfUhDUQ7n3vjA/0iTDuIOigIB4nFT1pZZJx+aibxdF9S8zg8hiJN03XlA3UltNq1N11i8SExhEoA==", "order"=>{"name"=>"e", "address"=>"e", "email"=>"a@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (2.0ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mOrder Create (2.7ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('e', 'e', 'a@gmail.com', 1, '2020-12-30 09:52:56.490619', '2020-12-30 09:52:56.490619')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mLineItem Update (1.2ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 1, `line_items`.`updated_at` = '2020-12-30 09:52:56.497884' WHERE `line_items`.`id` = 2[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[35m (70.4ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
Completed 500 Internal Server Error in 103ms (ActiveRecord: 78.1ms | Allocations: 9454)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:34:in `block in create'
app/controllers/orders_controller.rb:33:in `create'
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-30 16:14:08 +0600
  [1m[35m (1.0ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (4.1ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230095234667879 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230095234667879 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230095234850317 (0.1ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230095234850317 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230095234735802 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230095234735802 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 60.7ms | Allocations: 18628)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.0ms | Allocations: 1881)
  Rendered carts/_cart.html.erb (Duration: 26.9ms | Allocations: 7820)
Completed 200 OK in 165ms (Views: 107.6ms | ActiveRecord: 9.0ms | Allocations: 42730)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 16:14:08 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:14:08 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:14:13 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 16:14:13 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:87:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.3ms | Allocations: 2241)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.5ms | Allocations: 2536)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (3.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.6ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 10.8ms | Allocations: 2108)
Completed 200 OK in 59ms (Views: 27.2ms | ActiveRecord: 6.6ms | Allocations: 16110)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 16:14:14 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:14:14 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:14:25 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 16:14:25 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"/hGB+yjKEyVYWaVsonQLp2qRMF13zBYsw2NS/4SK+bjMinC6ZJMPVWg4NnCD6SEuBP7VK+85Pt02NQVxw2cYjg==", "order"=>{"name"=>"e", "address"=>"e", "email"=>"a@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('e', 'e', 'a@gmail.com', 0, '2020-12-30 10:14:25.483550', '2020-12-30 10:14:25.483550')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mLineItem Update (1.7ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 2, `line_items`.`updated_at` = '2020-12-30 10:14:25.490709' WHERE `line_items`.`id` = 2[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[35m (223.7ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
Completed 500 Internal Server Error in 250ms (ActiveRecord: 227.4ms | Allocations: 7941)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:34:in `block in create'
app/controllers/orders_controller.rb:33:in `create'
Started GET "/" for 127.0.0.1 at 2020-12-30 16:17:13 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (5.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 946)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.3ms | Allocations: 946)
  Rendered carts/_cart.html.erb (Duration: 10.3ms | Allocations: 2135)
Completed 200 OK in 41ms (Views: 33.1ms | ActiveRecord: 3.5ms | Allocations: 8777)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 16:17:14 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:17:14 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:17:16 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/2" for 127.0.0.1 at 2020-12-30 16:17:16 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"iaAr1QRAOdgZPguABUAUEAOCm8G5P9JxkWR55fXNvpu7O9qUSBklqClfmJwk3T6Zbe1+tyHK+oBkMi5rsiBfrQ==", "id"=>"2"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (1.6ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 2[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (104.8ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 2[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (77.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 217ms (ActiveRecord: 185.8ms | Allocations: 5154)


Started GET "/" for 127.0.0.1 at 2020-12-30 16:17:16 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 10:17:16.952323', '2020-12-30 10:17:16.952323')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (68.7ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (4.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.5ms | Allocations: 1120)
Completed 200 OK in 106ms (Views: 25.3ms | ActiveRecord: 72.0ms | Allocations: 9821)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 16:17:17 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:17:17 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:17:18 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 16:17:18 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"fgaaMKWBKtdo/3cWwWMoPbsR9aymvni2KfZDZzHAE+tMnWtx6dg2p1ie5Arg/gK01X4Q2j5LUEfcoBTpdi3y3Q==", "product_id"=>"1"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 3, '2020-12-30 10:17:19.010955', '2020-12-30 10:17:19.010955')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (133.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 155ms (ActiveRecord: 136.2ms | Allocations: 4962)


Started GET "/" for 127.0.0.1 at 2020-12-30 16:17:19 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (3.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.3ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 7.2ms | Allocations: 2113)
Completed 200 OK in 29ms (Views: 23.0ms | ActiveRecord: 2.7ms | Allocations: 8642)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 16:17:19 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:17:19 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:17:22 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/3" for 127.0.0.1 at 2020-12-30 16:17:22 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"MkKqD6ptRFlKgvpnfX3fMEh9OaZO0miT2pnMLG1mhf8A2VtO5jRYKXrjaXtc4PW5JhLc0NYnQGIvz5uiKotkyQ==", "id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (1.1ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 3[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 3[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (134.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 154ms (ActiveRecord: 137.5ms | Allocations: 5026)


Started GET "/" for 127.0.0.1 at 2020-12-30 16:17:22 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 10:17:22.733254', '2020-12-30 10:17:22.733254')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (47.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (4.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.8ms | Allocations: 1120)
Completed 200 OK in 84ms (Views: 24.7ms | ActiveRecord: 49.5ms | Allocations: 9694)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 16:17:22 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:17:22 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:17:26 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-30 16:17:26 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"hcv6pyWoDjiAsbFtWq8A/Y+eCodPyHSViG5YdOX7Eo23UAvmafESSLDQInF7Mip04fHv8dc9XGR9OA/6ohbzuw==", "product_id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 4, '2020-12-30 10:17:26.339665', '2020-12-30 10:17:26.339665')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (131.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 157ms (ActiveRecord: 134.8ms | Allocations: 4730)


Started GET "/" for 127.0.0.1 at 2020-12-30 16:17:26 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (3.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.1ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 7.3ms | Allocations: 2113)
Completed 200 OK in 30ms (Views: 22.8ms | ActiveRecord: 2.7ms | Allocations: 8632)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 16:17:26 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:17:26 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:17:27 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 16:17:27 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (1.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:87:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.3ms | Allocations: 1053)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1114)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.0ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 8.2ms | Allocations: 2104)
Completed 200 OK in 42ms (Views: 29.9ms | ActiveRecord: 4.4ms | Allocations: 9423)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 16:17:28 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:17:28 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:17:35 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 16:17:35 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"HjidSOR0Cf2wch7K0ZA1wv21JL59Cagqkkdbgxa3Ngkso2wJqC0VjYATjdbwDR9Lk9rByOX8gNtnEQwNUVrXPw==", "order"=>{"name"=>"a", "address"=>"a", "email"=>"a@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('a', 'a', 'a@gmail.com', 1, '2020-12-30 10:17:35.824386', '2020-12-30 10:17:35.824386')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mLineItem Update (2.0ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 3, `line_items`.`updated_at` = '2020-12-30 10:17:35.833271' WHERE `line_items`.`id` = 4[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[35m (91.2ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
Completed 500 Internal Server Error in 124ms (ActiveRecord: 96.6ms | Allocations: 6765)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:34:in `block in create'
app/controllers/orders_controller.rb:33:in `create'
Started GET "/cable" for 127.0.0.1 at 2020-12-30 16:20:31 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:20:31 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:20:33 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-30 16:20:33 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:20:33 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:20:36 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-30 16:20:36 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (4.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 938)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.1ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 8.0ms | Allocations: 2113)
Completed 200 OK in 35ms (Views: 28.7ms | ActiveRecord: 3.5ms | Allocations: 8680)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 16:20:36 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:20:36 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:20:39 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/4" for 127.0.0.1 at 2020-12-30 16:20:39 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"SsB8uZ6XbOMRoIMfPwIemTO3F7evBnXVVSzk55aFG3t4W4340s5wkyHBEAMenzQQXdjywTfzXSSgerNp0Wj6TQ==", "id"=>"4"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 4[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (2.9ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 4[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (94.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 118ms (ActiveRecord: 99.6ms | Allocations: 5015)


Started GET "/" for 127.0.0.1 at 2020-12-30 16:20:39 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 10:20:39.652957', '2020-12-30 10:20:39.652957')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (89.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (4.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 1120)
Completed 200 OK in 127ms (Views: 26.1ms | ActiveRecord: 92.5ms | Allocations: 9702)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 16:20:39 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:20:39 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:20:43 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 16:20:43 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"FDWLQgnivcyaEzJhwdEVYx+DEw2pfwTfq6WPdwf/K50mrnoDRbuhvKpyoX3gTD/qcez2ezGKLC5e89j5QBLKqw==", "product_id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (1.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (2.5ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.9ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 5, '2020-12-30 10:20:43.870891', '2020-12-30 10:20:43.870891')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (149.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 171ms (ActiveRecord: 155.7ms | Allocations: 4745)


Started GET "/" for 127.0.0.1 at 2020-12-30 16:20:44 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (3.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.1ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 8.9ms | Allocations: 2113)
Completed 200 OK in 38ms (Views: 29.6ms | ActiveRecord: 3.5ms | Allocations: 8647)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 16:20:44 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:20:44 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:20:47 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 16:20:47 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:87:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.1ms | Allocations: 1046)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.7ms | Allocations: 1107)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.3ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 11.0ms | Allocations: 2104)
Completed 200 OK in 43ms (Views: 31.1ms | ActiveRecord: 3.2ms | Allocations: 9388)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 16:20:47 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:20:47 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:21:06 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 16:21:06 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Xx8OMyGLGFd8qzsFyv7s44lvxgxb67ZH9S15Zom0wndthP9ybdIEJ0zKqBnrY8Zq5wAjesMenrYAey7ozlkjQQ==", "order"=>{"name"=>"d", "address"=>"d", "email"=>"as@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mOrder Create (5.2ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('d', 'd', 'as@gmail.com', 0, '2020-12-30 10:21:06.703778', '2020-12-30 10:21:06.703778')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mLineItem Update (1.4ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 4, `line_items`.`updated_at` = '2020-12-30 10:21:06.721343' WHERE `line_items`.`id` = 5[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[35m (217.3ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
Completed 500 Internal Server Error in 253ms (ActiveRecord: 225.5ms | Allocations: 6767)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:34:in `block in create'
app/controllers/orders_controller.rb:33:in `create'
Started GET "/" for 127.0.0.1 at 2020-12-30 16:52:31 +0600
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (3.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.7ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 11.3ms | Allocations: 2113)
Completed 200 OK in 40ms (Views: 31.5ms | ActiveRecord: 4.0ms | Allocations: 8667)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 16:52:31 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:52:31 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:52:38 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 16:52:38 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:87:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.4ms | Allocations: 1046)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1107)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.6ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 7.7ms | Allocations: 2104)
Completed 200 OK in 40ms (Views: 24.2ms | ActiveRecord: 2.0ms | Allocations: 9401)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 16:52:38 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:52:38 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 16:52:51 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 16:52:51 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"KfpKroJGhNy+CoZLstP9YeVKN/Z2VrlO3ma9FPDQzysbYbvvzh+YrI5rFVeTTtfoiyXSgO6jkb8rMOqatz0uHQ==", "order"=>{"name"=>"a", "address"=>"a", "email"=>"asd@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mOrder Create (1.1ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('a', 'a', 'asd@gmail.com', 0, '2020-12-30 10:52:51.217512', '2020-12-30 10:52:51.217512')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[36mLineItem Update (1.6ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 5, `line_items`.`updated_at` = '2020-12-30 10:52:51.224602' WHERE `line_items`.`id` = 5[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
  [1m[35m (220.8ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:34:in `block in create'
Completed 500 Internal Server Error in 243ms (ActiveRecord: 225.0ms | Allocations: 6900)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:34:in `block in create'
app/controllers/orders_controller.rb:33:in `create'
Started GET "/" for 127.0.0.1 at 2020-12-30 17:06:28 +0600
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (3.8ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230095234667879 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230095234667879 (1.1ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230095234850317 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230095234850317 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230095234735802 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230095234735802 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 59.5ms | Allocations: 18646)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.3ms | Allocations: 1881)
  Rendered carts/_cart.html.erb (Duration: 24.3ms | Allocations: 7820)
Completed 200 OK in 163ms (Views: 104.6ms | ActiveRecord: 7.6ms | Allocations: 42730)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 17:06:29 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:06:29 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:06:33 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/5" for 127.0.0.1 at 2020-12-30 17:06:33 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"MFhILWt/qxP575izG2mzWwDZlAbnb+BaeICr6w/aWHUCw7lsJya3Y8mOC6869JnSbrZxcH+ayKuN1vxlSDe5Qw==", "id"=>"5"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.7ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 5[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 5[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (40.1ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 62ms (ActiveRecord: 43.5ms | Allocations: 5182)


Started GET "/" for 127.0.0.1 at 2020-12-30 17:06:33 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 11:06:33.508074', '2020-12-30 11:06:33.508074')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (88.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (3.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.0ms | Allocations: 1120)
Completed 200 OK in 123ms (Views: 22.0ms | ActiveRecord: 90.7ms | Allocations: 9931)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 17:06:33 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:06:33 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:06:35 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 17:06:35 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"fQpieQeE0BUs0ee2M8cQZc0320RhqNQR0jYoK/yGs6RPkZM4S93MZRywdKoSWjrso1g+Mvld/OAnYH+lu2tSkg==", "product_id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (3.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (3.8ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 6, '2020-12-30 11:06:35.402897', '2020-12-30 11:06:35.402897')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (149.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 174ms (ActiveRecord: 157.5ms | Allocations: 5032)


Started GET "/" for 127.0.0.1 at 2020-12-30 17:06:35 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (3.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.4ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 7.9ms | Allocations: 2113)
Completed 200 OK in 31ms (Views: 25.5ms | ActiveRecord: 2.6ms | Allocations: 8652)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 17:06:35 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:06:35 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:06:37 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 17:06:37 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"zPX99sOdl5zUvkwxslH016XvregZjffxHgMV/b5Bojn+bgy3j8SL7OTf3y2TzN5ey4BInoF43wDrVUJz+axDDw==", "product_id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Update (65.2ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 2, `line_items`.`updated_at` = '2020-12-30 11:06:37.568614' WHERE `line_items`.`id` = 6[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (113.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 245ms (ActiveRecord: 180.3ms | Allocations: 4754)


Started GET "/" for 127.0.0.1 at 2020-12-30 17:06:37 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (2.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.4ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 7.0ms | Allocations: 2113)
Completed 200 OK in 26ms (Views: 19.6ms | ActiveRecord: 2.5ms | Allocations: 8631)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 17:06:37 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:06:37 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:06:39 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-30 17:06:39 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"CV02XoJhtHC9bPA2pLBjcpsKJBsWi3zU/R0yMD1Q0SE7xscfzjioAI0NYyqFLUn79WXBbY5+VCUIS2W+er0wFw==", "product_id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (2.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 6, '2020-12-30 11:06:39.655984', '2020-12-30 11:06:39.655984')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (103.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 123ms (ActiveRecord: 108.2ms | Allocations: 4766)


Started GET "/" for 127.0.0.1 at 2020-12-30 17:06:39 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (4.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 7.5ms | Allocations: 1862)
  Rendered carts/_cart.html.erb (Duration: 13.7ms | Allocations: 3065)
Completed 200 OK in 56ms (Views: 50.1ms | ActiveRecord: 3.0ms | Allocations: 9604)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 17:06:39 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:06:39 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:06:42 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 17:06:42 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.2ms | Allocations: 2240)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.7ms | Allocations: 2538)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 7.0ms | Allocations: 1862)
  Rendered carts/_cart.html.erb (Duration: 10.6ms | Allocations: 3060)
Completed 200 OK in 59ms (Views: 28.6ms | ActiveRecord: 4.5ms | Allocations: 17130)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 17:06:42 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:06:42 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:06:50 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 17:06:50 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"D5vjubwNFodbiwRdw3smC+JEATUfa3rc/T4XLQdag389ABL48FQK92vql0Hi5gyCjCvkQ4eeUi0IaECjQLdiSQ==", "order"=>{"name"=>"a", "address"=>"a", "email"=>"as@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (0.8ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('a', 'a', 'as@gmail.com', 1, '2020-12-30 11:06:50.714808', '2020-12-30 11:06:50.714808')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mLineItem Update (1.3ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 6, `line_items`.`updated_at` = '2020-12-30 11:06:50.721924' WHERE `line_items`.`id` = 6[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (182.2ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
Completed 500 Internal Server Error in 205ms (ActiveRecord: 186.5ms | Allocations: 7731)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:42:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
Started GET "/" for 127.0.0.1 at 2020-12-30 17:15:30 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (3.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1476)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 22.1ms | Allocations: 5934)
  Rendered carts/_cart.html.erb (Duration: 41.1ms | Allocations: 11443)
Completed 200 OK in 86ms (Views: 63.8ms | ActiveRecord: 4.0ms | Allocations: 25467)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 17:15:30 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:15:30 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:15:35 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/6" for 127.0.0.1 at 2020-12-30 17:15:35 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"c83Kvq2Y06delrMDP8c+rQHFJ9KoQiOBJ0O49L36rgtBVjv/4cHP1273IB8eWhQkb6rCpDC3C3DSFe96+hdPPQ==", "id"=>"6"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 6[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 7[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (115.8ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 6[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (51.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 193ms (ActiveRecord: 169.3ms | Allocations: 6103)


Started GET "/" for 127.0.0.1 at 2020-12-30 17:15:36 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 11:15:36.021287', '2020-12-30 11:15:36.021287')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (90.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (4.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 939)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 7 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.5ms | Allocations: 1120)
Completed 200 OK in 127ms (Views: 23.6ms | ActiveRecord: 93.1ms | Allocations: 9786)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 17:15:36 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:15:36 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:15:37 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 17:15:37 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"jpcWZIK0SQF77vpUlnjDBdxgo0Ce7cY0J0G3nf97aKm8DOclzu1VcUuPaUi35emMsg9GNgYY7sXSF+ATuJaJnw==", "product_id"=>"1"}
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (94.7ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 7, '2020-12-30 11:15:37.575516', '2020-12-30 11:15:37.575516')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (153.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 273ms (ActiveRecord: 251.4ms | Allocations: 5012)


Started GET "/" for 127.0.0.1 at 2020-12-30 17:15:37 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (4.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 7 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.0ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 11.5ms | Allocations: 2113)
Completed 200 OK in 43ms (Views: 35.5ms | ActiveRecord: 3.0ms | Allocations: 8633)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 17:15:37 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:15:37 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:15:38 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 17:15:38 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.4ms | Allocations: 1488)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 1782)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 7 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.3ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 8.8ms | Allocations: 2107)
Completed 200 OK in 56ms (Views: 24.3ms | ActiveRecord: 3.2ms | Allocations: 14968)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 17:15:39 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:15:39 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:15:47 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 17:15:47 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"2mOWT+oSeEsatvZ2g1JabnrQ51m7zv8lNdIcY/lC4kzo+GcOpktkOyrXZWqiz3DnFL8CLyM719TAhEvtvq8Deg==", "order"=>{"name"=>"e", "address"=>"A", "email"=>"a@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('e', 'A', 'a@gmail.com', 0, '2020-12-30 11:15:47.411960', '2020-12-30 11:15:47.411960')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mLineItem Update (1.5ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 7, `line_items`.`updated_at` = '2020-12-30 11:15:47.419510' WHERE `line_items`.`id` = 8[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (78.9ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
Completed 500 Internal Server Error in 106ms (ActiveRecord: 83.0ms | Allocations: 7801)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:42:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
Started POST "/orders" for 127.0.0.1 at 2020-12-30 17:27:32 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"D5vjubwNFodbiwRdw3smC+JEATUfa3rc/T4XLQdag389ABL48FQK92vql0Hi5gyCjCvkQ4eeUi0IaECjQLdiSQ==", "order"=>{"name"=>"a", "address"=>"a", "email"=>"as@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (1.0ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('a', 'a', 'as@gmail.com', 1, '2020-12-30 11:27:32.120739', '2020-12-30 11:27:32.120739')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mLineItem Update (1.3ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 8, `line_items`.`updated_at` = '2020-12-30 11:27:32.133463' WHERE `line_items`.`id` = 8[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (157.7ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
Completed 500 Internal Server Error in 188ms (ActiveRecord: 162.3ms | Allocations: 6767)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:42:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
Started GET "/" for 127.0.0.1 at 2020-12-30 17:27:37 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (3.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 1366)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 7 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.1ms | Allocations: 1090)
  Rendered carts/_cart.html.erb (Duration: 12.8ms | Allocations: 2567)
Completed 200 OK in 44ms (Views: 36.5ms | ActiveRecord: 3.0ms | Allocations: 10748)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 17:27:37 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:27:37 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:27:40 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/7" for 127.0.0.1 at 2020-12-30 17:27:40 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"zv7+OnYjKqY7xjMldICMPdRnPfHi9zJAk95EnAKZfJT8ZQ97Ono21gunoDlVHaa0ugjYh3oCGrFmiBMSRXSdog==", "id"=>"7"}
  [1m[36mCart Load (1.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 8[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (0.5ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 7[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (82.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 105ms (ActiveRecord: 86.6ms | Allocations: 5009)


Started GET "/" for 127.0.0.1 at 2020-12-30 17:27:40 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (1.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 11:27:40.604030', '2020-12-30 11:27:40.604030')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (102.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (2.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 938)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.6ms | Allocations: 1120)
Completed 200 OK in 131ms (Views: 18.4ms | ActiveRecord: 105.7ms | Allocations: 9693)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 17:27:40 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:27:40 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:27:42 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-30 17:27:42 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"xI4pWq9Vn5rjWiUWCHEdPUF31zDOmFnyKN/lLhrzldT2Fdgb4wyD6tM7tgop7De0LxgyRlZtcQPdibKgXR504g==", "product_id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (33.1ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 8, '2020-12-30 11:27:42.714850', '2020-12-30 11:27:42.714850')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (215.2ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 270ms (ActiveRecord: 251.2ms | Allocations: 4750)


Started GET "/" for 127.0.0.1 at 2020-12-30 17:27:42 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (3.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.6ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 8.0ms | Allocations: 2113)
Completed 200 OK in 35ms (Views: 26.8ms | ActiveRecord: 4.9ms | Allocations: 8645)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 17:27:43 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:27:43 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:27:44 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 17:27:44 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.3ms | Allocations: 1424)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.6ms | Allocations: 1715)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.8ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 9.3ms | Allocations: 2107)
Completed 200 OK in 44ms (Views: 35.4ms | ActiveRecord: 2.4ms | Allocations: 10571)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 17:27:44 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:27:44 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:27:53 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 17:27:53 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"RKlEPctnKon13tlNvr6jJ5TcTk9i2WQYtbuyRIF26jl2MrV8hz42+cW/SlGfI4mu+rOrOfosTOlA7eXKxpsLDw==", "order"=>{"name"=>"a", "address"=>"aa", "email"=>"as@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('a', 'aa', 'as@gmail.com', 1, '2020-12-30 11:27:53.913209', '2020-12-30 11:27:53.913209')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mLineItem Update (5.8ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 9, `line_items`.`updated_at` = '2020-12-30 11:27:53.918649' WHERE `line_items`.`id` = 9[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (97.8ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
Completed 500 Internal Server Error in 125ms (ActiveRecord: 105.8ms | Allocations: 6760)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:42:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
Started GET "/cable" for 127.0.0.1 at 2020-12-30 17:30:12 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:30:12 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:50:16 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-30 17:50:35 +0600
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (3.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 938)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.4ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 8.7ms | Allocations: 2120)
Completed 200 OK in 35ms (Views: 29.2ms | ActiveRecord: 3.3ms | Allocations: 8680)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 17:50:35 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:50:35 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (1.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-30 17:51:06 +0600
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Started GET "/cable" for 127.0.0.1 at 2020-12-30 17:51:06 +0600
  [1m[35m (3.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  Rendering store/index.html.erb within layouts/application
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:51:06 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (12.3ms)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230095234667879 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230095234667879 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230095234850317 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230095234850317 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230095234735802 (0.1ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230095234735802 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (0.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 80.5ms | Allocations: 24551)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.5ms | Allocations: 1881)
  Rendered carts/_cart.html.erb (Duration: 20.9ms | Allocations: 7820)
Completed 200 OK in 189ms (Views: 128.1ms | ActiveRecord: 11.2ms | Allocations: 51468)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:51:06 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-30 17:51:06 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:51:06 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:51:10 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 17:51:10 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.3ms | Allocations: 2241)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 2536)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.7ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 8.5ms | Allocations: 2108)
Completed 200 OK in 55ms (Views: 28.7ms | ActiveRecord: 3.4ms | Allocations: 16116)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 17:51:10 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:51:10 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 17:51:26 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 17:51:26 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"JWd5s1LKx0WxjhJ9doDFpGqdFNOqWBJvqKkchdcFQ8IX/IjyHpPbNYHvgWFXHe8tBPLxpTKtOp5d/0sLkOii9A==", "order"=>{"name"=>"a", "address"=>"a", "email"=>"a@gmail.com", "pay_type"=>"Purchase order"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (1.0ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('a', 'a', 'a@gmail.com', 2, '2020-12-30 11:51:26.924416', '2020-12-30 11:51:26.924416')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mLineItem Update (1.2ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 10, `line_items`.`updated_at` = '2020-12-30 11:51:26.932084' WHERE `line_items`.`id` = 9[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (208.9ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
Completed 500 Internal Server Error in 235ms (ActiveRecord: 212.4ms | Allocations: 7950)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:42:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-30 18:04:23 +0600
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (3.0ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230095234667879 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230095234667879 (0.7ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230095234850317 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230095234850317 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230095234735802 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230095234735802 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (0.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 62.0ms | Allocations: 18628)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.4ms | Allocations: 1881)
  Rendered carts/_cart.html.erb (Duration: 26.6ms | Allocations: 7820)
Completed 200 OK in 165ms (Views: 110.8ms | ActiveRecord: 9.7ms | Allocations: 43248)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:04:23 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:04:24 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:04:26 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 18:04:26 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"nTbu1jChOAQ/UrzVkTHw/LVgxHcla82m4/4ULTI4WUKvrR+XfPgkdA8zL8mwrNp12w8hAb2e5VcWqEOjddW4dA==", "product_id"=>"1"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (3.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 8, '2020-12-30 12:04:26.683780', '2020-12-30 12:04:26.683780')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (75.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 103ms (ActiveRecord: 81.3ms | Allocations: 5243)


Started GET "/" for 127.0.0.1 at 2020-12-30 18:04:26 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (3.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 9.4ms | Allocations: 1862)
  Rendered carts/_cart.html.erb (Duration: 14.4ms | Allocations: 3065)
Completed 200 OK in 39ms (Views: 31.0ms | ActiveRecord: 4.2ms | Allocations: 9597)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:04:26 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:04:26 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:04:32 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/8" for 127.0.0.1 at 2020-12-30 18:04:32 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"1femQVw+ftcUKZOq7xcYXhcM67fomxG6ux7R1rHD29vnbFcAEGdipyRIALbOijLXeWMOwXBuOUtOSIZY9i467Q==", "id"=>"8"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (1.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (1.2ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 9[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 10[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (139.3ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 8[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (52.7ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 218ms (ActiveRecord: 197.5ms | Allocations: 6139)


Started GET "/" for 127.0.0.1 at 2020-12-30 18:04:32 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 12:04:32.960289', '2020-12-30 12:04:32.960289')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (107.2ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (4.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 9 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 1120)
Completed 200 OK in 140ms (Views: 19.5ms | ActiveRecord: 110.1ms | Allocations: 9898)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:04:33 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:04:33 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:04:34 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-30 18:04:34 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"tNVGIwuo/p6jx1TwUtUxQk5rkOWUM+GcK4A7Q8insR2GTrdiR/Hi7pOmx+xzSBvLIAR1kwzGyW3e1mzNj0pQKw==", "product_id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 9, '2020-12-30 12:04:34.347165', '2020-12-30 12:04:34.347165')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (108.7ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 130ms (ActiveRecord: 113.1ms | Allocations: 4734)


Started GET "/" for 127.0.0.1 at 2020-12-30 18:04:34 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (3.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 9 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.3ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 9.9ms | Allocations: 2113)
Completed 200 OK in 36ms (Views: 28.9ms | ActiveRecord: 3.2ms | Allocations: 8645)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:04:34 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:04:34 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:04:35 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 18:04:35 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:84:in `ensure_cart_is_not_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.0ms | Allocations: 2240)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.3ms | Allocations: 2538)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 9 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.5ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 9.5ms | Allocations: 2108)
Completed 200 OK in 74ms (Views: 38.9ms | ActiveRecord: 5.6ms | Allocations: 16141)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:04:35 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:04:35 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:04:46 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 18:04:46 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"aZR1TiwrhwAmb9x3HsOvTkogSpwpwiCZhqqfGF0+xT5bD4QPYHKbcBYOT2s/XoXHJE+v6rE3CGhz/MiWGtMkCA==", "order"=>{"name"=>"w", "address"=>"w", "email"=>"as@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('w', 'w', 'as@gmail.com', 0, '2020-12-30 12:04:46.588039', '2020-12-30 12:04:46.588039')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (2.6ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 11, `line_items`.`updated_at` = '2020-12-30 12:04:46.594326' WHERE `line_items`.`id` = 11[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[35m (81.4ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
Completed 500 Internal Server Error in 110ms (ActiveRecord: 86.6ms | Allocations: 7711)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:35:in `block in create'
app/controllers/orders_controller.rb:34:in `create'
Started POST "/__web_console/repl_sessions/c214527852c619b466ad0298feef6135/trace" for 127.0.0.1 at 2020-12-30 18:04:58 +0600
Started POST "/orders" for 127.0.0.1 at 2020-12-30 18:08:34 +0600
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/orders_controller.rb:2:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<main>'
Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:12:26 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:12:26 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:12:30 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-30 18:12:30 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (4.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1045)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 9 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 15.6ms | Allocations: 4889)
  Rendered carts/_cart.html.erb (Duration: 41.6ms | Allocations: 10126)
Completed 200 OK in 93ms (Views: 58.7ms | ActiveRecord: 13.5ms | Allocations: 22846)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:12:30 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:12:30 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:12:32 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 18:12:32 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"o0C7b1hdK4cQNo4EVNLD9yPegTukiZlQ37anUbjg0hmR20ouFAQ39yBXHRh1T+l+TbFkTTx8saEq4PDf/w0zLw==", "product_id"=>"1"}
  [1m[36mCart Load (3.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 9, '2020-12-30 12:12:32.857837', '2020-12-30 12:12:32.857837')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (130.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 155ms (ActiveRecord: 136.0ms | Allocations: 5046)


Started GET "/" for 127.0.0.1 at 2020-12-30 18:12:33 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230095234850317 (4.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 9 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 7.5ms | Allocations: 1862)
  Rendered carts/_cart.html.erb (Duration: 13.7ms | Allocations: 3065)
Completed 200 OK in 41ms (Views: 34.4ms | ActiveRecord: 3.3ms | Allocations: 9589)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:12:33 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:12:33 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:12:34 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 18:12:34 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:84:in `ensure_cart_is_not_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.4ms | Allocations: 1119)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1180)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 9 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 8.4ms | Allocations: 1862)
  Rendered carts/_cart.html.erb (Duration: 13.6ms | Allocations: 3059)
Completed 200 OK in 67ms (Views: 32.5ms | ActiveRecord: 5.0ms | Allocations: 15085)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:12:34 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:12:34 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:12:43 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 18:12:43 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"cSdnr/6ABHTufwi9Vf3j/VyL6yG3vLZ7/2WJHnTDxohDvJbustkYBN4em6F0YMl0MuQOVy9JnooKM96QMy4nvg==", "order"=>{"name"=>"w", "address"=>"w", "email"=>"as@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('w', 'w', 'as@gmail.com', 1, '2020-12-30 12:12:43.688950', '2020-12-30 12:12:43.688950')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (1.3ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 12, `line_items`.`updated_at` = '2020-12-30 12:12:43.694250' WHERE `line_items`.`id` = 11[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[35m (202.8ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
Completed 500 Internal Server Error in 233ms (ActiveRecord: 206.1ms | Allocations: 7721)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:35:in `block in create'
app/controllers/orders_controller.rb:34:in `create'
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (377.2ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (357.1ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (412.8ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (225.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (353.7ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (93.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (507.2ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (49.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (734.9ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (50.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (55.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (355.0ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (52.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderToLineItem (20201229060931)
  [1m[35m (735.2ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint[0m
  [1m[35m (276.2ms)[0m  [1m[35mCREATE  INDEX `index_line_items_on_order_id`  ON `line_items` (`order_id`) [0m
  [1m[35m (1146.9ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_2dc2e5c22c`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229060931')[0m
  [1m[35m (71.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-12-30 12:15:27.033771', '2020-12-30 12:15:27.033771')[0m
  [1m[35m (89.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM `products`[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:11)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' LIMIT 1[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Rails, Angular, Postgres, and Bootstrap', '<p>\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\n      As a Rails developer, you care about user experience and performance,\n      but you also want simple and maintainable code. Achieve all that by\n      embracing the full stack of web development, from styling with\n      Bootstrap, building an interactive user interface with AngularJS, to\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\n      full-stack development to create usable, high-performing applications,\n      and learn to use these technologies effectively in a Ruby on Rails\n      environment.\n      </p>', 'dcbang.jpg', 45.0, '2020-12-30 12:16:01.844475', '2020-12-30 12:16:01.844475')[0m
  [1m[35m (40.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:27)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Seven Mobile Apps in Seven Weeks' LIMIT 1[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps in Seven Weeks', '<p>\n      <em>Native Apps, Multiple Platforms</em>\n      Answer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\n      resounding YES. This book will help you get there with a real-world\n      introduction to seven platforms, whether you‚Äôre new to mobile or an\n      experienced developer needing to expand your options. Plus, you‚Äôll find\n      out which cross-platform solution makes the most sense for your needs.\n      </p>', '7apps.jpg', 26.0, '2020-12-30 12:16:01.898186', '2020-12-30 12:16:01.898186')[0m
  [1m[35m (85.9ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:41)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Ruby Performance Optimization' LIMIT 1[0m
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Ruby Performance Optimization', '<p>\n      <em>Why Ruby Is Slow, and How to Fix It</em>\n      You don‚Äôt have to accept slow Ruby or Rails performance. In this\n      comprehensive guide to Ruby optimization, you‚Äôll learn how to write\n      faster Ruby code‚Äîbut that‚Äôs just the beginning. See exactly what makes\n      Ruby and Rails code slow, and how to fix it. Alex Dymo will guide you\n      through perils of memory and CPU optimization, profiling, measuring,\n      performance testing, garbage collection, and tuning. You‚Äôll find that\n      all those ‚Äúhard‚Äù things aren‚Äôt so difficult after all, and your code\n      will run orders of magnitude faster.\n      </p>', 'adrpo.jpg', 46.0, '2020-12-30 12:16:01.993955', '2020-12-30 12:16:01.993955')[0m
  [1m[35m (81.0ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2020-12-30 18:16:38 +0600
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 12:16:38.819800', '2020-12-30 12:16:38.819800')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (59.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230121601993955 (3.4ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230121601844475 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230121601844475 (0.7ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230121601993955 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230121601993955 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230121601898186 (0.4ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230121601898186 (1.0ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230121601993955 (0.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 70.7ms | Allocations: 18614)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.1ms | Allocations: 1515)
Completed 200 OK in 227ms (Views: 101.6ms | ActiveRecord: 67.5ms | Allocations: 39220)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:16:39 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:16:39 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:16:43 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-30 18:16:43 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"O7P0+UTTXqUqXQ2mR3Wjw66PeO36n+cL9KMl6vmDsaQJKAW4CIpC1Ro8nrpm6IlKwOCdm2Jqz/oB9XJkvm5Qkg==", "product_id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.9ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, '2020-12-30 12:16:43.561923', '2020-12-30 12:16:43.561923')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (107.2ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 142ms (ActiveRecord: 111.0ms | Allocations: 9085)


Started GET "/" for 127.0.0.1 at 2020-12-30 18:16:43 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230121601993955 (3.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.3ms | Allocations: 1918)
  Rendered carts/_cart.html.erb (Duration: 12.4ms | Allocations: 3285)
Completed 200 OK in 34ms (Views: 28.5ms | ActiveRecord: 3.0ms | Allocations: 9822)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:16:43 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:16:43 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:16:46 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 18:16:46 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"f5icTOM9bsxNU1XAkdx+nKmh3lr/xhaPp59sVcSV6MhNA20Nr2RyvH0yxtywQVQVx847LGczPn5SyTvbg3gJ/g==", "product_id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.9ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-30 12:16:46.132732', '2020-12-30 12:16:46.132732')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (175.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 197ms (ActiveRecord: 178.0ms | Allocations: 4757)


Started GET "/" for 127.0.0.1 at 2020-12-30 18:16:46 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230121601993955 (3.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 939)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 6.1ms | Allocations: 1862)
  Rendered carts/_cart.html.erb (Duration: 11.0ms | Allocations: 3065)
Completed 200 OK in 33ms (Views: 25.5ms | ActiveRecord: 4.5ms | Allocations: 9615)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:16:46 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:16:46 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:16:48 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=2" for 127.0.0.1 at 2020-12-30 18:16:48 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"rNGUqOqQBPnXDDRutpcoFwoKUvF4cLm20u7xm1InsFGeSmXppskYiedtp3KXCgKeZGW3h+CFkUcnuKYVFcpRZw==", "product_id"=>"2"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (2, 1, '2020-12-30 12:16:48.327982', '2020-12-30 12:16:48.327982')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (75.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 93ms (ActiveRecord: 77.5ms | Allocations: 4746)


Started GET "/" for 127.0.0.1 at 2020-12-30 18:16:48 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230121601993955 (3.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 12.3ms | Allocations: 2791)
  Rendered carts/_cart.html.erb (Duration: 17.8ms | Allocations: 4016)
Completed 200 OK in 38ms (Views: 30.6ms | ActiveRecord: 4.3ms | Allocations: 10534)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:16:48 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:16:48 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:18:32 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 18:18:32 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:84:in `ensure_cart_is_not_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.7ms | Allocations: 2240)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.8ms | Allocations: 2537)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 10.5ms | Allocations: 2791)
  Rendered carts/_cart.html.erb (Duration: 16.4ms | Allocations: 4011)
Completed 200 OK in 66ms (Views: 33.5ms | ActiveRecord: 5.5ms | Allocations: 18394)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:18:32 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:18:32 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:18:58 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 18:18:58 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"wJj0leXx9gHUzbCXInqDyvzuajY/SpmDOjNkL2JuaFryAwXUqajqceSsI4sD56lDkoGPQKe/sXLPZTOhJYOJbA==", "order"=>{"name"=>"a", "address"=>"a", "email"=>"a@gmail.com", "pay_type"=>"Purchase order"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('a', 'a', 'a@gmail.com', 2, '2020-12-30 12:18:58.224842', '2020-12-30 12:18:58.224842')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (2.4ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 1, `line_items`.`updated_at` = '2020-12-30 12:18:58.230206' WHERE `line_items`.`id` = 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[35m (63.8ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
Completed 500 Internal Server Error in 91ms (ActiveRecord: 69.0ms | Allocations: 7851)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:35:in `block in create'
app/controllers/orders_controller.rb:34:in `create'
Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:21:12 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:21:12 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:21:15 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 18:21:15 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"wJj0leXx9gHUzbCXInqDyvzuajY/SpmDOjNkL2JuaFryAwXUqajqceSsI4sD56lDkoGPQKe/sXLPZTOhJYOJbA==", "order"=>{"name"=>"a", "address"=>"a", "email"=>"a@gmail.com", "pay_type"=>"Purchase order"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mOrder Create (0.7ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('a', 'a', 'a@gmail.com', 2, '2020-12-30 12:21:15.569815', '2020-12-30 12:21:15.569815')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (2.0ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 2, `line_items`.`updated_at` = '2020-12-30 12:21:15.578087' WHERE `line_items`.`id` = 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[35m (258.1ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
Completed 500 Internal Server Error in 347ms (ActiveRecord: 269.1ms | Allocations: 20120)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:35:in `block in create'
app/controllers/orders_controller.rb:34:in `create'
  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 127.0.0.1 at 2020-12-30 18:21:49 +0600
  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230121601993955 (6.4ms)
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230121601844475 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230121601844475 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230121601993955 (0.4ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230121601993955 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230121601898186 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230121601898186 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230121601993955 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 65.3ms | Allocations: 18628)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 12.5ms | Allocations: 3739)
  Rendered carts/_cart.html.erb (Duration: 31.9ms | Allocations: 9723)
Completed 200 OK in 172ms (Views: 114.7ms | ActiveRecord: 11.9ms | Allocations: 44636)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:21:50 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:21:50 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:21:55 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 18:21:55 +0600
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/line_items_controller.rb:2:in `<class:LineItemsController>'
app/controllers/line_items_controller.rb:1:in `<main>'
Started GET "/" for 127.0.0.1 at 2020-12-30 18:31:49 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230121601993955 (3.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 10.0ms | Allocations: 2804)
  Rendered carts/_cart.html.erb (Duration: 16.0ms | Allocations: 4031)
Completed 200 OK in 45ms (Views: 36.5ms | ActiveRecord: 4.2ms | Allocations: 10674)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:31:49 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:31:49 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:31:59 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:32:01 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:32:01 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:32:02 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 18:32:02 +0600
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/line_items_controller.rb:2:in `<class:LineItemsController>'
app/controllers/line_items_controller.rb:1:in `<main>'
Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:33:00 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:33:00 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:33:04 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 18:33:04 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ReAbeE1jRyqRbYKWmzJGXElnATlrTT9BnauQE6Qe2sh3e+o5ATpbWqEMEYq6r2zVJwjkT/O4F7Bo/ced4/M7/g==", "product_id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 2, `line_items`.`updated_at` = '2020-12-30 12:33:04.622065' WHERE `line_items`.`id` = 2[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (106.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 176ms (ActiveRecord: 113.3ms | Allocations: 18081)


Started GET "/" for 127.0.0.1 at 2020-12-30 18:33:04 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230121601993955 (3.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1040)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 11.7ms | Allocations: 3610)
  Rendered carts/_cart.html.erb (Duration: 17.4ms | Allocations: 5095)
Completed 200 OK in 42ms (Views: 35.4ms | ActiveRecord: 3.8ms | Allocations: 12003)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:33:04 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:33:04 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:33:07 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-30 18:33:07 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"aZLj7Sw/DrvXNNdpjADmvNyT0UBmaLn0HePYLhn1SIxbCRKsYGYSy+dVRHWtncw1svw0Nv6dkQXotY+gXhipug==", "product_id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 2, `line_items`.`updated_at` = '2020-12-30 12:33:07.303203' WHERE `line_items`.`id` = 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (64.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 89ms (ActiveRecord: 68.7ms | Allocations: 4725)


Started GET "/" for 127.0.0.1 at 2020-12-30 18:33:07 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230121601993955 (4.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 12.2ms | Allocations: 2791)
  Rendered carts/_cart.html.erb (Duration: 16.2ms | Allocations: 4016)
Completed 200 OK in 46ms (Views: 38.1ms | ActiveRecord: 4.2ms | Allocations: 10560)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:33:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:33:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:33:08 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 18:33:08 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:84:in `ensure_cart_is_not_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 8.5ms | Allocations: 2240)
  Rendered orders/new.html.erb within layouts/application (Duration: 9.9ms | Allocations: 2539)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 10.9ms | Allocations: 2791)
  Rendered carts/_cart.html.erb (Duration: 16.8ms | Allocations: 4011)
Completed 200 OK in 74ms (Views: 41.4ms | ActiveRecord: 4.1ms | Allocations: 18055)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:33:08 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:33:08 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:33:16 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 18:33:16 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"wEU9AXYQYx03TbXJxYlCryMvY8OfJisTfke8hUtIqm/y3sxAOkl/bQcsJtXkFGgmTUCGtQfTA+KLEesLDKVLWQ==", "order"=>{"name"=>"a", "address"=>"a", "email"=>"a@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('a', 'a', 'a@gmail.com', 1, '2020-12-30 12:33:16.716417', '2020-12-30 12:33:16.716417')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (1.9ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 3, `line_items`.`updated_at` = '2020-12-30 12:33:16.723567' WHERE `line_items`.`id` = 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[35m (171.3ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
Completed 500 Internal Server Error in 200ms (ActiveRecord: 175.8ms | Allocations: 7856)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:35:in `block in create'
app/controllers/orders_controller.rb:34:in `create'
Started GET "/" for 127.0.0.1 at 2020-12-30 18:33:42 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230121601993955 (4.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 938)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 12.5ms | Allocations: 2791)
  Rendered carts/_cart.html.erb (Duration: 17.4ms | Allocations: 4023)
Completed 200 OK in 42ms (Views: 35.3ms | ActiveRecord: 3.7ms | Allocations: 10577)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:33:43 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:33:43 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:33:44 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 18:33:44 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:84:in `ensure_cart_is_not_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.7ms | Allocations: 1046)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1107)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 15.1ms | Allocations: 2791)
  Rendered carts/_cart.html.erb (Duration: 20.4ms | Allocations: 4007)
Completed 200 OK in 51ms (Views: 37.8ms | ActiveRecord: 6.6ms | Allocations: 11300)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 18:33:44 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:33:44 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 18:33:59 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 18:33:59 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"AMhyo1K89rHdvX3lTLUUcuSjHSGvB1cUcIWNAAp/hAEyU4PiHuXqwe3c7vltKD77isz4Vzfyf+WF09qOTZJlNw==", "order"=>{"name"=>"a", "address"=>"a", "email"=>"as@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/models/order.rb:12:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mOrder Create (2.6ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('a', 'a', 'as@gmail.com', 1, '2020-12-30 12:33:59.462698', '2020-12-30 12:33:59.462698')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (1.3ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 4, `line_items`.`updated_at` = '2020-12-30 12:33:59.470312' WHERE `line_items`.`id` = 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[35m (198.2ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
Completed 500 Internal Server Error in 226ms (ActiveRecord: 203.6ms | Allocations: 7035)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:35:in `block in create'
app/controllers/orders_controller.rb:34:in `create'
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `ar_internal_metadata`.`value` FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1318.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS `depot_development`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1218.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (370.4ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (390.6ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (337.7ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (43.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (388.3ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (103.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (518.3ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (48.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (800.9ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (61.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (54.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (321.5ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (47.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderToLineItem (20201229060931)
  [1m[35m (703.5ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint[0m
  [1m[35m (320.3ms)[0m  [1m[35mCREATE  INDEX `index_line_items_on_order_id`  ON `line_items` (`order_id`) [0m
  [1m[35m (1035.9ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_2dc2e5c22c`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
[0m
  [1m[35m (42.3ms)[0m  [1m[35mALTER TABLE `line_items` CHANGE `cart_id` `cart_id` int DEFAULT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (88.1ms)[0m  [1m[35mDROP TABLE `orders`[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (318.3ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (323.9ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (425.7ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (49.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (431.7ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (106.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (647.2ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (45.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (878.5ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (49.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[36mCart Load (4.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  [1m[35m (4.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (86.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (392.5ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (106.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderToLineItem (20201229060931)
  [1m[35m (710.9ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint[0m
  [1m[35m (333.6ms)[0m  [1m[35mCREATE  INDEX `index_line_items_on_order_id`  ON `line_items` (`order_id`) [0m
  [1m[35m (1469.5ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_2dc2e5c22c`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
[0m
  [1m[35m (53.2ms)[0m  [1m[35mALTER TABLE `line_items` CHANGE `cart_id` `cart_id` int DEFAULT 0[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
Started GET "/" for 127.0.0.1 at 2020-12-30 19:19:32 +0600
  [1m[35m (1.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.5ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddOrderToLineItem (20201229060931)
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (359.3ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (389.9ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (339.3ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (47.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (379.2ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (105.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (529.8ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (50.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (701.8ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (50.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (149.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (353.7ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (49.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderToLineItem (20201229060931)
  [1m[35m (745.8ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint[0m
  [1m[35m (344.1ms)[0m  [1m[35mCREATE  INDEX `index_line_items_on_order_id`  ON `line_items` (`order_id`) [0m
  [1m[35m (923.7ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_2dc2e5c22c`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229060931')[0m
  [1m[35m (50.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-12-30 13:27:54.638100', '2020-12-30 13:27:54.638100')[0m
  [1m[35m (53.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM `products`[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:11)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Rails, Angular, Postgres, and Bootstrap', '<p>\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\n      As a Rails developer, you care about user experience and performance,\n      but you also want simple and maintainable code. Achieve all that by\n      embracing the full stack of web development, from styling with\n      Bootstrap, building an interactive user interface with AngularJS, to\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\n      full-stack development to create usable, high-performing applications,\n      and learn to use these technologies effectively in a Ruby on Rails\n      environment.\n      </p>', 'dcbang.jpg', 45.0, '2020-12-30 13:28:08.661980', '2020-12-30 13:28:08.661980')[0m
  [1m[35m (50.8ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:27)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Seven Mobile Apps in Seven Weeks' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps in Seven Weeks', '<p>\n      <em>Native Apps, Multiple Platforms</em>\n      Answer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\n      resounding YES. This book will help you get there with a real-world\n      introduction to seven platforms, whether you‚Äôre new to mobile or an\n      experienced developer needing to expand your options. Plus, you‚Äôll find\n      out which cross-platform solution makes the most sense for your needs.\n      </p>', '7apps.jpg', 26.0, '2020-12-30 13:28:08.729066', '2020-12-30 13:28:08.729066')[0m
  [1m[35m (139.9ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:41)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Ruby Performance Optimization' LIMIT 1[0m
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Ruby Performance Optimization', '<p>\n      <em>Why Ruby Is Slow, and How to Fix It</em>\n      You don‚Äôt have to accept slow Ruby or Rails performance. In this\n      comprehensive guide to Ruby optimization, you‚Äôll learn how to write\n      faster Ruby code‚Äîbut that‚Äôs just the beginning. See exactly what makes\n      Ruby and Rails code slow, and how to fix it. Alex Dymo will guide you\n      through perils of memory and CPU optimization, profiling, measuring,\n      performance testing, garbage collection, and tuning. You‚Äôll find that\n      all those ‚Äúhard‚Äù things aren‚Äôt so difficult after all, and your code\n      will run orders of magnitude faster.\n      </p>', 'adrpo.jpg', 46.0, '2020-12-30 13:28:08.883881', '2020-12-30 13:28:08.883881')[0m
  [1m[35m (94.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2020-12-30 19:28:21 +0600
  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-30 13:28:22.083488', '2020-12-30 13:28:22.083488')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (68.7ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230132808883881 (5.6ms)
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230132808661980 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230132808661980 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230132808883881 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230132808883881 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230132808729066 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230132808729066 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230132808883881 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 81.2ms | Allocations: 21737)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 7.5ms | Allocations: 1515)
Completed 200 OK in 244ms (Views: 109.7ms | ActiveRecord: 76.8ms | Allocations: 42352)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 19:28:22 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 19:28:22 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 19:28:25 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-30 19:28:25 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"EV/rbfu6C+w/0DVqJJ8DQ6E2TobmhYDTAS2qtfXcbqsjxBost+MXnA+xpnYFAinKz1mr8H5wqCL0e/07sjGPnQ==", "product_id"=>"1"}
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-30 13:28:25.469050', '2020-12-30 13:28:25.469050')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (65.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 100ms (ActiveRecord: 69.6ms | Allocations: 9082)


Started GET "/" for 127.0.0.1 at 2020-12-30 19:28:25 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230132808883881 (6.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.0ms | Allocations: 1918)
  Rendered carts/_cart.html.erb (Duration: 10.3ms | Allocations: 3285)
Completed 200 OK in 40ms (Views: 32.9ms | ActiveRecord: 3.5ms | Allocations: 9821)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 19:28:25 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 19:28:25 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 19:28:27 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-30 19:28:27 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 10.2ms | Allocations: 2240)
  Rendered orders/new.html.erb within layouts/application (Duration: 11.8ms | Allocations: 2535)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.6ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 10.3ms | Allocations: 2108)
Completed 200 OK in 73ms (Views: 37.4ms | ActiveRecord: 4.5ms | Allocations: 16172)


Started GET "/cable" for 127.0.0.1 at 2020-12-30 19:28:27 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 19:28:27 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-30 19:28:33 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-30 19:28:33 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"KNjt9Fd4mo7Tvv3ZsC+3Dm/+S72p+ANm3uDrK3MC8xMaQxy1GyGG/uPfbsWRsp2HAZGuyzENK5crtrylNO8SJQ==", "order"=>{"name"=>"w", "address"=>"w", "email"=>"asd@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/models/order.rb:20:in `add_line_items_from_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('w', 'w', 'asd@gmail.com', 1, '2020-12-30 13:28:33.842572', '2020-12-30 13:28:33.842572')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mLineItem Update (1.6ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 1, `line_items`.`updated_at` = '2020-12-30 13:28:33.849395' WHERE `line_items`.`id` = 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (103.5ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
Completed 500 Internal Server Error in 130ms (ActiveRecord: 107.9ms | Allocations: 7704)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:42:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
Started GET "/" for 127.0.0.1 at 2020-12-31 10:22:25 +0600
  [1m[35m (46.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (21.3ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-31 04:22:25.724129', '2020-12-31 04:22:25.724129')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (46.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (22.1ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230132808883881 (27.2ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230132808661980 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201230132808661980 (0.7ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230132808883881 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201230132808883881 (0.8ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230132808729066 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201230132808729066 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230132808883881 (0.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 953.0ms | Allocations: 18634)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (19.1ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 33.3ms | Allocations: 1518)
Completed 200 OK in 1722ms (Views: 1438.2ms | ActiveRecord: 159.4ms | Allocations: 38478)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:22:27 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:22:27 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:22:31 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-31 10:22:31 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"fcepreyY77Mh0bpGvKV14WPHgTfFHsPo87jsf+xrDlMoP1dukdLY3Rd07YRgoR75JOelXZWHQ+ivvmS4Y2fcrQ==", "product_id"=>"1"}
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 2, '2020-12-31 04:22:32.010621', '2020-12-31 04:22:32.010621')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (47.2ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 93ms (ActiveRecord: 52.1ms | Allocations: 9217)


Started GET "/" for 127.0.0.1 at 2020-12-31 10:22:32 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201230132808883881 (4.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 28.2ms | Allocations: 1918)
  Rendered carts/_cart.html.erb (Duration: 33.6ms | Allocations: 3285)
Completed 200 OK in 54ms (Views: 47.9ms | ActiveRecord: 2.5ms | Allocations: 9815)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:22:32 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:22:32 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:22:35 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-31 10:22:35 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 40.4ms | Allocations: 2240)
  Rendered orders/new.html.erb within layouts/application (Duration: 61.4ms | Allocations: 2535)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.4ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 8.4ms | Allocations: 2108)
Completed 200 OK in 269ms (Views: 80.8ms | ActiveRecord: 93.9ms | Allocations: 16521)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:22:35 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:22:35 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:22:42 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-31 10:22:42 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"YcrQDPZzYLNoehYtjfxARb7JttyZSL/K3hm/FKqdK7U0Mi7PizlX3V7fQe9R+Ctd+emStsnRP8qCHzfTJZH5Sw==", "order"=>{"name"=>"a", "address"=>"a", "email"=>"as@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/models/order.rb:20:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('a', 'a', 'as@gmail.com', 0, '2020-12-31 04:22:42.260898', '2020-12-31 04:22:42.260898')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mLineItem Update (1.6ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 1, `line_items`.`updated_at` = '2020-12-31 04:22:42.267166' WHERE `line_items`.`id` = 2[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (123.0ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
Completed 500 Internal Server Error in 148ms (ActiveRecord: 126.6ms | Allocations: 7729)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:42:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (422.2ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (401.7ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (334.2ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (2.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (43.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (364.2ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (5.0ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (86.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (484.6ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (46.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (776.4ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (58.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (59.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (386.5ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (57.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderToLineItem (20201229060931)
  [1m[35m (713.2ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint[0m
  [1m[35m (475.2ms)[0m  [1m[35mCREATE  INDEX `index_line_items_on_order_id`  ON `line_items` (`order_id`) [0m
  [1m[35m (1101.3ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_2dc2e5c22c`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229060931')[0m
  [1m[35m (59.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-12-31 04:31:06.393984', '2020-12-31 04:31:06.393984')[0m
  [1m[35m (57.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM `products`[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:11)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' LIMIT 1[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Rails, Angular, Postgres, and Bootstrap', '<p>\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\n      As a Rails developer, you care about user experience and performance,\n      but you also want simple and maintainable code. Achieve all that by\n      embracing the full stack of web development, from styling with\n      Bootstrap, building an interactive user interface with AngularJS, to\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\n      full-stack development to create usable, high-performing applications,\n      and learn to use these technologies effectively in a Ruby on Rails\n      environment.\n      </p>', 'dcbang.jpg', 45.0, '2020-12-31 04:32:46.230112', '2020-12-31 04:32:46.230112')[0m
  [1m[35m (47.7ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:27)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Seven Mobile Apps in Seven Weeks' LIMIT 1[0m
  [1m[36mProduct Create (1.2ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps in Seven Weeks', '<p>\n      <em>Native Apps, Multiple Platforms</em>\n      Answer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\n      resounding YES. This book will help you get there with a real-world\n      introduction to seven platforms, whether you‚Äôre new to mobile or an\n      experienced developer needing to expand your options. Plus, you‚Äôll find\n      out which cross-platform solution makes the most sense for your needs.\n      </p>', '7apps.jpg', 26.0, '2020-12-31 04:32:46.296004', '2020-12-31 04:32:46.296004')[0m
  [1m[35m (92.1ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:41)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Ruby Performance Optimization' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Ruby Performance Optimization', '<p>\n      <em>Why Ruby Is Slow, and How to Fix It</em>\n      You don‚Äôt have to accept slow Ruby or Rails performance. In this\n      comprehensive guide to Ruby optimization, you‚Äôll learn how to write\n      faster Ruby code‚Äîbut that‚Äôs just the beginning. See exactly what makes\n      Ruby and Rails code slow, and how to fix it. Alex Dymo will guide you\n      through perils of memory and CPU optimization, profiling, measuring,\n      performance testing, garbage collection, and tuning. You‚Äôll find that\n      all those ‚Äúhard‚Äù things aren‚Äôt so difficult after all, and your code\n      will run orders of magnitude faster.\n      </p>', 'adrpo.jpg', 46.0, '2020-12-31 04:32:46.408054', '2020-12-31 04:32:46.408054')[0m
  [1m[35m (70.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:33:02 +0600
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:33:02 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:33:02 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:33:03 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:33:03 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:33:05 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-31 10:33:05 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-31 04:33:05.537499', '2020-12-31 04:33:05.537499')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (111.7ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231043246408054 (6.1ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201231043246230112 (0.5ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201231043246230112 (0.7ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201231043246408054 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201231043246408054 (0.8ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201231043246296004 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201231043246296004 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231043246408054 (0.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 91.0ms | Allocations: 18599)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 7.5ms | Allocations: 1515)
Completed 200 OK in 310ms (Views: 134.5ms | ActiveRecord: 122.3ms | Allocations: 39220)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:33:05 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:33:05 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:33:08 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-31 10:33:08 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"vL6V1aW9qb+CAyFcqIl3aVfDd+u27MGsab5+Az+JLfHpRmsW2Pee0bSmdp50jRxxEONTgeZ1Qaw1uPbEsIX/Dw==", "product_id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (3.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (2.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, '2020-12-31 04:33:08.872686', '2020-12-31 04:33:08.872686')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (59.2ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 105ms (ActiveRecord: 67.4ms | Allocations: 9084)


Started GET "/" for 127.0.0.1 at 2020-12-31 10:33:08 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231043246408054 (3.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.6ms | Allocations: 1918)
  Rendered carts/_cart.html.erb (Duration: 12.5ms | Allocations: 3285)
Completed 200 OK in 36ms (Views: 30.2ms | ActiveRecord: 2.9ms | Allocations: 9825)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:33:09 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:33:09 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:33:10 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-31 10:33:10 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 13.8ms | Allocations: 2240)
  Rendered orders/new.html.erb within layouts/application (Duration: 15.8ms | Allocations: 2534)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.2ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 12.3ms | Allocations: 2108)
Completed 200 OK in 84ms (Views: 48.3ms | ActiveRecord: 4.9ms | Allocations: 16149)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:33:11 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:33:11 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:33:14 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-31 10:33:14 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"TaructmyjQGyCVm1cJ7WyvqxU5+9nMYR6Ousq21ZOaYYUhCxpPi6b4SsDnesmr3SvZF39e0FRhG07SRs4lXrWA==", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>""}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (3.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/models/order.rb:20:in `add_line_items_from_cart'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.0ms | Allocations: 1615)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 1677)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.0ms | Allocations: 935)
  Rendered carts/_cart.html.erb (Duration: 6.6ms | Allocations: 1338)
Completed 200 OK in 40ms (Views: 22.3ms | ActiveRecord: 4.7ms | Allocations: 11541)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:33:14 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:33:14 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:33:24 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-31 10:33:24 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"aCnmZq7pOW0YidJREMu/5BFB26HYG+vjOS/ATD+7MtA90Ril06MOAy4shZPMz9T8VmH/y4iCa+NlKUiLsLfgLg==", "order"=>{"name"=>"a", "address"=>"a", "email"=>"as@gmail.com", "pay_type"=>"Purchase order"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/models/order.rb:20:in `add_line_items_from_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('a', 'a', 'as@gmail.com', 2, '2020-12-31 04:33:24.397004', '2020-12-31 04:33:24.397004')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mLineItem Update (1.3ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 1, `line_items`.`updated_at` = '2020-12-31 04:33:24.419006' WHERE `line_items`.`id` = 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (77.9ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:42:in `block in create'
Completed 500 Internal Server Error in 116ms (ActiveRecord: 81.3ms | Allocations: 6900)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:42:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
Started GET "/orders" for 127.0.0.1 at 2020-12-31 10:40:24 +0600
  [1m[35m (1.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:40:25 +0600
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/orders_controller.rb:2:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<main>'
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:40:25 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:40:26 +0600
ProductsChannel stopped streaming from products
Started GET "/orders" for 127.0.0.1 at 2020-12-31 10:40:26 +0600
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/orders_controller.rb:2:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<main>'
Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:40:42 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:40:42 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:40:43 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:40:43 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:40:43 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:40:48 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/1" for 127.0.0.1 at 2020-12-31 10:40:48 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"VPn3VgLOVzAVWWS1tZhhEoIQKR6jbst65OAs7hR2+YYBAQmVf4RgXiP8M3dpnAoKxTANdPP3S3q45qQpm3oreA==", "id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (0.7ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (99.9ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (108.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 261ms (ActiveRecord: 210.9ms | Allocations: 12933)


Started GET "/" for 127.0.0.1 at 2020-12-31 10:40:49 +0600
Processing by StoreController#index as HTML
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (2.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-31 04:40:49.293593', '2020-12-31 04:40:49.293593')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (93.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231043246408054 (7.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 1045)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 11.7ms | Allocations: 1191)
Completed 200 OK in 152ms (Views: 34.1ms | ActiveRecord: 99.0ms | Allocations: 11967)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:40:49 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:40:49 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:40:52 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-31 10:40:52 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"VWjkR4hyGPwCI6pvoiz6PqKniqvk6kt/GbKEb1aWzF0AkBqE9TgvkjSG/a1+KJEm5YeuwbRzy39FtAyo2Zoeow==", "product_id"=>"1"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 2, '2020-12-31 04:40:52.298406', '2020-12-31 04:40:52.298406')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (57.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 94ms (ActiveRecord: 62.0ms | Allocations: 8146)


Started GET "/" for 127.0.0.1 at 2020-12-31 10:40:52 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231043246408054 (3.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.2ms | Allocations: 1754)
  Rendered carts/_cart.html.erb (Duration: 10.1ms | Allocations: 2956)
Completed 200 OK in 35ms (Views: 27.8ms | ActiveRecord: 3.1ms | Allocations: 9499)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:40:52 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:40:52 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:40:53 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-31 10:40:53 +0600
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/orders_controller.rb:2:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<main>'
Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:41:18 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:41:18 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:41:23 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/2" for 127.0.0.1 at 2020-12-31 10:41:23 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ydjCqE8EWx2tCxsdat0+h7bD4xBWte5YqVj8Q4Yx9tucIDxrMk5sc5uuTN+22VWf8ePHegYsblj1XnSECT0kJQ==", "id"=>"2"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (1.5ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 2[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (142.4ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 2[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (109.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 274ms (ActiveRecord: 255.2ms | Allocations: 5145)


Started GET "/" for 127.0.0.1 at 2020-12-31 10:41:23 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-31 04:41:23.995656', '2020-12-31 04:41:23.995656')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (87.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231043246408054 (2.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 1120)
Completed 200 OK in 121ms (Views: 21.4ms | ActiveRecord: 89.6ms | Allocations: 9709)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:41:24 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:41:24 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:41:30 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-31 10:41:30 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"5jbpSXiYyWjWEBzyvyBfTLFga05wXX8Z16Ji19RPlESzzheKBdL+BuC1SzBjJDRU9kBPJCDE/xmLpOoQW0NGug==", "product_id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 3, '2020-12-31 04:41:30.478458', '2020-12-31 04:41:30.478458')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (62.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 82ms (ActiveRecord: 65.3ms | Allocations: 4748)


Started GET "/" for 127.0.0.1 at 2020-12-31 10:41:30 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231043246408054 (3.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.7ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 9.2ms | Allocations: 2113)
Completed 200 OK in 31ms (Views: 24.1ms | ActiveRecord: 3.3ms | Allocations: 8642)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:41:30 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:41:30 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:41:33 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-31 10:41:33 +0600
  
ArgumentError (Before process_action callback :authorize has not been defined):
  
app/controllers/orders_controller.rb:2:in `<class:OrdersController>'
app/controllers/orders_controller.rb:1:in `<main>'
Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:42:34 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:42:34 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:42:34 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-31 10:42:36 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231043246408054 (5.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 1037)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 21.7ms | Allocations: 4876)
  Rendered carts/_cart.html.erb (Duration: 46.1ms | Allocations: 10112)
Completed 200 OK in 113ms (Views: 75.7ms | ActiveRecord: 13.0ms | Allocations: 23150)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:42:36 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:42:36 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:42:39 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/3" for 127.0.0.1 at 2020-12-31 10:42:39 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"VJTpeWoAQpnsK+6AJq6cRLSnYbNj5weiu/KmjWLCXTsBbBe6F0p199qOuUL6qvdc84dF2TN+h6Ln9C5K7c6PxQ==", "id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:78:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mLineItem Destroy (1.0ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 3[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[36mCart Destroy (130.5ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 3[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
  [1m[35m (109.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:65:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 265ms (ActiveRecord: 242.5ms | Allocations: 5085)


Started GET "/" for 127.0.0.1 at 2020-12-31 10:42:40 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-31 04:42:40.190208', '2020-12-31 04:42:40.190208')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (68.1ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231043246408054 (4.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 1120)
Completed 200 OK in 108ms (Views: 27.6ms | ActiveRecord: 70.7ms | Allocations: 9785)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:42:40 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:42:40 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:42:42 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-31 10:42:42 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"MPSpLyZAVpCOi33uJHs8iyUhamaWJYXr3DXnyPsBjyRlDFfsWwph/rguKiz4f1eTYgFODMa8BeuAM28PdA1d2g==", "product_id"=>"1"}
  [1m[36mCart Load (3.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 4, '2020-12-31 04:42:42.113901', '2020-12-31 04:42:42.113901')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (98.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 126ms (ActiveRecord: 105.5ms | Allocations: 4998)


Started GET "/" for 127.0.0.1 at 2020-12-31 10:42:42 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231043246408054 (3.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.6ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 10.4ms | Allocations: 2113)
Completed 200 OK in 46ms (Views: 39.2ms | ActiveRecord: 3.1ms | Allocations: 8653)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:42:42 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:42:42 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:42:43 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-31 10:42:43 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:88:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.1ms | Allocations: 1119)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1181)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.4ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 8.4ms | Allocations: 2107)
Completed 200 OK in 50ms (Views: 22.9ms | ActiveRecord: 3.7ms | Allocations: 14183)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:42:43 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:42:43 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:42:53 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-31 10:42:53 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"YADh6tTAwJzrFQcbv1HuUecY4SdFx8rD68XsbP7zbsQ1+B8pqYr38t2wUNljVYVJoDjFTRVeSsO3w2Srcf+8Og==", "order"=>{"name"=>"a", "address"=>"a", "email"=>"a@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/models/order.rb:20:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mOrder Create (0.7ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('a', 'a', 'a@gmail.com', 0, '2020-12-31 04:42:53.290767', '2020-12-31 04:42:53.290767')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (4.5ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`cart_id` = NULL, `line_items`.`order_id` = 2, `line_items`.`updated_at` = '2020-12-31 04:42:53.297283' WHERE `line_items`.`id` = 4[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[35m (225.3ms)[0m  [1m[31mROLLBACK[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
Completed 500 Internal Server Error in 257ms (ActiveRecord: 233.0ms | Allocations: 7653)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'cart_id' cannot be null):
  
app/controllers/orders_controller.rb:35:in `block in create'
app/controllers/orders_controller.rb:34:in `create'
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE DATABASE `depot_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (432.5ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (391.9ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateProducts (20201223064838)
  [1m[35m (404.9ms)[0m  [1m[35mCREATE TABLE `products` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201223064838')[0m
  [1m[35m (43.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20201224091455)
  [1m[35m (354.2ms)[0m  [1m[35mCREATE TABLE `carts` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (1.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224091455')[0m
  [1m[35m (89.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLineItems (20201224094710)
  [1m[35m (508.9ms)[0m  [1m[35mCREATE TABLE `line_items` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `product_id` bigint NOT NULL, `cart_id` bigint NOT NULL, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL,  INDEX `index_line_items_on_product_id`  (`product_id`),  INDEX `index_line_items_on_cart_id`  (`cart_id`), CONSTRAINT `fk_rails_11e15d5c6b`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
, CONSTRAINT `fk_rails_af645e8e5f`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201224094710')[0m
  [1m[35m (46.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToLineItems (20201228050122)
  [1m[35m (778.2ms)[0m  [1m[35mALTER TABLE `line_items` ADD `quantity` int DEFAULT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228050122')[0m
  [1m[35m (59.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CombineItemsInCart (20201228051853)
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201228051853')[0m
  [1m[35m (52.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOrders (20201229044643)
  [1m[35m (376.9ms)[0m  [1m[35mCREATE TABLE `orders` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229044643')[0m
  [1m[35m (47.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderToLineItem (20201229060931)
  [1m[35m (654.2ms)[0m  [1m[35mALTER TABLE `line_items` ADD `order_id` bigint[0m
  [1m[35m (306.6ms)[0m  [1m[35mCREATE  INDEX `index_line_items_on_order_id`  ON `line_items` (`order_id`) [0m
  [1m[35m (1214.0ms)[0m  [1m[35mALTER TABLE `line_items` ADD CONSTRAINT `fk_rails_2dc2e5c22c`
FOREIGN KEY (`order_id`)
  REFERENCES `orders` (`id`)
[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20201229060931')[0m
  [1m[35m (48.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2020-12-31 04:46:28.359591', '2020-12-31 04:46:28.359591')[0m
  [1m[35m (58.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:46:42 +0600
  [1m[35m (2.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (28.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:46:42 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:46:43 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:46:44 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:46:44 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:46:46 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-31 10:46:46 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-31 04:46:46.709748', '2020-12-31 04:46:46.709748')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (160.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-0 (6.4ms)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-0 (0.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 12.5ms | Allocations: 2599)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 16.2ms | Allocations: 3293)
Completed 200 OK in 298ms (Views: 82.6ms | ActiveRecord: 172.9ms | Allocations: 32533)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:46:47 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:46:47 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM `products`[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:11)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Rails, Angular, Postgres, and Bootstrap' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Rails, Angular, Postgres, and Bootstrap', '<p>\n      <em>Powerful, Effective, and Efficient Full-Stack Web Development</em>\n      As a Rails developer, you care about user experience and performance,\n      but you also want simple and maintainable code. Achieve all that by\n      embracing the full stack of web development, from styling with\n      Bootstrap, building an interactive user interface with AngularJS, to\n      storing data quickly and reliably in PostgreSQL. Take a holistic view of\n      full-stack development to create usable, high-performing applications,\n      and learn to use these technologies effectively in a Ruby on Rails\n      environment.\n      </p>', 'dcbang.jpg', 45.0, '2020-12-31 04:47:12.292829', '2020-12-31 04:47:12.292829')[0m
  [1m[35m (76.7ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:27)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Seven Mobile Apps in Seven Weeks' LIMIT 1[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Seven Mobile Apps in Seven Weeks', '<p>\n      <em>Native Apps, Multiple Platforms</em>\n      Answer the question ‚ÄúCan we build this for ALL the devices?‚Äù with a\n      resounding YES. This book will help you get there with a real-world\n      introduction to seven platforms, whether you‚Äôre new to mobile or an\n      experienced developer needing to expand your options. Plus, you‚Äôll find\n      out which cross-platform solution makes the most sense for your needs.\n      </p>', '7apps.jpg', 26.0, '2020-12-31 04:47:12.386727', '2020-12-31 04:47:12.386727')[0m
  [1m[35m (104.9ms)[0m  [1m[35mCOMMIT[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :title attribute in Product model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from <main> at /home/nascenia/myrails/depot/db/seeds.rb:41)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Ruby Performance Optimization' LIMIT 1[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`) VALUES ('Ruby Performance Optimization', '<p>\n      <em>Why Ruby Is Slow, and How to Fix It</em>\n      You don‚Äôt have to accept slow Ruby or Rails performance. In this\n      comprehensive guide to Ruby optimization, you‚Äôll learn how to write\n      faster Ruby code‚Äîbut that‚Äôs just the beginning. See exactly what makes\n      Ruby and Rails code slow, and how to fix it. Alex Dymo will guide you\n      through perils of memory and CPU optimization, profiling, measuring,\n      performance testing, garbage collection, and tuning. You‚Äôll find that\n      all those ‚Äúhard‚Äù things aren‚Äôt so difficult after all, and your code\n      will run orders of magnitude faster.\n      </p>', 'adrpo.jpg', 46.0, '2020-12-31 04:47:12.503866', '2020-12-31 04:47:12.503866')[0m
  [1m[35m (99.1ms)[0m  [1m[35mCOMMIT[0m
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:47:18 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-31 10:47:18 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.4ms)
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201231044712292829 (0.4ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201231044712292829 (0.7ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201231044712503866 (0.4ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201231044712503866 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201231044712386727 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201231044712386727 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (1.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 46.5ms | Allocations: 8168)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 1111)
Completed 200 OK in 73ms (Views: 65.6ms | ActiveRecord: 3.9ms | Allocations: 14816)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:47:18 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:47:18 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:47:20 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-31 10:47:20 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"sMWTfm4Lem4C7Pdsqub3xxqGCzIvmxjQ+Nnfq7lk3H/lPW29E0FNADRJoK524pzfXaYvWH8CmNCk31dsNmgOgQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (4.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, '2020-12-31 04:47:20.314498', '2020-12-31 04:47:20.314498')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (97.2ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 142ms (ActiveRecord: 106.8ms | Allocations: 9033)


Started GET "/" for 127.0.0.1 at 2020-12-31 10:47:20 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 938)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.5ms | Allocations: 1918)
  Rendered carts/_cart.html.erb (Duration: 12.2ms | Allocations: 3285)
Completed 200 OK in 37ms (Views: 30.7ms | ActiveRecord: 3.1ms | Allocations: 9808)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:47:20 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:47:20 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:47:21 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-31 10:47:21 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (1.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:88:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 9.7ms | Allocations: 2240)
  Rendered orders/new.html.erb within layouts/application (Duration: 11.0ms | Allocations: 2534)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.3ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 9.2ms | Allocations: 2108)
Completed 200 OK in 77ms (Views: 45.1ms | ActiveRecord: 6.1ms | Allocations: 16566)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:47:22 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:47:22 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:47:27 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-31 10:47:27 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"hEU79QCsJEAV2JS/XlVeSgE2vtDlogbcTFNcIVA0WpnRvcU2feYTLiN9w32CUTVSRhaaurU7htwQVdTm3ziIZw==", "order"=>{"name"=>"a", "address"=>"a", "email"=>"as@gmail.com", "pay_type"=>"Purchase order"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/models/order.rb:20:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('a', 'a', 'as@gmail.com', 2, '2020-12-31 04:47:27.634052', '2020-12-31 04:47:27.634052')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.8ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`order_id` = 1, `line_items`.`updated_at` = '2020-12-31 04:47:27.641033' WHERE `line_items`.`id` = 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[35m (149.2ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mLineItem Destroy (0.7ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[35m (114.7ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 313ms (ActiveRecord: 269.6ms | Allocations: 11453)


Started GET "/" for 127.0.0.1 at 2020-12-31 10:47:27 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-31 04:47:27.948314', '2020-12-31 04:47:27.948314')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (55.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 941)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 1127)
Completed 200 OK in 89ms (Views: 21.1ms | ActiveRecord: 58.1ms | Allocations: 9736)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:47:28 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:47:28 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for 127.0.0.1 at 2020-12-31 10:48:08 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:48:08 +0600
ProductsChannel stopped streaming from products
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  ‚Ü≥ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1299)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 17.0ms | ActiveRecord: 1.2ms | Allocations: 5579)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:48:08 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:48:08 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/1" for 127.0.0.1 at 2020-12-31 10:48:22 +0600
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:77:in `set_order'
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 51.5ms | Allocations: 295)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 73ms (Views: 66.2ms | ActiveRecord: 1.2ms | Allocations: 5279)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:49:07 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-31 10:49:07 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 938)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.5ms | Allocations: 1127)
Completed 200 OK in 25ms (Views: 19.7ms | ActiveRecord: 2.5ms | Allocations: 7656)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:49:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:49:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:49:08 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-31 10:49:08 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"N92ANYRr4t/TDVbQ1o+Toj+BwW8DdP0otNlIcr50B1diJX72+SHVseWoARIKi/i6eKHlBVPtfSjo38C1MXjVqQ==", "product_id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (1.4ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 2, '2020-12-31 04:49:08.512511', '2020-12-31 04:49:08.512511')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (213.7ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 254ms (ActiveRecord: 217.9ms | Allocations: 4738)


Started GET "/" for 127.0.0.1 at 2020-12-31 10:49:08 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.8ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 10.7ms | Allocations: 2113)
Completed 200 OK in 34ms (Views: 26.6ms | ActiveRecord: 3.9ms | Allocations: 8648)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:49:08 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:49:08 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:49:11 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-31 10:49:11 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"7iLGtMMzt2dP1htv4LGQgXk1Nm/JRetQCYt/s5+Zd0+72jh3vnmACXlzTK08tfuZPhUSBZnca1BVjfd0EJWlsQ==", "product_id"=>"1"}
  [1m[36mCart Load (2.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 2, '2020-12-31 04:49:11.600146', '2020-12-31 04:49:11.600146')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (65.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 86ms (ActiveRecord: 70.2ms | Allocations: 4730)


Started GET "/" for 127.0.0.1 at 2020-12-31 10:49:11 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 6.9ms | Allocations: 1862)
  Rendered carts/_cart.html.erb (Duration: 16.3ms | Allocations: 3065)
Completed 200 OK in 39ms (Views: 30.6ms | ActiveRecord: 3.9ms | Allocations: 9594)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:49:11 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:49:11 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:49:13 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-31 10:49:13 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"3IPgToY4gEjvQ0azov6gCz34x9R+8W9dGSGKGs020f+Jex6N+3K3JtnmEXF++ssTetjjvi5o711FJwLdQjoDAQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.7ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 2, `line_items`.`updated_at` = '2020-12-31 04:49:13.069650' WHERE `line_items`.`id` = 3[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (75.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 92ms (ActiveRecord: 78.1ms | Allocations: 4722)


Started GET "/" for 127.0.0.1 at 2020-12-31 10:49:13 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (1.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (2.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 11.3ms | Allocations: 1862)
  Rendered carts/_cart.html.erb (Duration: 17.0ms | Allocations: 3065)
Completed 200 OK in 45ms (Views: 36.0ms | ActiveRecord: 6.2ms | Allocations: 9620)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:49:13 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:49:13 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:49:14 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-31 10:49:14 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:88:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.8ms | Allocations: 1048)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1109)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 5.1ms | Allocations: 1862)
  Rendered carts/_cart.html.erb (Duration: 8.8ms | Allocations: 3059)
Completed 200 OK in 32ms (Views: 22.4ms | ActiveRecord: 2.6ms | Allocations: 10341)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:49:14 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:49:14 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:49:26 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-31 10:49:26 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"z4e4w6bVZmBNEI2L9cmQetAFZRzjLxVomLThGEq8/yiaf0YA259RDnu12kkpzftilyVBdrO2lWjEsmnfxbAt1g==", "order"=>{"name"=>"f", "address"=>"f", "email"=>"f@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/models/order.rb:20:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mOrder Create (0.7ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('f', 'f', 'f@gmail.com', 0, '2020-12-31 04:49:26.500006', '2020-12-31 04:49:26.500006')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (151.0ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`order_id` = 2, `line_items`.`updated_at` = '2020-12-31 04:49:26.506271' WHERE `line_items`.`id` = 2[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (397.8ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`order_id` = 2, `line_items`.`updated_at` = '2020-12-31 04:49:26.662406' WHERE `line_items`.`id` = 3[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[35m (36.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 2[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mLineItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 2[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mLineItem Destroy (1.3ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 3[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mCart Destroy (6.4ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 2[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[35m (51.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 693ms (ActiveRecord: 648.7ms | Allocations: 12615)


Started GET "/" for 127.0.0.1 at 2020-12-31 10:49:27 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (1.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-31 04:49:27.197040', '2020-12-31 04:49:27.197040')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (45.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (2.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 938)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.4ms | Allocations: 1120)
Completed 200 OK in 77ms (Views: 20.2ms | ActiveRecord: 48.8ms | Allocations: 9712)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:49:27 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:49:27 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for 127.0.0.1 at 2020-12-31 10:49:40 +0600
Processing by OrdersController#index as HTML
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:49:40 +0600
  Rendering orders/index.html.erb within layouts/application
ProductsChannel stopped streaming from products
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  ‚Ü≥ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 995)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.3ms | ActiveRecord: 0.6ms | Allocations: 5148)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:49:40 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:49:40 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/2/edit" for 127.0.0.1 at 2020-12-31 10:49:45 +0600
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:77:in `set_order'
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.4ms | Allocations: 1092)
  Rendered orders/edit.html.erb within layouts/application (Duration: 68.9ms | Allocations: 1332)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 87ms (Views: 82.5ms | ActiveRecord: 0.6ms | Allocations: 6182)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:49:51 +0600
ProductsChannel stopped streaming from products
Started PATCH "/orders/2" for 127.0.0.1 at 2020-12-31 10:49:51 +0600
Processing by OrdersController#update as HTML
  Parameters: {"authenticity_token"=>"flPRSNDylFh10iuPOhK+n6/j/SiWlq3WGrDZJLXEYxUHQxyOUUJRdw2bIAD2h+GMcNAMGzJJhaEtePRQmk6xww==", "order"=>{"name"=>"f", "address"=>"fddd", "email"=>"f@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order", "id"=>"2"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:77:in `set_order'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:54:in `block in update'
  [1m[36mOrder Update (0.7ms)[0m  [1m[33mUPDATE `orders` SET `orders`.`address` = 'fddd', `orders`.`updated_at` = '2020-12-31 04:49:51.094476' WHERE `orders`.`id` = 2[0m
  ‚Ü≥ app/controllers/orders_controller.rb:54:in `block in update'
  [1m[35m (47.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:54:in `block in update'
Redirected to http://localhost:3000/orders/2
Completed 302 Found in 64ms (ActiveRecord: 49.4ms | Allocations: 3684)


Started GET "/orders/2" for 127.0.0.1 at 2020-12-31 10:49:51 +0600
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:77:in `set_order'
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 0.4ms | Allocations: 89)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 10.6ms | ActiveRecord: 0.6ms | Allocations: 4843)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:49:51 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:49:51 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for 127.0.0.1 at 2020-12-31 10:50:00 +0600
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:50:00 +0600
ProductsChannel stopped streaming from products
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  ‚Ü≥ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 972)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.3ms | ActiveRecord: 0.5ms | Allocations: 5121)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 10:50:00 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 10:50:00 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-31 11:06:48 +0600
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 938)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.9ms | Allocations: 1127)
Completed 200 OK in 34ms (Views: 27.8ms | ActiveRecord: 2.4ms | Allocations: 7677)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 11:06:48 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 11:06:48 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 11:06:50 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2020-12-31 11:06:50 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"JvJCcMS1lZlD6wzWVYva16VaWMqfHGdqLbo8nJ1kaedzCryzuf+i93VOWxSJj7HP4np8oM+F52pxvLRbEmi7GQ==", "product_id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (4.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 3, '2020-12-31 05:06:50.069426', '2020-12-31 05:06:50.069426')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (99.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 127ms (ActiveRecord: 106.5ms | Allocations: 4736)


Started GET "/" for 127.0.0.1 at 2020-12-31 11:06:50 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.1ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 10.3ms | Allocations: 2113)
Completed 200 OK in 37ms (Views: 28.6ms | ActiveRecord: 5.2ms | Allocations: 8646)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 11:06:50 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 11:06:50 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 11:06:51 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=2" for 127.0.0.1 at 2020-12-31 11:06:51 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"boJybxkOl+4O/VPvK3XvJ1/PlZwUg15lnPc2bjLWfqA7eoysZESggDhYBC33cYQ/GO+x9kQa3mXA8b6pvdqsXg==", "product_id"=>"2"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (2.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3 AND `line_items`.`product_id` = 2 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (1.6ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (156.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (2, 3, '2020-12-31 05:06:51.786665', '2020-12-31 05:06:51.786665')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (139.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 320ms (ActiveRecord: 301.8ms | Allocations: 4746)


Started GET "/" for 127.0.0.1 at 2020-12-31 11:06:52 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (5.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (1.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 10.2ms | Allocations: 2025)
  Rendered carts/_cart.html.erb (Duration: 19.6ms | Allocations: 3253)
Completed 200 OK in 52ms (Views: 39.8ms | ActiveRecord: 8.5ms | Allocations: 9802)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 11:06:52 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 11:06:52 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 11:06:53 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-31 11:06:53 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:88:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.6ms | Allocations: 1046)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 1107)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 9.9ms | Allocations: 1862)
  Rendered carts/_cart.html.erb (Duration: 15.2ms | Allocations: 3057)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 5.0ms | Allocations: 10361)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 11:06:53 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 11:06:53 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 11:07:02 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-31 11:07:02 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"HcEbqEFh6N6B6fw1ZvD/ZWUYu2Jqr0pGcP+5A2pPJzdIOeVrPCvfsLdMq/e69JR9IjifCDo2ykYs+THE5UP1yQ==", "order"=>{"name"=>"a", "address"=>"a", "email"=>"asswsws@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/models/order.rb:20:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('a', 'a', 'asswsws@gmail.com', 1, '2020-12-31 05:07:02.739538', '2020-12-31 05:07:02.739538')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`order_id` = 3, `line_items`.`updated_at` = '2020-12-31 05:07:02.745619' WHERE `line_items`.`id` = 4[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (1.4ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`order_id` = 3, `line_items`.`updated_at` = '2020-12-31 05:07:02.751111' WHERE `line_items`.`id` = 5[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[35m (183.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mLineItem Load (1.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 3[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mLineItem Destroy (1.5ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 4[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mLineItem Destroy (0.8ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 5[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mCart Destroy (46.9ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 3[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[35m (54.1ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 337ms (ActiveRecord: 293.6ms | Allocations: 12611)


Started GET "/" for 127.0.0.1 at 2020-12-31 11:07:03 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-31 05:07:03.080924', '2020-12-31 05:07:03.080924')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (56.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 938)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.3ms | Allocations: 1120)
Completed 200 OK in 91ms (Views: 21.9ms | ActiveRecord: 59.7ms | Allocations: 9708)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 11:07:03 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 11:07:03 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/order" for 127.0.0.1 at 2020-12-31 11:07:11 +0600
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 11:07:11 +0600
ProductsChannel stopped streaming from products
  
ActionController::RoutingError (No route matches [GET] "/order"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders" for 127.0.0.1 at 2020-12-31 11:07:16 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  ‚Ü≥ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1101)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 22.0ms | ActiveRecord: 0.6ms | Allocations: 5306)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 11:07:16 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 11:07:16 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 11:52:39 +0600
ProductsChannel stopped streaming from products
Started GET "/orders" for 127.0.0.1 at 2020-12-31 11:52:39 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  ‚Ü≥ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1082)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 0.7ms | Allocations: 5243)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 11:52:39 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 11:52:39 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 11:52:40 +0600
ProductsChannel stopped streaming from products
Started GET "/orders" for 127.0.0.1 at 2020-12-31 11:52:40 +0600
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  ‚Ü≥ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1083)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 16.2ms | ActiveRecord: 0.5ms | Allocations: 5240)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 11:52:40 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 11:52:40 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 12:16:22 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-31 12:16:23 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 12:16:23 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 12:16:24 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-31 12:16:24 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 12:16:24 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 12:16:24 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2020-12-31 12:16:24 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 12:16:24 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 12:16:25 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-31 12:16:27 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (2.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 1133)
Completed 200 OK in 23ms (Views: 18.6ms | ActiveRecord: 2.4ms | Allocations: 7705)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 12:16:27 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 12:16:27 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-31 15:16:17 +0600
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.3ms | Allocations: 1120)
Completed 200 OK in 31ms (Views: 24.1ms | ActiveRecord: 3.1ms | Allocations: 7690)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 15:16:18 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 15:16:18 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 15:16:19 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2020-12-31 15:16:19 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"TRoRNou5OWuFC2AV1y3kRuwWceSlBQmmw8y+HKopdScY4u/19vMOBbOuN9cLKY9eqzZVjvWciaafyjbbJSWn2Q==", "product_id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (59.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 4, '2020-12-31 09:16:19.515673', '2020-12-31 09:16:19.515673')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (139.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 222ms (ActiveRecord: 201.4ms | Allocations: 4747)


Started GET "/" for 127.0.0.1 at 2020-12-31 15:16:19 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.7ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 6.2ms | Allocations: 2113)
Completed 200 OK in 30ms (Views: 23.1ms | ActiveRecord: 3.2ms | Allocations: 8640)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 15:16:19 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 15:16:19 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 15:16:21 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-31 15:16:21 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:88:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.5ms | Allocations: 1053)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1114)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 4 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.6ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 9.2ms | Allocations: 2104)
Completed 200 OK in 32ms (Views: 25.2ms | ActiveRecord: 2.2ms | Allocations: 9393)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 15:16:21 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 15:16:21 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 15:16:27 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2020-12-31 15:16:27 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Guw7QRFv7hpBBrbvLO4IXQr+GdTfDlbW83t+oq37rYxPFMWCbCXZdHej4S3w6mNFTd49vo+X1tavffZlIvd/cg==", "order"=>{"name"=>"a", "address"=>"a", "email"=>"a@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/models/order.rb:20:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mOrder Create (0.8ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('a', 'a', 'a@gmail.com', 0, '2020-12-31 09:16:27.553804', '2020-12-31 09:16:27.553804')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (176.6ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`order_id` = 4, `line_items`.`updated_at` = '2020-12-31 09:16:27.559768' WHERE `line_items`.`id` = 6[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[35m (106.1ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 4 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 4[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mLineItem Destroy (0.8ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 6[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mCart Destroy (38.2ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 4[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[35m (52.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 415ms (ActiveRecord: 377.7ms | Allocations: 10276)


Started GET "/" for 127.0.0.1 at 2020-12-31 15:16:27 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (4.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2020-12-31 09:16:27.975529', '2020-12-31 09:16:27.975529')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (108.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (2.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 938)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 7.6ms | Allocations: 1120)
Completed 200 OK in 145ms (Views: 20.7ms | ActiveRecord: 115.6ms | Allocations: 9718)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 15:16:28 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 15:16:28 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 15:16:40 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2020-12-31 15:16:40 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:88:in `ensure_cart_isnt_empty'
Redirected to http://localhost:3000/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 1.3ms | Allocations: 1650)


Started GET "/" for 127.0.0.1 at 2020-12-31 15:16:40 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (2.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.2ms | Allocations: 1120)
Completed 200 OK in 25ms (Views: 19.9ms | ActiveRecord: 1.9ms | Allocations: 7681)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 15:16:40 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 15:16:40 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 15:16:57 +0600
Started GET "/orders" for 127.0.0.1 at 2020-12-31 15:16:57 +0600
ProductsChannel stopped streaming from products
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  ‚Ü≥ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1216)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 0.6ms | Allocations: 5361)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 15:16:57 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 15:16:57 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 16:56:38 +0600
ProductsChannel stopped streaming from products
Started GET "/orders" for 127.0.0.1 at 2020-12-31 16:56:38 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT `orders`.* FROM `orders`[0m
  ‚Ü≥ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1215)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 12.8ms | ActiveRecord: 0.8ms | Allocations: 5374)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 16:56:38 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 16:56:38 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2020-12-31 18:06:29 +0600
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 1120)
Completed 200 OK in 31ms (Views: 22.1ms | ActiveRecord: 4.9ms | Allocations: 7686)


Started GET "/cable" for 127.0.0.1 at 2020-12-31 18:06:29 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 18:06:29 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 18:27:31 +0600
ProductsChannel stopped streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 18:27:31 +0600
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 18:27:31 +0600
ProductsChannel stopped streaming from products
ProductsChannel stopped streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2020-12-31 18:27:31 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2021-01-01 10:49:18 +0600
  [1m[35m (298.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (35.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 10:49:19 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 10:49:19 +0600
Started GET "/cable" for 127.0.0.1 at 2021-01-01 10:49:20 +0600
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 10:49:20 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 10:49:20 +0600
Started GET "/cable" for 127.0.0.1 at 2021-01-01 10:49:20 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 10:49:20 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 10:49:21 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2021-01-01 10:49:28 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 10:49:28 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 10:49:29 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2021-01-01 10:49:34 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (15.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (19.1ms)
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201231044712292829 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201231044712292829 (0.7ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201231044712503866 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201231044712503866 (0.9ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201231044712386727 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201231044712386727 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 373.2ms | Allocations: 18153)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (23.3ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.2ms | Allocations: 1515)
Completed 200 OK in 926ms (Views: 524.7ms | ActiveRecord: 116.8ms | Allocations: 36046)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 10:49:35 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 10:49:35 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 10:49:37 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2021-01-01 10:49:37 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"m/Z4GSiQp3w6FeOiS0F0R9k4uv/aCfDhWhcggBPYeITODobaVdqQEgywtGCXRR9fnhielYqQcOEGEahHnNSqeg==", "product_id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (14.9ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 5, '2021-01-01 04:49:37.491085', '2021-01-01 04:49:37.491085')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (52.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 97ms (ActiveRecord: 68.8ms | Allocations: 9222)


Started GET "/" for 127.0.0.1 at 2021-01-01 10:49:37 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (2.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.5ms | Allocations: 1918)
  Rendered carts/_cart.html.erb (Duration: 12.2ms | Allocations: 3285)
Completed 200 OK in 34ms (Views: 28.2ms | ActiveRecord: 3.2ms | Allocations: 9811)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 10:49:37 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 10:49:37 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 10:49:39 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2021-01-01 10:49:40 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:88:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 86.6ms | Allocations: 2240)
  Rendered orders/new.html.erb within layouts/application (Duration: 88.2ms | Allocations: 2535)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 5 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.0ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 10.3ms | Allocations: 2108)
Completed 200 OK in 204ms (Views: 110.8ms | ActiveRecord: 61.7ms | Allocations: 16094)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 10:49:40 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 10:49:40 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 10:49:51 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2021-01-01 10:49:51 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Efze8nMv+iNwK9nSYvfSlp+ryFCJAP9CxhyTJCxBmVhEBCAxDmXNTUaOjhC+87mO2IvsOtmZf0KaGhvjo01Lpg==", "order"=>{"name"=>"rrrrr", "address"=>"rrrrrr", "email"=>"asswsws@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/models/order.rb:20:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('rrrrr', 'rrrrrr', 'asswsws@gmail.com', 1, '2021-01-01 04:49:51.657608', '2021-01-01 04:49:51.657608')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (1.1ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`order_id` = 5, `line_items`.`updated_at` = '2021-01-01 04:49:51.662388' WHERE `line_items`.`id` = 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[35m (204.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:35:in `block in create'
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 5 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 5[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mLineItem Destroy (0.9ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mCart Destroy (38.9ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 5[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[35m (53.7ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 351ms (ActiveRecord: 302.7ms | Allocations: 11318)


Started GET "/" for 127.0.0.1 at 2021-01-01 10:49:52 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (5.6ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2021-01-01 04:49:52.011382', '2021-01-01 04:49:52.011382')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (94.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 941)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.4ms | Allocations: 1127)
Completed 200 OK in 137ms (Views: 26.0ms | ActiveRecord: 102.2ms | Allocations: 9835)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 10:49:52 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 10:49:52 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users/new" for 127.0.0.1 at 2021-01-01 12:30:12 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:30:20 +0600
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:30:23 +0600
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:30:29 +0600
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:30:36 +0600
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:30:44 +0600
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:30:53 +0600
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:31:02 +0600
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:31:13 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:31:24 +0600
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:31:35 +0600
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:31:49 +0600
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:32:11 +0600
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:32:42 +0600
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:33:30 +0600
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:34:30 +0600
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:35:30 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:36:30 +0600
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:37:30 +0600
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:38:30 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:39:31 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:40:31 +0600
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:41:31 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:42:31 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:43:31 +0600
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:44:31 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:45:31 +0600
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:46:31 +0600
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:47:31 +0600
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:48:31 +0600
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:49:32 +0600
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:50:32 +0600
  [1m[35m (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:51:32 +0600
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:52:32 +0600
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:53:32 +0600
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:54:32 +0600
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:55:32 +0600
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:56:32 +0600
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:57:32 +0600
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:58:32 +0600
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 12:59:32 +0600
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 13:00:33 +0600
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 13:01:33 +0600
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for 127.0.0.1 at 2021-01-01 13:02:33 +0600
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2021-01-01 13:02:51 +0600
  [1m[35m (1.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.4) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.4) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
  [1m[35m (2.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateUsers (20210101061615)
  [1m[35m (413.7ms)[0m  [1m[35mCREATE TABLE `users` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `password_digest` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20210101061615')[0m
  [1m[35m (60.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable" for 127.0.0.1 at 2021-01-01 13:03:33 +0600
  [1m[35m (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 13:03:33 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2021-01-01 13:03:37 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (5.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 1488)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.0ms | Allocations: 1532)
Completed 200 OK in 407ms (Views: 380.3ms | ActiveRecord: 6.4ms | Allocations: 38683)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 13:03:38 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 13:03:38 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 13:03:44 +0600
ProductsChannel stopped streaming from products
Started GET "/admin" for 127.0.0.1 at 2021-01-01 13:03:44 +0600
Processing by AdminController#index as HTML
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  ‚Ü≥ app/controllers/admin_controller.rb:3:in `index'
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 132)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 12.9ms | ActiveRecord: 1.4ms | Allocations: 7394)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 13:03:44 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 13:03:44 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 16:31:04 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2021-01-01 16:31:04 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1037)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 1360)
Completed 200 OK in 40ms (Views: 22.7ms | ActiveRecord: 2.2ms | Allocations: 13958)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 16:31:04 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 16:31:04 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2021-01-01 16:31:11 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 16:31:11 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 16:31:11 +0600
ProductsChannel stopped streaming from products
Started GET "/products" for 127.0.0.1 at 2021-01-01 16:31:11 +0600
Processing by ProductsController#index as HTML
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 1130)


  
LoadError (cannot load such file -- bcrypt):
  
app/models/user.rb:2:in `<class:User>'
app/models/user.rb:1:in `<main>'
app/controllers/application_controller.rb:10:in `authorize'
Started GET "/" for 127.0.0.1 at 2021-01-01 17:38:36 +0600
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1470)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 1.3ms | Allocations: 16433)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
     8: 
     9:     <%= stylesheet_link_tag    'application', media: 'all',
    10:     'data-turbolinks-track': 'reload' %>
    11:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    12:   </head>
    13: 
    14:   <body class="<%= controller.controller_name %>">
  
app/views/layouts/application.html.erb:11
Started GET "/cable" for 127.0.0.1 at 2021-01-01 17:38:45 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 17:38:45 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2021-01-01 17:39:07 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 1367)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.3ms | Allocations: 1511)
Completed 200 OK in 50ms (Views: 43.1ms | ActiveRecord: 3.1ms | Allocations: 12957)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 17:39:07 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 17:39:07 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 17:39:09 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2021-01-01 17:39:09 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"XS2f3OSdsmjh+9kZIanx6FdXwU1k5+Cer4023Cbt30wI1WEfmdeFBtdejtv9rZrwEHflJzR+YJ7zi74bqeENsg==", "product_id"=>"1"}
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 6, '2021-01-01 11:39:09.708088', '2021-01-01 11:39:09.708088')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (190.7ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 242ms (ActiveRecord: 195.4ms | Allocations: 11858)


Started GET "/" for 127.0.0.1 at 2021-01-01 17:39:09 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (5.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 938)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 10.5ms | Allocations: 1920)
  Rendered carts/_cart.html.erb (Duration: 17.3ms | Allocations: 3280)
Completed 200 OK in 49ms (Views: 40.2ms | ActiveRecord: 4.7ms | Allocations: 9981)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 17:39:10 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 17:39:10 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 17:39:17 +0600
ProductsChannel stopped streaming from products
Started GET "/users" for 127.0.0.1 at 2021-01-01 17:39:17 +0600
Processing by UsersController#index as HTML
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 1226)


  
LoadError (cannot load such file -- bcrypt):
  
app/models/user.rb:3:in `<class:User>'
app/models/user.rb:1:in `<main>'
app/controllers/application_controller.rb:10:in `authorize'
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (2.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT GET_LOCK('6958702983027556635', 0)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('6958702983027556635')[0m
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:08:30 +0600
  [1m[35m (3.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:08:30 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2021-01-01 18:08:39 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.3ms)
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201231044712292829 (0.4ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201231044712292829 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201231044712503866 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201231044712503866 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201231044712386727 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201231044712386727 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 290.2ms | Allocations: 31748)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 6 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.2ms | Allocations: 1881)
  Rendered carts/_cart.html.erb (Duration: 30.4ms | Allocations: 7821)
Completed 200 OK in 401ms (Views: 354.6ms | ActiveRecord: 8.3ms | Allocations: 56156)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:08:39 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:08:39 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:08:42 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/6" for 127.0.0.1 at 2021-01-01 18:08:42 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"He64Od9vnmJfd0NgbSh3Ablsn9AJK/6+f+0pCPdn4OtIFkb6oiWpDGnSFKKxLBwZ/ky7ulmyfr4j66HPeGsyFQ==", "id"=>"6"}
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 6 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (1.6ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:58:in `destroy'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 6[0m
  ‚Ü≥ app/controllers/carts_controller.rb:58:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 2[0m
  ‚Ü≥ app/controllers/carts_controller.rb:58:in `destroy'
  [1m[36mCart Destroy (1.3ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 6[0m
  ‚Ü≥ app/controllers/carts_controller.rb:58:in `destroy'
  [1m[35m (130.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:58:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 150ms (ActiveRecord: 136.0ms | Allocations: 5176)


Started GET "/" for 127.0.0.1 at 2021-01-01 18:08:42 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2021-01-01 12:08:42.468956', '2021-01-01 12:08:42.468956')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (124.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 7 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (1.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 9.0ms | Allocations: 1120)
Completed 200 OK in 169ms (Views: 30.7ms | ActiveRecord: 127.9ms | Allocations: 10087)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:08:42 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:08:42 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users" for 127.0.0.1 at 2021-01-01 18:08:50 +0600
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:08:50 +0600
ProductsChannel stopped streaming from products
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  ‚Ü≥ app/controllers/application_controller.rb:10:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 1.2ms | Allocations: 1822)


Started GET "/login" for 127.0.0.1 at 2021-01-01 18:08:50 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1222)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.0ms | Allocations: 6148)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:08:50 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:08:50 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:09:13 +0600
ProductsChannel stopped streaming from products
Started POST "/login" for 127.0.0.1 at 2021-01-01 18:09:13 +0600
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"YYrfC7YI7XfehvN3+Szm+0L1ef1tiXbu2FTNhZV2GvM0ciHIy0LaGegjpLUlKI3jBdVdlz0Q9u6EUkVCGnrIDQ==", "name"=>"Mushfiq", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`name` = 'Mushfiq' LIMIT 1[0m
  ‚Ü≥ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 6ms (ActiveRecord: 0.6ms | Allocations: 1042)


Started GET "/login" for 127.0.0.1 at 2021-01-01 18:09:13 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 317)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 23.2ms | ActiveRecord: 0.0ms | Allocations: 4634)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:09:13 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:09:13 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:10:36 +0600
ProductsChannel stopped streaming from products
Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:10:36 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:10:36 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:10:38 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2021-01-01 18:10:38 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 938)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 7 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.7ms | Allocations: 1127)
Completed 200 OK in 31ms (Views: 25.2ms | ActiveRecord: 2.2ms | Allocations: 7831)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:10:38 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:10:38 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users" for 127.0.0.1 at 2021-01-01 18:12:08 +0600
Processing by UsersController#index as HTML
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:12:08 +0600
ProductsChannel stopped streaming from products
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  ‚Ü≥ app/controllers/application_controller.rb:10:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 1.9ms | Allocations: 1208)


Started GET "/login" for 127.0.0.1 at 2021-01-01 18:12:08 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 577)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.0ms | Allocations: 12564)


  
ActionView::Template::Error (The asset "application.js" is not present in the asset pipeline.
):
     8: 
     9:     <%= stylesheet_link_tag    'application', media: 'all',
    10:     'data-turbolinks-track': 'reload' %>
    11:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    12:   </head>
    13: 
    14:   <body class="<%= controller.controller_name %>">
  
app/views/layouts/application.html.erb:11
Started GET "/login" for 127.0.0.1 at 2021-01-01 18:12:21 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 576)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 21.5ms | ActiveRecord: 0.0ms | Allocations: 6088)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:12:21 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:12:21 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:12:37 +0600
ProductsChannel stopped streaming from products
Started POST "/login" for 127.0.0.1 at 2021-01-01 18:12:37 +0600
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"YcdPMBJlhM4U9cbF14NoxGB794R3cABdjKu+Z0hH/0c0P7Hzby+zoCJQkQcLhwPcJ1vT7ifpgF3QrTagx0stuQ==", "name"=>"dave", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`name` = 'dave' LIMIT 1[0m
  ‚Ü≥ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 923)


Started GET "/login" for 127.0.0.1 at 2021-01-01 18:12:37 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 323)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 13.1ms | ActiveRecord: 0.0ms | Allocations: 4633)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:12:37 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:12:37 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:15:55 +0600
ProductsChannel stopped streaming from products
Started POST "/login" for 127.0.0.1 at 2021-01-01 18:15:55 +0600
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"FZDrJ2ZXEQThH+5KIT6c5Fl4Ph9Vn8gMyTTQt/4hVYRAaBXkGx0mate6uYj9Ovf8HlgadQUGSAyVMlhwcS2Heg==", "name"=>"dave", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`name` = 'dave' LIMIT 1[0m
  ‚Ü≥ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 898)


Started GET "/login" for 127.0.0.1 at 2021-01-01 18:15:55 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 315)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.0ms | Allocations: 4626)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:15:55 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:15:55 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:17:08 +0600
ProductsChannel stopped streaming from products
Started GET "/users/new" for 127.0.0.1 at 2021-01-01 18:17:08 +0600
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  ‚Ü≥ app/controllers/application_controller.rb:10:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.4ms | Allocations: 1040)


Started GET "/login" for 127.0.0.1 at 2021-01-01 18:17:08 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 312)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.0ms | Allocations: 4615)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:17:08 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:17:08 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users/new" for 127.0.0.1 at 2021-01-01 18:17:25 +0600
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:17:25 +0600
ProductsChannel stopped streaming from products
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  ‚Ü≥ app/controllers/application_controller.rb:10:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 1021)


Started GET "/login" for 127.0.0.1 at 2021-01-01 18:17:25 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.0ms | Allocations: 4597)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:17:25 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:17:25 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:17:31 +0600
ProductsChannel stopped streaming from products
Started POST "/login" for 127.0.0.1 at 2021-01-01 18:17:31 +0600
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"36j3tgK6l7JjaLshXRBhD8amOUemK6YqVNqaQaXbUtyKUAl1f/Cg3FXN7OOBFAoXgYYdLfayJioI3BKGKteAIg==", "name"=>"dave", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`name` = 'dave' LIMIT 1[0m
  ‚Ü≥ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 902)


Started GET "/login" for 127.0.0.1 at 2021-01-01 18:17:31 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 315)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.0ms | Allocations: 4614)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:17:31 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:17:31 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users/new" for 127.0.0.1 at 2021-01-01 18:18:08 +0600
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  ‚Ü≥ app/controllers/application_controller.rb:10:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 1007)


Started GET "/login" for 127.0.0.1 at 2021-01-01 18:18:08 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.0ms | Allocations: 4605)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:18:08 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:18:08 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:21:01 +0600
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:21:01 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:21:01 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:21:01 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:21:04 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:21:04 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:23:45 +0600
ProductsChannel stopped streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:24:03 +0600
ProductsChannel stopped streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:24:06 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2021-01-01 18:24:09 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.6ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201231044712292829 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201231044712292829 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201231044712503866 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201231044712503866 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201231044712386727 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201231044712386727 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 69.3ms | Allocations: 19478)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 7 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.7ms | Allocations: 1515)
Completed 200 OK in 147ms (Views: 103.6ms | ActiveRecord: 7.5ms | Allocations: 37556)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:24:10 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:24:10 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:24:19 +0600
ProductsChannel stopped streaming from products
Started GET "/orders" for 127.0.0.1 at 2021-01-01 18:24:19 +0600
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  ‚Ü≥ app/controllers/application_controller.rb:10:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 1.5ms | Allocations: 1866)


Started GET "/login" for 127.0.0.1 at 2021-01-01 18:24:19 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1223)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.0ms | Allocations: 6143)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:24:19 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:24:19 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:24:31 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2021-01-01 18:24:31 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:90:in `ensure_cart_isnt_empty'
Redirected to http://localhost:3000/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 1.0ms | Allocations: 1645)


Started GET "/" for 127.0.0.1 at 2021-01-01 18:24:31 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 7 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 1127)
Completed 200 OK in 23ms (Views: 17.8ms | ActiveRecord: 2.3ms | Allocations: 7858)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:24:31 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:24:31 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:24:38 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=3" for 127.0.0.1 at 2021-01-01 18:24:38 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bJ0mvKf7X4nUuW41/CxFFVuVOUwbG6SuBaHLYDKfKS85Zdh/2rFo5+IcOfcgKC4NHLUdJkuCJK5Zp0OnvZP70Q==", "product_id"=>"3"}
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 7, '2021-01-01 12:24:38.592875', '2021-01-01 12:24:38.592875')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (204.1ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 248ms (ActiveRecord: 208.1ms | Allocations: 9238)


Started GET "/" for 127.0.0.1 at 2021-01-01 18:24:38 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (2.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 7 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.2ms | Allocations: 1920)
  Rendered carts/_cart.html.erb (Duration: 12.7ms | Allocations: 3288)
Completed 200 OK in 36ms (Views: 30.1ms | ActiveRecord: 2.7ms | Allocations: 9996)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:24:38 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:24:38 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:24:40 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2021-01-01 18:24:40 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (1.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:90:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 8.4ms | Allocations: 2231)
  Rendered orders/new.html.erb within layouts/application (Duration: 10.4ms | Allocations: 2526)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 7 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (3.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 7.8ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 13.5ms | Allocations: 2108)
Completed 200 OK in 88ms (Views: 37.7ms | ActiveRecord: 8.9ms | Allocations: 17711)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:24:40 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:24:40 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:24:59 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2021-01-01 18:24:59 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"/SvIvZ9/GZmMhjTZ70yNAI1ZKCSNejaoR7wiZ0DAtKyo0zZ+4jUu97ojYxszSOYYynkMTt3jtqgbuqqgz8xmUg==", "order"=>{"name"=>"ss", "address"=>"sss", "email"=>"asd@gmail.com", "pay_type"=>"Purchase order"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (2.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/models/order.rb:20:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mOrder Create (6.2ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('ss', 'sss', 'asd@gmail.com', 2, '2021-01-01 12:24:59.151068', '2021-01-01 12:24:59.151068')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mLineItem Update (136.5ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`order_id` = 6, `line_items`.`updated_at` = '2021-01-01 12:24:59.162697' WHERE `line_items`.`id` = 3[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[35m (53.1ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 7 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 7[0m
  ‚Ü≥ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 3[0m
  ‚Ü≥ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mCart Destroy (161.2ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 7[0m
  ‚Ü≥ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[35m (53.2ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:37:in `block in create'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: f5787d31-fa9f-43e5-8ce3-04ffd27d5a80) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f59c40273d8 @uri=#<URI::GID gid://depot/Order/6>>]}
Redirected to http://localhost:3000/
Completed 302 Found in 615ms (ActiveRecord: 415.3ms | Allocations: 23601)


  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/" for 127.0.0.1 at 2021-01-01 18:24:59 +0600
  [1m[36mOrder Load (2.5ms)[0m  [1m[34mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 6 LIMIT 1[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [f5787d31-fa9f-43e5-8ce3-04ffd27d5a80] Performing ActionMailer::MailDeliveryJob (Job ID: f5787d31-fa9f-43e5-8ce3-04ffd27d5a80) from Async(mailers) enqueued at 2021-01-01T12:24:59Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f59d003ae68 @uri=#<URI::GID gid://depot/Order/6>>]}
Processing by StoreController#index as HTML
[ActiveJob] [ActionMailer::MailDeliveryJob] [f5787d31-fa9f-43e5-8ce3-04ffd27d5a80]   Rendering order_mailer/received.html.erb within layouts/mailer
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
[ActiveJob] [ActionMailer::MailDeliveryJob] [f5787d31-fa9f-43e5-8ce3-04ffd27d5a80]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 2.5ms | Allocations: 886)
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2021-01-01 12:24:59.778587', '2021-01-01 12:24:59.778587')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
[ActiveJob] [ActionMailer::MailDeliveryJob] [f5787d31-fa9f-43e5-8ce3-04ffd27d5a80]   Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[35m (129.1ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 1127)
Completed 200 OK in 164ms (Views: 20.9ms | ActiveRecord: 131.7ms | Allocations: 11048)


[ActiveJob] [ActionMailer::MailDeliveryJob] [f5787d31-fa9f-43e5-8ce3-04ffd27d5a80]   [1m[36mLineItem Load (173.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 6[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [f5787d31-fa9f-43e5-8ce3-04ffd27d5a80]   ‚Ü≥ app/views/order_mailer/received.text.erb:7
[ActiveJob] [ActionMailer::MailDeliveryJob] [f5787d31-fa9f-43e5-8ce3-04ffd27d5a80]   Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
[ActiveJob] [ActionMailer::MailDeliveryJob] [f5787d31-fa9f-43e5-8ce3-04ffd27d5a80]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 178.3ms | Allocations: 9140)
[ActiveJob] [ActionMailer::MailDeliveryJob] [f5787d31-fa9f-43e5-8ce3-04ffd27d5a80] OrderMailer#received: processed outbound mail in 223.7ms
Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:25:00 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:25:00 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
[ActiveJob] [ActionMailer::MailDeliveryJob] [f5787d31-fa9f-43e5-8ce3-04ffd27d5a80] Delivered mail 5fef149c46c0_2e49678432853@nascenia-HP-ProBook-450-G0.mail (35.1ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [f5787d31-fa9f-43e5-8ce3-04ffd27d5a80] Date: Fri, 01 Jan 2021 18:25:00 +0600
From: Sam Ruby <depot@example.com>
To: asd@gmail.com
Message-ID: <5fef149c46c0_2e49678432853@nascenia-HP-ProBook-450-G0.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5fef149bf270b_2e49678432785";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5fef149bf270b_2e49678432785
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear ss

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:


We'll send you a separate e-mail when your order ships.


----==_mimepart_5fef149bf270b_2e49678432785
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5fef149bf270b_2e49678432785--

[ActiveJob] [ActionMailer::MailDeliveryJob] [f5787d31-fa9f-43e5-8ce3-04ffd27d5a80] Performed ActionMailer::MailDeliveryJob (Job ID: f5787d31-fa9f-43e5-8ce3-04ffd27d5a80) from Async(mailers) in 260.44ms
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2021-01-01 18:25:10 +0600
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:25:10 +0600
ProductsChannel stopped streaming from products
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:90:in `ensure_cart_isnt_empty'
Redirected to http://localhost:3000/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 1.0ms | Allocations: 1645)


Started GET "/" for 127.0.0.1 at 2021-01-01 18:25:10 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 939)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 1127)
Completed 200 OK in 25ms (Views: 19.6ms | ActiveRecord: 2.4ms | Allocations: 7839)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:25:10 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:25:10 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:25:22 +0600
ProductsChannel stopped streaming from products
Started GET "/users/new" for 127.0.0.1 at 2021-01-01 18:25:22 +0600
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  ‚Ü≥ app/controllers/application_controller.rb:10:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 1091)


Started GET "/login" for 127.0.0.1 at 2021-01-01 18:25:22 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 319)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.0ms | Allocations: 4647)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:25:22 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:25:22 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:26:27 +0600
ProductsChannel stopped streaming from products
Started GET "/admin" for 127.0.0.1 at 2021-01-01 18:26:27 +0600
Processing by AdminController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  ‚Ü≥ app/controllers/application_controller.rb:10:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 1082)


Started GET "/login" for 127.0.0.1 at 2021-01-01 18:26:27 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 312)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms | Allocations: 4613)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:26:27 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:26:27 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:32:10 +0600
ProductsChannel stopped streaming from products
Started GET "/sessions" for 127.0.0.1 at 2021-01-01 18:32:10 +0600
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  
ActionController::RoutingError (No route matches [GET] "/sessions"):
  
actionpack (6.0.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.4) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.4) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.4) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.3.0) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.4) lib/rails/engine.rb:527:in `call'
puma (4.3.7) lib/puma/configuration.rb:228:in `call'
puma (4.3.7) lib/puma/server.rb:713:in `handle_request'
puma (4.3.7) lib/puma/server.rb:472:in `process_client'
puma (4.3.7) lib/puma/server.rb:328:in `block in run'
puma (4.3.7) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users/new" for 127.0.0.1 at 2021-01-01 18:32:34 +0600
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  ‚Ü≥ app/controllers/application_controller.rb:10:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.5ms | Allocations: 1042)


Started GET "/login" for 127.0.0.1 at 2021-01-01 18:32:34 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 312)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.0ms | Allocations: 4663)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:32:34 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:32:34 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2021-01-01 18:41:40 +0600
  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (3.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.7ms)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201231044712292829 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201231044712292829 (0.5ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201231044712503866 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201231044712503866 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201231044712386727 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201231044712386727 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (0.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 95.3ms | Allocations: 19508)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.7ms | Allocations: 1515)
Completed 200 OK in 190ms (Views: 125.8ms | ActiveRecord: 16.0ms | Allocations: 38998)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2021-01-01 18:41:43 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"2j85gDADXIqxs3wckLfRgByTDyeAShICq2ZgcYVQO76Px8dDTUlr5IcWK95Ms7qYW7MrTdDTkgL3YOi2ClzpQA==", "product_id"=>"1"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 8, '2021-01-01 12:41:43.717544', '2021-01-01 12:41:43.717544')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (66.7ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 111ms (ActiveRecord: 71.4ms | Allocations: 9267)


Started GET "/" for 127.0.0.1 at 2021-01-01 18:41:43 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.4ms | Allocations: 1918)
  Rendered carts/_cart.html.erb (Duration: 11.6ms | Allocations: 3286)
Completed 200 OK in 38ms (Views: 29.6ms | ActiveRecord: 3.4ms | Allocations: 9994)


Started GET "/orders/new" for 127.0.0.1 at 2021-01-01 18:41:45 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:90:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.8ms | Allocations: 2240)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.9ms | Allocations: 2536)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.5ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 5.6ms | Allocations: 2108)
Completed 200 OK in 52ms (Views: 23.8ms | ActiveRecord: 4.1ms | Allocations: 16316)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:41:46 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:41:46 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:41:52 +0600
Started GET "/orders/new" for 127.0.0.1 at 2021-01-01 18:41:52 +0600
ProductsChannel stopped streaming from products
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:90:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.5ms | Allocations: 1046)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1108)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 8 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 8[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.1ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 6.5ms | Allocations: 2104)
Completed 200 OK in 30ms (Views: 21.1ms | ActiveRecord: 2.3ms | Allocations: 9575)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:41:52 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:41:52 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:42:05 +0600
ProductsChannel stopped streaming from products
Started GET "/users/new" for 127.0.0.1 at 2021-01-01 18:42:05 +0600
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  ‚Ü≥ app/controllers/application_controller.rb:10:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.9ms | Allocations: 1807)


Started GET "/login" for 127.0.0.1 at 2021-01-01 18:42:05 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1213)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.0ms | Allocations: 6131)


Started GET "/cable" for 127.0.0.1 at 2021-01-01 18:42:05 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:42:05 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-01 18:56:13 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2021-01-04 12:27:49 +0600
  [1m[35m (93.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (21.7ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2021-01-04 06:27:49.925839', '2021-01-04 06:27:49.925839')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (60.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (22.2ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (27.0ms)
  [1m[36mProduct Load (5.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201231044712292829 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201231044712292829 (0.7ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201231044712503866 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201231044712503866 (0.9ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201231044712386727 (0.4ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201231044712386727 (0.4ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 843.6ms | Allocations: 19516)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (23.2ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 9 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 33.9ms | Allocations: 1518)
Completed 200 OK in 1546ms (Views: 1199.8ms | ActiveRecord: 236.7ms | Allocations: 39674)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 12:27:51 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:27:51 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:28:33 +0600
ProductsChannel stopped streaming from products
Started GET "/users/new" for 127.0.0.1 at 2021-01-04 12:28:33 +0600
Processing by UsersController#new as HTML
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  ‚Ü≥ app/controllers/application_controller.rb:10:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 38ms (ActiveRecord: 19.8ms | Allocations: 1825)


Started GET "/login" for 127.0.0.1 at 2021-01-04 12:28:33 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 25.9ms | Allocations: 1223)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 36.1ms | ActiveRecord: 0.0ms | Allocations: 6150)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 12:28:34 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:28:34 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users/new" for 127.0.0.1 at 2021-01-04 12:30:50 +0600
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  ‚Ü≥ app/controllers/application_controller.rb:10:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.5ms | Allocations: 1029)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:30:50 +0600
ProductsChannel stopped streaming from products
Started GET "/login" for 127.0.0.1 at 2021-01-04 12:30:50 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 312)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 13.1ms | ActiveRecord: 0.0ms | Allocations: 4605)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 12:30:50 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:30:50 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
DEPRECATION WARNING: Uniqueness validator will no longer enforce case sensitive comparison in Rails 6.1. To continue case sensitive comparison on the :name attribute in User model, pass `case_sensitive: true` option explicitly to the uniqueness validator. (called from irb_binding at (irb):1)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM `users` WHERE `users`.`name` = BINARY 'dave' LIMIT 1[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO `users` (`name`, `password_digest`, `created_at`, `updated_at`) VALUES ('dave', '$2a$12$.QPgBu15H8Sof6KDAPcV5eL.U.aC60.FonMkEDgcV3enFW.xbgjR6', '2021-01-04 06:38:49.874462', '2021-01-04 06:38:49.874462')[0m
  [1m[35m (62.8ms)[0m  [1m[35mCOMMIT[0m
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:40:03 +0600
ProductsChannel stopped streaming from products
Started POST "/login" for 127.0.0.1 at 2021-01-04 12:40:03 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"QFfUUHWpg97nUXVLfxDmYE//I8DDmWRLVstiSwQ1rkqJdasc4mme3nxtDhKyWwc7KWaki+W49UIg7Emjiq19AQ==", "name"=>"dave", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`name` = 'dave' LIMIT 1[0m
  ‚Ü≥ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/admin
Completed 302 Found in 398ms (ActiveRecord: 2.6ms | Allocations: 3400)


Started GET "/admin" for 127.0.0.1 at 2021-01-04 12:40:03 +0600
Processing by AdminController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/application_controller.rb:10:in `authorize'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  ‚Ü≥ app/controllers/admin_controller.rb:3:in `index'
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 134)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 16.4ms | ActiveRecord: 1.7ms | Allocations: 8392)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 12:40:03 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:40:03 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:41:03 +0600
ProductsChannel stopped streaming from products
Started DELETE "/logout" for 127.0.0.1 at 2021-01-04 12:41:03 +0600
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"flBvZJpgCJySUzWZF+rh0q+bAs70uFx8SnL2pnqHxRa3chAoDaAVnAlvTsDaoQCJyQKFhdKZzXU8Vd1O9B8WXQ=="}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 342)


Started GET "/" for 127.0.0.1 at 2021-01-04 12:41:03 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (1.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 9 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.0ms | Allocations: 1130)
Completed 200 OK in 26ms (Views: 18.0ms | ActiveRecord: 3.8ms | Allocations: 7974)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 12:41:03 +0600
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:41:03 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:42:09 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2021-01-04 12:42:09 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"MMORgpI2lG9hnHsINiimuh0uR3ffBW2Jgd/USxEab6j54e7OBfaJb/qgAFH7Y0fhe7fAPPkk/ID3+P+jn4K84w==", "product_id"=>"1"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (1.1ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 9, '2021-01-04 06:42:09.738723', '2021-01-04 06:42:09.738723')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (57.7ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 95ms (ActiveRecord: 62.2ms | Allocations: 9042)


Started GET "/" for 127.0.0.1 at 2021-01-04 12:42:09 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 9 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 7.5ms | Allocations: 1919)
  Rendered carts/_cart.html.erb (Duration: 11.8ms | Allocations: 3290)
Completed 200 OK in 42ms (Views: 34.5ms | ActiveRecord: 3.5ms | Allocations: 10015)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 12:42:09 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:42:09 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:42:11 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2021-01-04 12:42:11 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:90:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 267.1ms | Allocations: 2232)
  Rendered orders/new.html.erb within layouts/application (Duration: 269.0ms | Allocations: 2529)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 9 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.9ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 15.0ms | Allocations: 2108)
Completed 200 OK in 345ms (Views: 307.1ms | ActiveRecord: 3.4ms | Allocations: 14967)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 12:42:11 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:42:11 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:42:17 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2021-01-04 12:42:17 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"WQqi5hzbEztU9jYN/xBE5IUqkLUldb/p/XEtdskkY02QKN2qixsOO8/KTVQyW6W/47MX/gNULuCLVgaeR7ywBg==", "order"=>{"name"=>"eedef", "address"=>"wdd", "email"=>"asd@gmail.com", "pay_type"=>""}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/models/order.rb:20:in `add_line_items_from_cart'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.0ms | Allocations: 1233)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1294)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.5ms | Allocations: 935)
  Rendered carts/_cart.html.erb (Duration: 5.4ms | Allocations: 1338)
Completed 200 OK in 31ms (Views: 20.8ms | ActiveRecord: 1.5ms | Allocations: 10282)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 12:42:18 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:42:18 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:42:22 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2021-01-04 12:42:22 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"N7qoIipto46ynROYzdGu/Y+1eUqU8aizVmjUA56k2N/+mNduva2+jimhaMEAmk+m6Sz+AbLQObogT//rEDwLlA==", "order"=>{"name"=>"eedef", "address"=>"wdd", "email"=>"asd@gmail.com", "pay_type"=>"Purchase order"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/models/order.rb:20:in `add_line_items_from_cart'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('eedef', 'wdd', 'asd@gmail.com', 2, '2021-01-04 06:42:22.211402', '2021-01-04 06:42:22.211402')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mLineItem Update (45.9ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`order_id` = 7, `line_items`.`updated_at` = '2021-01-04 06:42:22.218398' WHERE `line_items`.`id` = 5[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[35m (147.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:36:in `block in create'
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 9 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 9[0m
  ‚Ü≥ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 5[0m
  ‚Ü≥ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[36mCart Destroy (68.1ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 9[0m
  ‚Ü≥ app/controllers/orders_controller.rb:37:in `block in create'
  [1m[35m (108.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:37:in `block in create'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: acfb04c5-8b14-4343-ac4e-a1f2a59a2bec) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f0700b352a0 @uri=#<URI::GID gid://depot/Order/7>>]}
Redirected to http://localhost:3000/
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 7 LIMIT 1[0m
Completed 302 Found in 650ms (ActiveRecord: 374.5ms | Allocations: 22873)


[ActiveJob] [ActionMailer::MailDeliveryJob] [acfb04c5-8b14-4343-ac4e-a1f2a59a2bec] Performing ActionMailer::MailDeliveryJob (Job ID: acfb04c5-8b14-4343-ac4e-a1f2a59a2bec) from Async(mailers) enqueued at 2021-01-04T06:42:22Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f0700af5c18 @uri=#<URI::GID gid://depot/Order/7>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [acfb04c5-8b14-4343-ac4e-a1f2a59a2bec]   Rendering order_mailer/received.html.erb within layouts/mailer
Started GET "/" for 127.0.0.1 at 2021-01-04 12:42:22 +0600
[ActiveJob] [ActionMailer::MailDeliveryJob] [acfb04c5-8b14-4343-ac4e-a1f2a59a2bec]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 13.5ms | Allocations: 958)
Processing by StoreController#index as HTML
  [1m[35m (2.5ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
[ActiveJob] [ActionMailer::MailDeliveryJob] [acfb04c5-8b14-4343-ac4e-a1f2a59a2bec]   Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[36mCart Create (2.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2021-01-04 06:42:22.876916', '2021-01-04 06:42:22.876916')[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [acfb04c5-8b14-4343-ac4e-a1f2a59a2bec]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 7[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
[ActiveJob] [ActionMailer::MailDeliveryJob] [acfb04c5-8b14-4343-ac4e-a1f2a59a2bec]   ‚Ü≥ app/views/order_mailer/received.text.erb:7
[ActiveJob] [ActionMailer::MailDeliveryJob] [acfb04c5-8b14-4343-ac4e-a1f2a59a2bec]   Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
[ActiveJob] [ActionMailer::MailDeliveryJob] [acfb04c5-8b14-4343-ac4e-a1f2a59a2bec]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 9.1ms | Allocations: 1928)
[ActiveJob] [ActionMailer::MailDeliveryJob] [acfb04c5-8b14-4343-ac4e-a1f2a59a2bec] OrderMailer#received: processed outbound mail in 107.1ms
  [1m[35m (106.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (2.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1149)
[Webpacker] Everything's up-to-date. Nothing to do
[ActiveJob] [ActionMailer::MailDeliveryJob] [acfb04c5-8b14-4343-ac4e-a1f2a59a2bec] Delivered mail 5ff2b8cef2b62_153c6a2c-3ea@nascenia-HP-ProBook-450-G0.mail (49.3ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [acfb04c5-8b14-4343-ac4e-a1f2a59a2bec] Date: Mon, 04 Jan 2021 12:42:22 +0600
From: Sam Ruby <depot@example.com>
To: asd@gmail.com
Message-ID: <5ff2b8cef2b62_153c6a2c-3ea@nascenia-HP-ProBook-450-G0.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5ff2b8ceea628_153c6a2c-489";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5ff2b8ceea628_153c6a2c-489
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear eedef

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:


We'll send you a separate e-mail when your order ships.


----==_mimepart_5ff2b8ceea628_153c6a2c-489
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5ff2b8ceea628_153c6a2c-489--

[ActiveJob] [ActionMailer::MailDeliveryJob] [acfb04c5-8b14-4343-ac4e-a1f2a59a2bec] Performed ActionMailer::MailDeliveryJob (Job ID: acfb04c5-8b14-4343-ac4e-a1f2a59a2bec) from Async(mailers) in 158.81ms
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 10 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 10[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.0ms | Allocations: 1127)
Completed 200 OK in 150ms (Views: 22.3ms | ActiveRecord: 113.1ms | Allocations: 18053)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 12:42:23 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:42:23 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:42:28 +0600
ProductsChannel stopped streaming from products
Started POST "/line_items?product_id=1" for 127.0.0.1 at 2021-01-04 12:42:28 +0600
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"zE/10yEyKUl3g5HJvuEsiOL0zqWEtVs/scXCFBZ+BrsFbYqftvI0Sey/6pBzqs3ThG1J7qKUyjbH4un8mObV8A==", "product_id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 10 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 10 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 10, '2021-01-04 06:42:28.577847', '2021-01-04 06:42:28.577847')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (98.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 121ms (ActiveRecord: 101.3ms | Allocations: 4761)


Started GET "/" for 127.0.0.1 at 2021-01-04 12:42:28 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 10 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (7.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 10 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 10[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.4ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 11.7ms | Allocations: 2113)
Completed 200 OK in 45ms (Views: 37.4ms | ActiveRecord: 3.6ms | Allocations: 8807)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 12:42:28 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:42:28 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:42:30 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2021-01-04 12:42:30 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 10 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 10 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:90:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.7ms | Allocations: 1055)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.9ms | Allocations: 1116)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 10 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 10[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.4ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 8.9ms | Allocations: 2107)
Completed 200 OK in 46ms (Views: 36.6ms | ActiveRecord: 2.4ms | Allocations: 9590)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 12:42:30 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:42:30 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:42:39 +0600
Started GET "/users" for 127.0.0.1 at 2021-01-04 12:42:39 +0600
ProductsChannel stopped streaming from products
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  ‚Ü≥ app/controllers/application_controller.rb:10:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.5ms | Allocations: 1020)


Started GET "/login" for 127.0.0.1 at 2021-01-04 12:42:39 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 320)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 16.3ms | ActiveRecord: 0.0ms | Allocations: 4654)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 12:42:39 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:42:39 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:42:44 +0600
ProductsChannel stopped streaming from products
Started POST "/login" for 127.0.0.1 at 2021-01-04 12:42:44 +0600
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"k5J5oUGN1E6ms8yUDWim5cTBsSi3Ufq8y29Kx5/b3xFasAbt1k3JTj2Pt83AI0e+olg2Y5Fwa7W9SGEvEUMMWg==", "name"=>"dave", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`name` = 'dave' LIMIT 1[0m
  ‚Ü≥ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/admin
Completed 302 Found in 370ms (ActiveRecord: 0.6ms | Allocations: 924)


Started GET "/admin" for 127.0.0.1 at 2021-01-04 12:42:45 +0600
Processing by AdminController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/application_controller.rb:10:in `authorize'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `orders`[0m
  ‚Ü≥ app/controllers/admin_controller.rb:3:in `index'
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 20)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 13.1ms | ActiveRecord: 0.8ms | Allocations: 5739)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 12:42:45 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 12:42:45 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2021-01-04 14:42:30 +0600
  [1m[35m (1.1ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 14:42:30 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 16:46:51 +0600
ProductsChannel stopped streaming from products
Started GET "/en" for 127.0.0.1 at 2021-01-04 17:04:07 +0600
  [1m[35m (36.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2021-01-04 11:04:09.107001', '2021-01-04 11:04:09.107001')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (142.7ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.5ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201231044712292829 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201231044712292829 (0.8ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201231044712503866 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201231044712503866 (0.6ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201231044712386727 (0.3ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201231044712386727 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 1516.8ms | Allocations: 19511)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 11 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 49.6ms | Allocations: 1522)
Completed 200 OK in 2806ms (Views: 2358.6ms | ActiveRecord: 215.9ms | Allocations: 39834)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 17:04:11 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 17:04:11 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 17:04:17 +0600
ProductsChannel stopped streaming from products
Started GET "/es" for 127.0.0.1 at 2021-01-04 17:04:17 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 940)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 11 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 1124)
Completed 200 OK in 26ms (Views: 20.4ms | ActiveRecord: 2.4ms | Allocations: 7990)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 17:04:17 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 17:04:17 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/rails/info/routes" for 127.0.0.1 at 2021-01-04 17:04:45 +0600
Processing by Rails::InfoController#routes as HTML
  Rendering /home/nascenia/.rvm/gems/ruby-2.7.2/gems/railties-6.0.3.4/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/nascenia/.rvm/gems/ruby-2.7.2/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/templates/routes/_route.html.erb [66 times] (Duration: 43.4ms | Allocations: 8820)
  Rendered /home/nascenia/.rvm/gems/ruby-2.7.2/gems/actionpack-6.0.3.4/lib/action_dispatch/middleware/templates/routes/_table.html.erb (Duration: 41.2ms | Allocations: 886)
  Rendered /home/nascenia/.rvm/gems/ruby-2.7.2/gems/railties-6.0.3.4/lib/rails/templates/rails/info/routes.html.erb within layouts/application (Duration: 104.6ms | Allocations: 15860)
Completed 200 OK in 130ms (Views: 108.3ms | ActiveRecord: 0.0ms | Allocations: 17220)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 17:16:21 +0600
ProductsChannel stopped streaming from products
Started GET "/es" for 127.0.0.1 at 2021-01-04 17:16:21 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
es translation not available
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1471)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 11 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.8ms | Allocations: 1529)
Completed 200 OK in 47ms (Views: 28.3ms | ActiveRecord: 2.2ms | Allocations: 15892)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 17:16:22 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 17:16:22 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2021-01-04 17:24:49 +0600
  [1m[35m (0.6ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.6ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201231044712292829 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/1-20201231044712292829 (0.8ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201231044712503866 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/3-20201231044712503866 (0.4ms)
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201231044712386727 (0.1ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/2-20201231044712386727 (0.2ms)
Write fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 61.8ms | Allocations: 20476)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 11 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.0ms | Allocations: 1519)
Completed 200 OK in 119ms (Views: 86.3ms | ActiveRecord: 6.9ms | Allocations: 38778)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 17:24:49 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 17:24:49 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for 127.0.0.1 at 2021-01-04 17:24:53 +0600
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 17:24:53 +0600
ProductsChannel stopped streaming from products
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:8833cdd581ed6c3e1c69e25cbf6a126e/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1122)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 11 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.8ms | Allocations: 1141)
Completed 200 OK in 36ms (Views: 29.2ms | ActiveRecord: 2.8ms | Allocations: 8788)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 17:24:53 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 17:24:53 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 17:28:24 +0600
ProductsChannel stopped streaming from products
Started GET "/es" for 127.0.0.1 at 2021-01-04 17:28:24 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.2ms)
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/1-20201231044712292829 (0.3ms)
Write fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/1-20201231044712292829 (0.4ms)
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/3-20201231044712503866 (0.1ms)
Write fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/3-20201231044712503866 (0.3ms)
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/2-20201231044712386727 (0.1ms)
Write fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/2-20201231044712386727 (0.4ms)
Write fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (0.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 35.8ms | Allocations: 8690)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 11 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.8ms | Allocations: 1517)
Completed 200 OK in 83ms (Views: 56.1ms | ActiveRecord: 7.1ms | Allocations: 25360)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 17:28:24 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 17:28:24 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 17:58:32 +0600
ProductsChannel stopped streaming from products
Started GET "/es" for 127.0.0.1 at 2021-01-04 17:58:32 +0600
  [1m[35m (0.3ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (6.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 1518)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 11 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.1ms | Allocations: 1638)
Completed 200 OK in 64ms (Views: 34.0ms | ActiveRecord: 3.1ms | Allocations: 18024)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 17:58:32 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 17:58:32 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/es/line_items?product_id=1" for 127.0.0.1 at 2021-01-04 17:58:54 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"4keWSHkN3yK3U5hj78PbflXeipbIivR0L9juCRqh7penlJ9455yhUZXNLL2vDkiiBScnjg6VsUfkYrVkMJL9/Q==", "product_id"=>"1", "locale"=>"es"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 11, '2021-01-04 11:58:54.095962', '2021-01-04 11:58:54.095962')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (48.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.0ms | Allocations: 1974)
  Rendered carts/_cart.html.erb (Duration: 12.8ms | Allocations: 3490)
  Rendered line_items/create.js.erb (Duration: 34.7ms | Allocations: 3896)
Completed 200 OK in 129ms (Views: 37.7ms | ActiveRecord: 53.1ms | Allocations: 17631)


Started POST "/es/line_items?product_id=1" for 127.0.0.1 at 2021-01-04 17:58:57 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"4keWSHkN3yK3U5hj78PbflXeipbIivR0L9juCRqh7penlJ9455yhUZXNLL2vDkiiBScnjg6VsUfkYrVkMJL9/Q==", "product_id"=>"1", "locale"=>"es"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 2, `line_items`.`updated_at` = '2021-01-04 11:58:57.590641' WHERE `line_items`.`id` = 7[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (41.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.6ms | Allocations: 947)
  Rendered carts/_cart.html.erb (Duration: 8.5ms | Allocations: 2220)
  Rendered line_items/create.js.erb (Duration: 9.4ms | Allocations: 2377)
Completed 200 OK in 70ms (Views: 9.4ms | ActiveRecord: 44.7ms | Allocations: 7360)


Started POST "/es/line_items?product_id=1" for 127.0.0.1 at 2021-01-04 17:58:59 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"4keWSHkN3yK3U5hj78PbflXeipbIivR0L9juCRqh7penlJ9455yhUZXNLL2vDkiiBScnjg6VsUfkYrVkMJL9/Q==", "product_id"=>"1", "locale"=>"es"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 3, `line_items`.`updated_at` = '2021-01-04 11:58:59.840531' WHERE `line_items`.`id` = 7[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (49.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.5ms | Allocations: 947)
  Rendered carts/_cart.html.erb (Duration: 8.0ms | Allocations: 2220)
  Rendered line_items/create.js.erb (Duration: 8.7ms | Allocations: 2377)
Completed 200 OK in 76ms (Views: 8.2ms | ActiveRecord: 53.3ms | Allocations: 7306)


Started POST "/es/line_items?product_id=1" for 127.0.0.1 at 2021-01-04 17:59:01 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"4keWSHkN3yK3U5hj78PbflXeipbIivR0L9juCRqh7penlJ9455yhUZXNLL2vDkiiBScnjg6VsUfkYrVkMJL9/Q==", "product_id"=>"1", "locale"=>"es"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 4, `line_items`.`updated_at` = '2021-01-04 11:59:01.177957' WHERE `line_items`.`id` = 7[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (46.3ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.4ms | Allocations: 947)
  Rendered carts/_cart.html.erb (Duration: 5.7ms | Allocations: 2220)
  Rendered line_items/create.js.erb (Duration: 6.1ms | Allocations: 2377)
Completed 200 OK in 66ms (Views: 5.7ms | ActiveRecord: 49.6ms | Allocations: 7313)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 17:59:02 +0600
ProductsChannel stopped streaming from products
Started GET "/es" for 127.0.0.1 at 2021-01-04 17:59:02 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.5ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 969)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 11 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:22
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.3ms | Allocations: 945)
  Rendered carts/_cart.html.erb (Duration: 10.2ms | Allocations: 2340)
Completed 200 OK in 33ms (Views: 25.5ms | ActiveRecord: 4.7ms | Allocations: 9181)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 17:59:02 +0600
  [1m[35m (5.0ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 17:59:02 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for 127.0.0.1 at 2021-01-04 18:46:03 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (2.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 3407)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 11 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 27.9ms | Allocations: 5020)
  Rendered carts/_cart.html.erb (Duration: 50.2ms | Allocations: 10605)
Completed 200 OK in 4277ms (Views: 4258.7ms | ActiveRecord: 2.8ms | Allocations: 45492)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:46:08 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:08 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:46:11 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:11 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:12 +0600
ProductsChannel stopped streaming from products
Started GET "/es/orders/new" for 127.0.0.1 at 2021-01-04 18:46:12 +0600
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 94.7ms | Allocations: 1738)
  Rendered orders/new.html.erb within layouts/application (Duration: 95.7ms | Allocations: 2037)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 11 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.8ms | Allocations: 945)
  Rendered carts/_cart.html.erb (Duration: 9.2ms | Allocations: 2213)
Completed 200 OK in 201ms (Views: 121.0ms | ActiveRecord: 3.7ms | Allocations: 16231)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:46:12 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:12 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:27 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2021-01-04 18:46:27 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"/T5XlSupaxJg6C1fIx0rD7Exqn/gtUqAitniQwUUlRm47V6ltTgVYUJ2mYFj0LjT4cgHZyaqD7NBY7kuLyeGcw==", "order"=>{"name"=>"ss", "address"=>"s", "email"=>"aa@gmail.com", "pay_type"=>"Credit card"}, "commit"=>"Realizar Pedido"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/models/order.rb:20:in `add_line_items_from_cart'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (1.7ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('ss', 's', 'aa@gmail.com', 1, '2021-01-04 12:46:27.205021', '2021-01-04 12:46:27.205021')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Update (154.9ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`order_id` = 8, `line_items`.`updated_at` = '2021-01-04 12:46:27.213499' WHERE `line_items`.`id` = 7[0m
  ‚Ü≥ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (105.1ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 11 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 11[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Destroy (0.7ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 7[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (36.8ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 11[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (115.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: ba248d37-c280-4810-a357-41fc20720f6c) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f3de48ef9d0 @uri=#<URI::GID gid://depot/Order/8>>]}
Redirected to http://localhost:3000/es
Completed 302 Found in 612ms (ActiveRecord: 418.6ms | Allocations: 23944)


  [1m[35m (0.8ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 8 LIMIT 1[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [ba248d37-c280-4810-a357-41fc20720f6c] Performing ActionMailer::MailDeliveryJob (Job ID: ba248d37-c280-4810-a357-41fc20720f6c) from Async(mailers) enqueued at 2021-01-04T12:46:27Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f3de486d4d0 @uri=#<URI::GID gid://depot/Order/8>>]}
Started GET "/es" for 127.0.0.1 at 2021-01-04 18:46:27 +0600
[ActiveJob] [ActionMailer::MailDeliveryJob] [ba248d37-c280-4810-a357-41fc20720f6c]   Rendering order_mailer/received.html.erb within layouts/mailer
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
[ActiveJob] [ActionMailer::MailDeliveryJob] [ba248d37-c280-4810-a357-41fc20720f6c]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 4.7ms | Allocations: 1840)
  [1m[36mCart Create (1.0ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2021-01-04 12:46:27.826732', '2021-01-04 12:46:27.826732')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
[ActiveJob] [ActionMailer::MailDeliveryJob] [ba248d37-c280-4810-a357-41fc20720f6c]   Rendering order_mailer/received.text.erb within layouts/mailer
  [1m[35m (135.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (2.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 970)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 1207)
Completed 200 OK in 170ms (Views: 21.4ms | ActiveRecord: 138.4ms | Allocations: 11470)


[ActiveJob] [ActionMailer::MailDeliveryJob] [ba248d37-c280-4810-a357-41fc20720f6c]   [1m[36mLineItem Load (184.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 8[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [ba248d37-c280-4810-a357-41fc20720f6c]   ‚Ü≥ app/views/order_mailer/received.text.erb:7
[ActiveJob] [ActionMailer::MailDeliveryJob] [ba248d37-c280-4810-a357-41fc20720f6c]   Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
[ActiveJob] [ActionMailer::MailDeliveryJob] [ba248d37-c280-4810-a357-41fc20720f6c]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 187.4ms | Allocations: 9557)
[ActiveJob] [ActionMailer::MailDeliveryJob] [ba248d37-c280-4810-a357-41fc20720f6c] OrderMailer#received: processed outbound mail in 215.6ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [ba248d37-c280-4810-a357-41fc20720f6c] Delivered mail 5ff30e2496e4_33bff62c-3e5@nascenia-HP-ProBook-450-G0.mail (10.8ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [ba248d37-c280-4810-a357-41fc20720f6c] Date: Mon, 04 Jan 2021 18:46:28 +0600
From: Sam Ruby <depot@example.com>
To: aa@gmail.com
Message-ID: <5ff30e2496e4_33bff62c-3e5@nascenia-HP-ProBook-450-G0.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5ff30e2472da_33bff62c-437";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5ff30e2472da_33bff62c-437
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear ss

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:


We'll send you a separate e-mail when your order ships.


----==_mimepart_5ff30e2472da_33bff62c-437
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5ff30e2472da_33bff62c-437--

[ActiveJob] [ActionMailer::MailDeliveryJob] [ba248d37-c280-4810-a357-41fc20720f6c] Performed ActionMailer::MailDeliveryJob (Job ID: ba248d37-c280-4810-a357-41fc20720f6c) from Async(mailers) in 228.74ms
Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:46:28 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:28 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:34 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 18:46:34 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"NK9iyCQgSDSQN3mm5BA14obKslWMYl3h2zDL7B9CWAlxfGv4urE2R7KpzXik3aY+1jMfTUp9GNIQipCBNXFLYw==", "set_locale"=>"en"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/en
Completed 302 Found in 5ms (ActiveRecord: 0.6ms | Allocations: 921)


Started GET "/en" for 127.0.0.1 at 2021-01-04 18:46:34 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1147)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 1195)
Completed 200 OK in 29ms (Views: 22.4ms | ActiveRecord: 2.0ms | Allocations: 9096)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:46:34 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:34 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:38 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 18:46:38 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"ybtfIt/LK6XxHAdQ1OehB5oYUC0AEv5vTF9C7ku23y+MaFYSQVpV1tOCs46UKjLbyuH9NcYNu1yH5RmDYYXMRQ==", "set_locale"=>"en", "commit"=>"submit"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/en
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 928)


Started GET "/en" for 127.0.0.1 at 2021-01-04 18:46:38 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.7ms | Allocations: 1192)
Completed 200 OK in 32ms (Views: 25.5ms | ActiveRecord: 3.1ms | Allocations: 8270)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:46:38 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:38 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:43 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 18:46:43 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"Jjc/phwm1F3Vto0hbWZFCr3G/NJpxh+eB5sY0umm3Opj5DaWgreqLvcoOf8tq9bW7T9Ryq/ZWq3MIUO/w5XPgA==", "set_locale"=>"es"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/es
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 915)


Started GET "/es" for 127.0.0.1 at 2021-01-04 18:46:43 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 1204)
Completed 200 OK in 25ms (Views: 19.6ms | ActiveRecord: 2.3ms | Allocations: 8283)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:46:43 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:43 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:47 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 18:46:47 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"Zx8K8TlCNj6iSOfc3TJTxFNCFtpgEoa3jZGDDuyyVJ4izAPBp9NITYDWUwKd/8AYA7u7wqYNw4RGK9hjxoFH9A==", "set_locale"=>"en"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/en
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 921)


Started GET "/en" for 127.0.0.1 at 2021-01-04 18:46:47 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (2.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 1192)
Completed 200 OK in 25ms (Views: 20.9ms | ActiveRecord: 1.8ms | Allocations: 8264)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:46:47 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:47 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:52 +0600
ProductsChannel stopped streaming from products
Started GET "/en" for 127.0.0.1 at 2021-01-04 18:46:52 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 1192)
Completed 200 OK in 28ms (Views: 21.8ms | ActiveRecord: 3.0ms | Allocations: 8272)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:46:52 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:52 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:53 +0600
ProductsChannel stopped streaming from products
Started GET "/en" for 127.0.0.1 at 2021-01-04 18:46:53 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.1ms | Allocations: 1192)
Completed 200 OK in 30ms (Views: 24.5ms | ActiveRecord: 2.8ms | Allocations: 8284)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:46:53 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:53 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:54 +0600
ProductsChannel stopped streaming from products
Started GET "/en" for 127.0.0.1 at 2021-01-04 18:46:54 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (2.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.5ms | Allocations: 1192)
Completed 200 OK in 33ms (Views: 25.7ms | ActiveRecord: 2.4ms | Allocations: 8280)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:46:55 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:55 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:57 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 18:46:57 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"mWXm6efwucrjVRTzNFACHHgLm4FN538bqPXfKlgOWhjctu/ZeWHHucHLoC10nZHAKPI2mYv4OihjT4RHcj1Jcg==", "set_locale"=>"es"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/es
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 917)


Started GET "/es" for 127.0.0.1 at 2021-01-04 18:46:57 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.1ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.9ms | Allocations: 1204)
Completed 200 OK in 30ms (Views: 24.8ms | ActiveRecord: 1.9ms | Allocations: 8267)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:46:57 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:46:57 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:02 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 18:47:02 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"ZbGtSIawz+FLJumxBjf6jT+kVyudA+l6CR+MxWKjFqggYqR4GCGxkmm4XW9G+mlRb136M1scrEnCpdeoSJAFwg==", "set_locale"=>"en"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/en
Completed 302 Found in 6ms (ActiveRecord: 0.6ms | Allocations: 925)


Started GET "/en" for 127.0.0.1 at 2021-01-04 18:47:02 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.4ms | Allocations: 1192)
Completed 200 OK in 33ms (Views: 26.1ms | ActiveRecord: 3.6ms | Allocations: 8266)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:47:03 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:03 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:06 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 18:47:06 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"cR7boAx1+6YiZF1MC/CdM6oIuoH5TLBKJKSNTwHDRSg0zdKQkuSF1QD66ZJLPQ7v+vEXmT9T9XnvHtYiK/BWQg==", "set_locale"=>"es"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/es
Completed 302 Found in 5ms (ActiveRecord: 0.7ms | Allocations: 919)


Started GET "/es" for 127.0.0.1 at 2021-01-04 18:47:06 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (6.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 991)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.2ms | Allocations: 1204)
Completed 200 OK in 51ms (Views: 43.9ms | ActiveRecord: 3.3ms | Allocations: 8511)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:47:06 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:06 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:08 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 18:47:08 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"a8SR2aurmTE303/NlRFakGQf6UC5X3Y/UBFnmsulLEkuF5jpNTrnQhVNyxPV3MlMNOZEWH9AMwybqzz34ZY/Iw==", "set_locale"=>"en"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/en
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 935)


Started GET "/en" for 127.0.0.1 at 2021-01-04 18:47:08 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.5ms | Allocations: 1192)
Completed 200 OK in 33ms (Views: 27.6ms | ActiveRecord: 2.4ms | Allocations: 8272)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:47:09 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:09 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:47:24 +0600
  [1m[35m (0.7ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:24 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:47:24 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:24 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:26 +0600
ProductsChannel stopped streaming from products
Started GET "/en" for 127.0.0.1 at 2021-01-04 18:47:26 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.9ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/1-20201231044712292829 (0.3ms)
Write fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/1-20201231044712292829 (0.6ms)
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/3-20201231044712503866 (0.2ms)
Write fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/3-20201231044712503866 (0.5ms)
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/2-20201231044712386727 (0.3ms)
Write fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/2-20201231044712386727 (0.7ms)
Write fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (0.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 341.8ms | Allocations: 28896)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 8.1ms | Allocations: 1625)
Completed 200 OK in 432ms (Views: 382.2ms | ActiveRecord: 9.7ms | Allocations: 49067)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:47:26 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:26 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:30 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 18:47:30 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"0h8w8zLamoa3Xl5Y56c91xgW6HpYriHDP5M1L6HFEG2XzDnDrEvk9ZXA6oanaq4LSO9FYp6xZPD0KW5Ci/YDBw==", "set_locale"=>"es"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/es
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 937)


Started GET "/es" for 127.0.0.1 at 2021-01-04 18:47:30 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 1156)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 1205)
Completed 200 OK in 29ms (Views: 23.3ms | ActiveRecord: 2.6ms | Allocations: 9114)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:47:30 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:30 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:32 +0600
ProductsChannel stopped streaming from products
Started GET "/es" for 127.0.0.1 at 2021-01-04 18:47:32 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 968)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.7ms | Allocations: 1204)
Completed 200 OK in 30ms (Views: 24.6ms | ActiveRecord: 2.2ms | Allocations: 8281)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:47:33 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:33 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:34 +0600
ProductsChannel stopped streaming from products
Started GET "/es" for 127.0.0.1 at 2021-01-04 18:47:34 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (17.0ms)
  Rendered store/index.html.erb within layouts/application (Duration: 17.9ms | Allocations: 968)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.3ms | Allocations: 1207)
Completed 200 OK in 45ms (Views: 38.5ms | ActiveRecord: 2.5ms | Allocations: 8310)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:47:34 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:34 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:36 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 18:47:36 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"KQlpETGcsk8CXl4GZy6OS+A1DUUspa217IRakmdLoL5s2mAhrw3MPCDA6tgn4x2XsMygXeq66IYnPgH/TXiz1A==", "set_locale"=>"en"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/en
Completed 302 Found in 5ms (ActiveRecord: 0.7ms | Allocations: 925)


Started GET "/en" for 127.0.0.1 at 2021-01-04 18:47:36 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.6ms | Allocations: 1192)
Completed 200 OK in 32ms (Views: 26.1ms | ActiveRecord: 2.8ms | Allocations: 8269)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:47:36 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:36 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:38 +0600
ProductsChannel stopped streaming from products
Started GET "/en" for 127.0.0.1 at 2021-01-04 18:47:38 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.2ms | Allocations: 1192)
Completed 200 OK in 29ms (Views: 24.1ms | ActiveRecord: 2.1ms | Allocations: 8247)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:47:38 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:38 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:39 +0600
ProductsChannel stopped streaming from products
Started GET "/en" for 127.0.0.1 at 2021-01-04 18:47:39 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.3ms | Allocations: 1195)
Completed 200 OK in 31ms (Views: 26.3ms | ActiveRecord: 2.4ms | Allocations: 8251)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:47:40 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:40 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:42 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 18:47:42 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"Mz6Mp7wL0KoAtCVOLUhQ+/KvKBrCVbHIvwGkQY3+4TV27YWXIpqu2SIqkZBthcMnolaFAgRK9Pt0u/8sp83yXw==", "set_locale"=>"en", "commit"=>"submit"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/en
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 933)


Started GET "/en" for 127.0.0.1 at 2021-01-04 18:47:42 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (7.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 968)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.2ms | Allocations: 1192)
Completed 200 OK in 35ms (Views: 27.9ms | ActiveRecord: 3.6ms | Allocations: 8278)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:47:42 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:42 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:46 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 18:47:46 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"lsW63mReLc1HtR/BF3BOSjhXcqPBkhfr7fWjeNtVfd7TFrPu+s9TvmUrqx9Xvd2WaK7fuweNUtgmT/gV8WZutA==", "set_locale"=>"es"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/es
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 931)


Started GET "/es" for 127.0.0.1 at 2021-01-04 18:47:46 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (2.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.4ms | Allocations: 1204)
Completed 200 OK in 27ms (Views: 22.2ms | ActiveRecord: 2.3ms | Allocations: 8273)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:47:46 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:46 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:52 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 18:47:52 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"cZLbPJWcQ7qPg6I/CmipGpsEWlJWLW29PiEAlnMr9vI0QdIMCw09ya0dFuFKpTrGy/33SpAyKI71m1v7WRjlmA==", "set_locale"=>"en"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/en
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 919)


Started GET "/en" for 127.0.0.1 at 2021-01-04 18:47:52 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (2.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 1192)
Completed 200 OK in 23ms (Views: 18.6ms | ActiveRecord: 1.9ms | Allocations: 8262)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:47:52 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:52 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:56 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 18:47:56 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"/QWUNS5LEkQTSz2jzUNBhqEAnhGS7jnaolRQXcJcS/a41p0FsNpsNzHViX2NjtJa8fkzCVTxfOlp7gsw6G9YnA==", "set_locale"=>"es"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/es
Completed 302 Found in 5ms (ActiveRecord: 0.6ms | Allocations: 927)


Started GET "/es" for 127.0.0.1 at 2021-01-04 18:47:56 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (2.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.3ms | Allocations: 1207)
Completed 200 OK in 26ms (Views: 19.9ms | ActiveRecord: 2.3ms | Allocations: 8285)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:47:56 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:47:56 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/en/line_items?product_id=1" for 127.0.0.1 at 2021-01-04 18:47:59 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"VUwJTO3+KXuccZZVEOJkRdXheDEC60LhRzqM0Ff25IsQnwB8c29XCL7vIotQL/eZhRjVKcT0B9KMgNe9fcX34Q==", "product_id"=>"1", "locale"=>"en"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (1.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 12, '2021-01-04 12:47:59.093966', '2021-01-04 12:47:59.093966')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (149.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 10.0ms | Allocations: 1960)
  Rendered carts/_cart.html.erb (Duration: 20.4ms | Allocations: 3462)
  Rendered line_items/create.js.erb (Duration: 22.8ms | Allocations: 3869)
Completed 200 OK in 220ms (Views: 26.4ms | ActiveRecord: 155.2ms | Allocations: 14431)


Started POST "/en/line_items?product_id=1" for 127.0.0.1 at 2021-01-04 18:48:02 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"VUwJTO3+KXuccZZVEOJkRdXheDEC60LhRzqM0Ff25IsQnwB8c29XCL7vIotQL/eZhRjVKcT0B9KMgNe9fcX34Q==", "product_id"=>"1", "locale"=>"en"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`quantity` = 2, `line_items`.`updated_at` = '2021-01-04 12:48:02.607825' WHERE `line_items`.`id` = 8[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (40.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.4ms | Allocations: 935)
  Rendered carts/_cart.html.erb (Duration: 8.3ms | Allocations: 2196)
  Rendered line_items/create.js.erb (Duration: 9.0ms | Allocations: 2352)
Completed 200 OK in 71ms (Views: 9.1ms | ActiveRecord: 44.6ms | Allocations: 7324)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:48:04 +0600
ProductsChannel stopped streaming from products
Started GET "/es" for 127.0.0.1 at 2021-01-04 18:48:04 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 968)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 12 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.3ms | Allocations: 945)
  Rendered carts/_cart.html.erb (Duration: 8.2ms | Allocations: 2327)
Completed 200 OK in 31ms (Views: 24.4ms | ActiveRecord: 3.8ms | Allocations: 9411)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:48:04 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:48:04 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:48:09 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/12" for 127.0.0.1 at 2021-01-04 18:48:09 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"vYy8HNv/JnE8Pk1LbvSRM28ibD/tqj+O6JmGJsUcaLH4X7UsRW5YAh6g+ZUuOQLvP9vBJyu1er0jI91L7y972w==", "id"=>"12"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 12 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:58:in `destroy'
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 12[0m
  ‚Ü≥ app/controllers/carts_controller.rb:58:in `destroy'
  [1m[36mLineItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 8[0m
  ‚Ü≥ app/controllers/carts_controller.rb:58:in `destroy'
  [1m[36mCart Destroy (0.5ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 12[0m
  ‚Ü≥ app/controllers/carts_controller.rb:58:in `destroy'
  [1m[35m (46.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:58:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 66ms (ActiveRecord: 49.8ms | Allocations: 5144)


Started GET "/" for 127.0.0.1 at 2021-01-04 18:48:10 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2021-01-04 12:48:10.007311', '2021-01-04 12:48:10.007311')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (111.1ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (2.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 13 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 13[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 1192)
Completed 200 OK in 142ms (Views: 20.2ms | ActiveRecord: 113.8ms | Allocations: 10389)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:48:10 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:48:10 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/en/line_items?product_id=1" for 127.0.0.1 at 2021-01-04 18:48:11 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"fY1PK9E2AGs7+AcDyloaiOapML4izC9DCXP0Qh3LrHE4XkYbT6d+GBlms92Kl4lUtlCdpuTTanDCya8vN/i/Gw==", "product_id"=>"1", "locale"=>"en"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 13 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 13 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (15.9ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 13, '2021-01-04 12:48:11.858415', '2021-01-04 12:48:11.858415')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (238.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 13[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.6ms | Allocations: 932)
  Rendered carts/_cart.html.erb (Duration: 10.8ms | Allocations: 2240)
  Rendered line_items/create.js.erb (Duration: 11.6ms | Allocations: 2396)
Completed 200 OK in 324ms (Views: 11.6ms | ActiveRecord: 257.8ms | Allocations: 7345)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:48:14 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2021-01-04 18:48:14 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 13 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 13 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 13[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.1ms | Allocations: 945)
  Rendered carts/_cart.html.erb (Duration: 9.0ms | Allocations: 2209)
Completed 200 OK in 29ms (Views: 23.5ms | ActiveRecord: 3.2ms | Allocations: 9259)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:48:14 +0600
  [1m[35m (0.9ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:48:14 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:48:15 +0600
ProductsChannel stopped streaming from products
Started GET "/es/orders/new" for 127.0.0.1 at 2021-01-04 18:48:15 +0600
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (1.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 13 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 13 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.0ms | Allocations: 1738)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 2037)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 13 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 13[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.7ms | Allocations: 945)
  Rendered carts/_cart.html.erb (Duration: 9.1ms | Allocations: 2213)
Completed 200 OK in 53ms (Views: 25.7ms | ActiveRecord: 5.5ms | Allocations: 16667)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:48:15 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:48:15 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:48:22 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2021-01-04 18:48:22 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"kXhEEO2nX5xGmsGZ2nszUoJzJS8edeKGsxsV/8MheRrUq00gczYh72QEdUeatqCO0oqIN9hqp7V4oU6S6RJqcA==", "order"=>{"name"=>"x", "address"=>"x", "email"=>"as@gmail.com", "pay_type"=>"Check"}, "commit"=>"Realizar Pedido"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 13 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (1.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 13[0m
  ‚Ü≥ app/models/order.rb:20:in `add_line_items_from_cart'
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('x', 'x', 'as@gmail.com', 0, '2021-01-04 12:48:22.793053', '2021-01-04 12:48:22.793053')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Update (0.8ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`order_id` = 9, `line_items`.`updated_at` = '2021-01-04 12:48:22.799761' WHERE `line_items`.`id` = 9[0m
  ‚Ü≥ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (75.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 13 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 13[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 9[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (168.0ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 13[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (54.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: 681f7b9a-0131-4bc3-9543-292158400c53) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f79e4091d10 @uri=#<URI::GID gid://depot/Order/9>>]}
Redirected to http://localhost:3000/en
Completed 302 Found in 369ms (ActiveRecord: 303.0ms | Allocations: 23684)


  [1m[36mOrder Load (1.6ms)[0m  [1m[34mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 9 LIMIT 1[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [681f7b9a-0131-4bc3-9543-292158400c53] Performing ActionMailer::MailDeliveryJob (Job ID: 681f7b9a-0131-4bc3-9543-292158400c53) from Async(mailers) enqueued at 2021-01-04T12:48:23Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f79e403e4f8 @uri=#<URI::GID gid://depot/Order/9>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [681f7b9a-0131-4bc3-9543-292158400c53]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [681f7b9a-0131-4bc3-9543-292158400c53]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 0.7ms | Allocations: 99)
[ActiveJob] [ActionMailer::MailDeliveryJob] [681f7b9a-0131-4bc3-9543-292158400c53]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [681f7b9a-0131-4bc3-9543-292158400c53]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 9[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [681f7b9a-0131-4bc3-9543-292158400c53]   ‚Ü≥ app/views/order_mailer/received.text.erb:7
[ActiveJob] [ActionMailer::MailDeliveryJob] [681f7b9a-0131-4bc3-9543-292158400c53]   Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
[ActiveJob] [ActionMailer::MailDeliveryJob] [681f7b9a-0131-4bc3-9543-292158400c53]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 4.0ms | Allocations: 1200)
[ActiveJob] [ActionMailer::MailDeliveryJob] [681f7b9a-0131-4bc3-9543-292158400c53] OrderMailer#received: processed outbound mail in 14.6ms
Started GET "/en" for 127.0.0.1 at 2021-01-04 18:48:23 +0600
[ActiveJob] [ActionMailer::MailDeliveryJob] [681f7b9a-0131-4bc3-9543-292158400c53] Delivered mail 5ff30e972a6fc_3bba6ec8-398@nascenia-HP-ProBook-450-G0.mail (6.5ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [681f7b9a-0131-4bc3-9543-292158400c53] Date: Mon, 04 Jan 2021 18:48:23 +0600
From: Sam Ruby <depot@example.com>
To: as@gmail.com
Message-ID: <5ff30e972a6fc_3bba6ec8-398@nascenia-HP-ProBook-450-G0.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5ff30e9728e7e_3bba6ec8-4c6";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5ff30e9728e7e_3bba6ec8-4c6
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear x

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:


We'll send you a separate e-mail when your order ships.


----==_mimepart_5ff30e9728e7e_3bba6ec8-4c6
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5ff30e9728e7e_3bba6ec8-4c6--

[ActiveJob] [ActionMailer::MailDeliveryJob] [681f7b9a-0131-4bc3-9543-292158400c53] Performed ActionMailer::MailDeliveryJob (Job ID: 681f7b9a-0131-4bc3-9543-292158400c53) from Async(mailers) in 22.55ms
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (1.1ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2021-01-04 12:48:23.183847', '2021-01-04 12:48:23.183847')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (101.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 970)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 14 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (2.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 14[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 8.7ms | Allocations: 1195)
Completed 200 OK in 146ms (Views: 28.8ms | ActiveRecord: 107.0ms | Allocations: 10333)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:48:23 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:48:23 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:48:34 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 18:48:34 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"RSZo8PiSa/nEU1erExkPGNSneaF9sAN6/6Uv/bb1iMEA9WHAZgMViubN43VT1JzEhF7UubuvRkk0H3SQnMabqw==", "set_locale"=>"es"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 14 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/es
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 929)


Started GET "/es" for 127.0.0.1 at 2021-01-04 18:48:34 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 14 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 14 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 14[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 1204)
Completed 200 OK in 25ms (Views: 19.9ms | ActiveRecord: 2.1ms | Allocations: 8335)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:48:34 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:48:34 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/en/line_items?product_id=1" for 127.0.0.1 at 2021-01-04 18:48:36 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"XtCvaM3AN+b+mOf4iTRRurEq0Jv6/1+pmQNf08+j52kbA6ZYU1FJldwGUybJ+cJm4dN9gzzgGppSuQS+5ZD0Aw==", "product_id"=>"1", "locale"=>"en"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 14 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 14 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 14, '2021-01-04 12:48:36.659676', '2021-01-04 12:48:36.659676')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (112.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 14[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.3ms | Allocations: 932)
  Rendered carts/_cart.html.erb (Duration: 10.6ms | Allocations: 2249)
  Rendered line_items/create.js.erb (Duration: 11.4ms | Allocations: 2405)
Completed 200 OK in 145ms (Views: 11.3ms | ActiveRecord: 116.7ms | Allocations: 7602)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:48:39 +0600
ProductsChannel stopped streaming from products
Started GET "/es" for 127.0.0.1 at 2021-01-04 18:48:39 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 14 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 14 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 14[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.2ms | Allocations: 945)
  Rendered carts/_cart.html.erb (Duration: 9.3ms | Allocations: 2209)
Completed 200 OK in 37ms (Views: 30.6ms | ActiveRecord: 2.8ms | Allocations: 9303)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:48:39 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:48:39 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:48:43 +0600
ProductsChannel stopped streaming from products
Started GET "/es/orders/new" for 127.0.0.1 at 2021-01-04 18:48:43 +0600
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 14 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 14 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.6ms | Allocations: 742)
  Rendered orders/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 803)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 14 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 14[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.7ms | Allocations: 945)
  Rendered carts/_cart.html.erb (Duration: 10.2ms | Allocations: 2212)
Completed 200 OK in 38ms (Views: 29.8ms | ActiveRecord: 2.3ms | Allocations: 9706)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:48:43 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:48:43 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:48:59 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2021-01-04 18:48:59 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"UjE56aTN0sUf8nug66qWHnsvQlGc4D+oTQ1N2+8zh28X4jDZOlystj1sz36rZwXCK9bvSVr/epuGtxa2xQCUBQ==", "order"=>{"name"=>"d", "address"=>"d", "email"=>"asswsws@gmail.com", "pay_type"=>"Check"}, "commit"=>"Realizar Pedido"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 14 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 14[0m
  ‚Ü≥ app/models/order.rb:20:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (1.6ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('d', 'd', 'asswsws@gmail.com', 0, '2021-01-04 12:48:59.997367', '2021-01-04 12:48:59.997367')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Update (1.5ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`order_id` = 10, `line_items`.`updated_at` = '2021-01-04 12:49:00.003876' WHERE `line_items`.`id` = 10[0m
  ‚Ü≥ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (156.8ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 14 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 14[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 10[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (40.4ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 14[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (54.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: ff1c06fb-0252-4357-b238-054dcb7c2b3c) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f79e40f8c68 @uri=#<URI::GID gid://depot/Order/10>>]}
Redirected to http://localhost:3000/en
Completed 302 Found in 294ms (ActiveRecord: 257.9ms | Allocations: 10838)


  [1m[36mOrder Load (2.6ms)[0m  [1m[34mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 10 LIMIT 1[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [ff1c06fb-0252-4357-b238-054dcb7c2b3c] Performing ActionMailer::MailDeliveryJob (Job ID: ff1c06fb-0252-4357-b238-054dcb7c2b3c) from Async(mailers) enqueued at 2021-01-04T12:49:00Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f79e40aeb68 @uri=#<URI::GID gid://depot/Order/10>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [ff1c06fb-0252-4357-b238-054dcb7c2b3c]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [ff1c06fb-0252-4357-b238-054dcb7c2b3c]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 0.1ms | Allocations: 4)
[ActiveJob] [ActionMailer::MailDeliveryJob] [ff1c06fb-0252-4357-b238-054dcb7c2b3c]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [ff1c06fb-0252-4357-b238-054dcb7c2b3c]   [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 10[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [ff1c06fb-0252-4357-b238-054dcb7c2b3c]   ‚Ü≥ app/views/order_mailer/received.text.erb:7
Started GET "/en" for 127.0.0.1 at 2021-01-04 18:49:00 +0600
[ActiveJob] [ActionMailer::MailDeliveryJob] [ff1c06fb-0252-4357-b238-054dcb7c2b3c]   Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
[ActiveJob] [ActionMailer::MailDeliveryJob] [ff1c06fb-0252-4357-b238-054dcb7c2b3c]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 5.6ms | Allocations: 1442)
[ActiveJob] [ActionMailer::MailDeliveryJob] [ff1c06fb-0252-4357-b238-054dcb7c2b3c] OrderMailer#received: processed outbound mail in 12.7ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [ff1c06fb-0252-4357-b238-054dcb7c2b3c] Delivered mail 5ff30ebc4ab89_3bba6ec8-1c9@nascenia-HP-ProBook-450-G0.mail (3.5ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [ff1c06fb-0252-4357-b238-054dcb7c2b3c] Date: Mon, 04 Jan 2021 18:49:00 +0600
From: Sam Ruby <depot@example.com>
To: asswsws@gmail.com
Message-ID: <5ff30ebc4ab89_3bba6ec8-1c9@nascenia-HP-ProBook-450-G0.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5ff30ebc498a1_3bba6ec8-227";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5ff30ebc498a1_3bba6ec8-227
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear d

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:


We'll send you a separate e-mail when your order ships.


----==_mimepart_5ff30ebc498a1_3bba6ec8-227
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5ff30ebc498a1_3bba6ec8-227--

Processing by StoreController#index as HTML
[ActiveJob] [ActionMailer::MailDeliveryJob] [ff1c06fb-0252-4357-b238-054dcb7c2b3c] Performed ActionMailer::MailDeliveryJob (Job ID: ff1c06fb-0252-4357-b238-054dcb7c2b3c) from Async(mailers) in 19.31ms
  Parameters: {"locale"=>"en"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2021-01-04 12:49:00.312102', '2021-01-04 12:49:00.312102')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (104.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 968)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 15 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 15[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.4ms | Allocations: 1192)
Completed 200 OK in 145ms (Views: 30.0ms | ActiveRecord: 106.7ms | Allocations: 10328)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:49:00 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:49:00 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:49:46 +0600
ProductsChannel stopped streaming from products
Started GET "/en" for 127.0.0.1 at 2021-01-04 18:49:46 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 15 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1067)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 15 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 15[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.1ms | Allocations: 1424)
Completed 200 OK in 52ms (Views: 25.7ms | ActiveRecord: 5.1ms | Allocations: 16175)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:49:46 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:49:46 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/en/line_items?product_id=1" for 127.0.0.1 at 2021-01-04 18:49:48 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"blNcU7ifk5wLEj4yWbFp+IQ2p2142eHjcnHyUpXrNFArgFVjJg7t7ymMiuwZfPok1M8Kdb7GpNC5y6k/v9gnOg==", "product_id"=>"1", "locale"=>"en"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 15 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 15 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 15, '2021-01-04 12:49:48.780287', '2021-01-04 12:49:48.780287')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (183.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 15[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.7ms | Allocations: 1796)
  Rendered carts/_cart.html.erb (Duration: 12.1ms | Allocations: 3144)
  Rendered line_items/create.js.erb (Duration: 12.9ms | Allocations: 3300)
Completed 200 OK in 234ms (Views: 13.4ms | ActiveRecord: 188.2ms | Allocations: 15452)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:49:50 +0600
ProductsChannel stopped streaming from products
Started GET "/en" for 127.0.0.1 at 2021-01-04 18:49:50 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 15 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 15 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 15[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.2ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 10.6ms | Allocations: 2297)
Completed 200 OK in 41ms (Views: 33.4ms | ActiveRecord: 4.1ms | Allocations: 9381)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:49:50 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:49:50 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:49:51 +0600
ProductsChannel stopped streaming from products
Started GET "/en/orders/new" for 127.0.0.1 at 2021-01-04 18:49:51 +0600
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (3.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 15 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 15 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.0ms | Allocations: 801)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 971)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 15 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 15[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.4ms | Allocations: 933)
  Rendered carts/_cart.html.erb (Duration: 6.5ms | Allocations: 2188)
Completed 200 OK in 57ms (Views: 27.1ms | ActiveRecord: 6.6ms | Allocations: 15318)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:49:51 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:49:51 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:49:54 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:49:54 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:49:57 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2021-01-04 18:49:57 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"XWGasChVW0ZwaieIOjQlrh48lULibkiLKqnSitP5MmsYspOAtsQlNVL0k1Z6+bZyTsU4WiRxDbjhE4nn+cohAQ==", "order"=>{"name"=>"s", "address"=>"s", "email"=>"as@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 15 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 15[0m
  ‚Ü≥ app/models/order.rb:20:in `add_line_items_from_cart'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`) VALUES ('s', 's', 'as@gmail.com', 0, '2021-01-04 12:49:57.259340', '2021-01-04 12:49:57.259340')[0m
  ‚Ü≥ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Update (176.8ms)[0m  [1m[33mUPDATE `line_items` SET `line_items`.`order_id` = 11, `line_items`.`updated_at` = '2021-01-04 12:49:57.266145' WHERE `line_items`.`id` = 11[0m
  ‚Ü≥ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (42.2ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 15 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 15[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 11[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 15[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (45.6ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/orders_controller.rb:44:in `block in create'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: 8ee03a1e-5b71-4b13-a8ca-bc946a427f15) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f7a2c929c78 @uri=#<URI::GID gid://depot/Order/11>>]}
Redirected to http://localhost:3000/en
  [1m[36mOrder Load (1.6ms)[0m  [1m[34mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 11 LIMIT 1[0m
Completed 302 Found in 309ms (ActiveRecord: 268.7ms | Allocations: 15095)


[ActiveJob] [ActionMailer::MailDeliveryJob] [8ee03a1e-5b71-4b13-a8ca-bc946a427f15] Performing ActionMailer::MailDeliveryJob (Job ID: 8ee03a1e-5b71-4b13-a8ca-bc946a427f15) from Async(mailers) enqueued at 2021-01-04T12:49:57Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f7a2c915c78 @uri=#<URI::GID gid://depot/Order/11>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [8ee03a1e-5b71-4b13-a8ca-bc946a427f15]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [8ee03a1e-5b71-4b13-a8ca-bc946a427f15]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 0.1ms | Allocations: 4)
[ActiveJob] [ActionMailer::MailDeliveryJob] [8ee03a1e-5b71-4b13-a8ca-bc946a427f15]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [8ee03a1e-5b71-4b13-a8ca-bc946a427f15]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`order_id` = 11[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [8ee03a1e-5b71-4b13-a8ca-bc946a427f15]   ‚Ü≥ app/views/order_mailer/received.text.erb:7
[ActiveJob] [ActionMailer::MailDeliveryJob] [8ee03a1e-5b71-4b13-a8ca-bc946a427f15]   Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
[ActiveJob] [ActionMailer::MailDeliveryJob] [8ee03a1e-5b71-4b13-a8ca-bc946a427f15]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 3.0ms | Allocations: 1083)
[ActiveJob] [ActionMailer::MailDeliveryJob] [8ee03a1e-5b71-4b13-a8ca-bc946a427f15] OrderMailer#received: processed outbound mail in 8.0ms
Started GET "/en" for 127.0.0.1 at 2021-01-04 18:49:57 +0600
[ActiveJob] [ActionMailer::MailDeliveryJob] [8ee03a1e-5b71-4b13-a8ca-bc946a427f15] Delivered mail 5ff30ef58c240_3bba6ec8118@nascenia-HP-ProBook-450-G0.mail (5.8ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [8ee03a1e-5b71-4b13-a8ca-bc946a427f15] Date: Mon, 04 Jan 2021 18:49:57 +0600
From: Sam Ruby <depot@example.com>
To: as@gmail.com
Message-ID: <5ff30ef58c240_3bba6ec8118@nascenia-HP-ProBook-450-G0.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5ff30ef58b0d3_3bba6ec8047";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5ff30ef58b0d3_3bba6ec8047
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear s

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:


We'll send you a separate e-mail when your order ships.


----==_mimepart_5ff30ef58b0d3_3bba6ec8047
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5ff30ef58b0d3_3bba6ec8047--

[ActiveJob] [ActionMailer::MailDeliveryJob] [8ee03a1e-5b71-4b13-a8ca-bc946a427f15] Performed ActionMailer::MailDeliveryJob (Job ID: 8ee03a1e-5b71-4b13-a8ca-bc946a427f15) from Async(mailers) in 15.56ms
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (1.2ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2021-01-04 12:49:57.582347', '2021-01-04 12:49:57.582347')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (44.7ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.9ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 968)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 16 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 16[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 1192)
Completed 200 OK in 80ms (Views: 23.8ms | ActiveRecord: 47.9ms | Allocations: 10419)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:49:57 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:49:57 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:50:59 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 18:50:59 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"t5Tul0o1k58DiubRVF+74zUwLkhL0vLd8iSNKyLIbMjyR+en1KTt7CEUUg8Ukig/ZcmDUI3Nt+45ntZGCPt/og==", "set_locale"=>"en", "commit"=>"submit"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 16 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/en
Completed 302 Found in 16ms (ActiveRecord: 1.6ms | Allocations: 3479)


Started GET "/en" for 127.0.0.1 at 2021-01-04 18:50:59 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 16 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1067)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 16 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 16[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.0ms | Allocations: 1424)
Completed 200 OK in 49ms (Views: 27.5ms | ActiveRecord: 3.2ms | Allocations: 13510)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:50:59 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:50:59 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for 127.0.0.1 at 2021-01-04 18:51:06 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 18:51:06 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 19:02:08 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 19:02:08 +0600
  [1m[35m (0.4ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"rgS1A2NQCa/EVy4LBIBV+cuWxGmBHJFImgqflBflmNTr17wz/cF33ObJmtVETcYlm29pcUcD1HtRsMT5PdaLvg==", "set_locale"=>"es"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 16 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/es
Completed 302 Found in 5ms (ActiveRecord: 0.7ms | Allocations: 930)


Started GET "/es" for 127.0.0.1 at 2021-01-04 19:02:08 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 16 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 968)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 16 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 16[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 1204)
Completed 200 OK in 26ms (Views: 21.3ms | ActiveRecord: 1.9ms | Allocations: 8295)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 19:02:08 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 19:02:08 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 19:02:12 +0600
ProductsChannel stopped streaming from products
Started GET "/es" for 127.0.0.1 at 2021-01-04 19:02:12 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 16 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 16 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 16[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.8ms | Allocations: 1204)
Completed 200 OK in 28ms (Views: 22.3ms | ActiveRecord: 2.2ms | Allocations: 8271)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 19:02:12 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 19:02:12 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 19:02:15 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 19:02:15 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"pNetazN9fyZZ8sZx4/RBd9Z0xYLFQNvuFSPSFEDfhxzhBKRbrewBVXtscq+jOdKrho1omgNfnt3emYl5auyUdg==", "set_locale"=>"es", "commit"=>"submit"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 16 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/es
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 920)


Started GET "/es" for 127.0.0.1 at 2021-01-04 19:02:15 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 16 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 16 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 16[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.6ms | Allocations: 1204)
Completed 200 OK in 29ms (Views: 23.0ms | ActiveRecord: 2.2ms | Allocations: 8269)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 19:02:15 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 19:02:15 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 19:02:27 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 19:02:27 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"0ezc742PSmYtSVRwpaZ70jcAPTiDOgB+sQfFQE1zkcCUP9XfEx40FQ/X4K7la+gOZ/mQIEUlRU16vZ4tZ0CCqg==", "set_locale"=>"en"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 16 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/en
Completed 302 Found in 5ms (ActiveRecord: 0.6ms | Allocations: 921)


Started GET "/en" for 127.0.0.1 at 2021-01-04 19:02:27 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 16 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.2ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 16 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 16[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 1192)
Completed 200 OK in 26ms (Views: 20.2ms | ActiveRecord: 3.0ms | Allocations: 8259)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 19:02:27 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 19:02:27 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 19:02:28 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-04 19:02:28 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"qZIK5FiFtYWa+1VXiSFr/kNF26gWfLkgi3pE6i9yTm/sQQPUxhTL9rhl4YnJ7PgiE7x2sNBj/BNAwB+HBUFdBQ==", "set_locale"=>"en", "commit"=>"submit"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 16 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/en
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 918)


Started GET "/en" for 127.0.0.1 at 2021-01-04 19:02:28 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 16 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (2.6ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 16 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 16[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 1192)
Completed 200 OK in 28ms (Views: 21.2ms | ActiveRecord: 2.0ms | Allocations: 8261)


Started GET "/cable" for 127.0.0.1 at 2021-01-04 19:02:29 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 19:02:29 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 19:08:43 +0600
ProductsChannel stopped streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-04 19:08:43 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2021-01-05 11:58:11 +0600
  [1m[35m (42.2ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by StoreController#index as HTML
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (17.4ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2021-01-05 05:58:12.012086', '2021-01-05 05:58:12.012086')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (53.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (21.1ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (25.6ms)
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  ‚Ü≥ app/views/store/index.html.erb:6
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/1-20201231044712292829 (0.3ms)
Write fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/1-20201231044712292829 (0.8ms)
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/3-20201231044712503866 (0.3ms)
Write fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/3-20201231044712503866 (0.6ms)
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/2-20201231044712386727 (0.4ms)
Write fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/2-20201231044712386727 (0.7ms)
Write fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (0.7ms)
  Rendered store/index.html.erb within layouts/application (Duration: 835.1ms | Allocations: 20388)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (23.1ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 17 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 17[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 28.0ms | Allocations: 1628)
Completed 200 OK in 1429ms (Views: 1157.8ms | ActiveRecord: 168.7ms | Allocations: 41198)


Started GET "/cable" for 127.0.0.1 at 2021-01-05 11:58:13 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 11:58:14 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 11:58:17 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-05 11:58:17 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"bAT97weHok/Fu+GkSVp18CNyRSe4eYiXZjMX1nseOPNx7RubVw8/sjSxiq5y6WRwZdZcodjOTqGesLgFgKeN+Q==", "set_locale"=>"es"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 17 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/es
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 1114)


Started GET "/es" for 127.0.0.1 at 2021-01-05 11:58:17 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 17 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (2.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1156)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 17 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 17[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.0ms | Allocations: 1205)
Completed 200 OK in 26ms (Views: 20.7ms | ActiveRecord: 2.5ms | Allocations: 9102)


Started GET "/cable" for 127.0.0.1 at 2021-01-05 11:58:18 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 11:58:18 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/en/line_items?product_id=1" for 127.0.0.1 at 2021-01-05 11:58:23 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"6VFQEkz0dwjjAtOe76aDOiGsf0hwTkM0SNzlbIZLESv0uLZmHHzq9RIIuJTUFZK6ZwhmzhD5hQKwX0q/ffKkIQ==", "product_id"=>"1", "locale"=>"en"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 17 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 17 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 17, '2021-01-05 05:58:23.378450', '2021-01-05 05:58:23.378450')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (115.9ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 17[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 31.6ms | Allocations: 1960)
  Rendered carts/_cart.html.erb (Duration: 38.6ms | Allocations: 3460)
  Rendered line_items/create.js.erb (Duration: 54.4ms | Allocations: 3864)
Completed 200 OK in 221ms (Views: 56.9ms | ActiveRecord: 121.5ms | Allocations: 14276)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 11:58:31 +0600
ProductsChannel stopped streaming from products
Started GET "/es" for 127.0.0.1 at 2021-01-05 11:58:31 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 17 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (4.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 970)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 17 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 17[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.3ms | Allocations: 945)
  Rendered carts/_cart.html.erb (Duration: 9.6ms | Allocations: 2327)
Completed 200 OK in 32ms (Views: 25.4ms | ActiveRecord: 3.1ms | Allocations: 9411)


Started GET "/cable" for 127.0.0.1 at 2021-01-05 11:58:31 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 11:58:31 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 11:58:39 +0600
ProductsChannel stopped streaming from products
Started DELETE "/carts/17" for 127.0.0.1 at 2021-01-05 11:58:39 +0600
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"z7EJtgRXDXSnPm0AlAWjaw6vIrJExG9eM7+V25UvK7/SWO/CVN+QiVY0BgqvtrLrSAs7NCRzqWjLPDoIbpaetQ==", "id"=>"17"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 17 LIMIT 1[0m
  ‚Ü≥ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/carts_controller.rb:58:in `destroy'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 17[0m
  ‚Ü≥ app/controllers/carts_controller.rb:58:in `destroy'
  [1m[36mLineItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM `line_items` WHERE `line_items`.`id` = 7[0m
  ‚Ü≥ app/controllers/carts_controller.rb:58:in `destroy'
  [1m[36mCart Destroy (108.0ms)[0m  [1m[31mDELETE FROM `carts` WHERE `carts`.`id` = 17[0m
  ‚Ü≥ app/controllers/carts_controller.rb:58:in `destroy'
  [1m[35m (107.5ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/carts_controller.rb:58:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 236ms (ActiveRecord: 217.9ms | Allocations: 5154)


Started GET "/" for 127.0.0.1 at 2021-01-05 11:58:39 +0600
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2021-01-05 05:58:39.955112', '2021-01-05 05:58:39.955112')[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  [1m[35m (87.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:16:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.4ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 18 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 18[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 1192)
Completed 200 OK in 123ms (Views: 22.6ms | ActiveRecord: 90.0ms | Allocations: 10315)


Started GET "/cable" for 127.0.0.1 at 2021-01-05 11:58:40 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 11:58:40 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 12:05:23 +0600
ProductsChannel stopped streaming from products
Started GET "/users" for 127.0.0.1 at 2021-01-05 12:05:24 +0600
  [1m[35m (0.5ms)[0m  [1m[35mSET NAMES utf8mb4,  @@SESSION.sql_mode = CONCAT(CONCAT(@@sql_mode, ',STRICT_ALL_TABLES'), ',NO_AUTO_VALUE_ON_ZERO'),  @@SESSION.sql_auto_is_null = 0, @@SESSION.wait_timeout = 2147483[0m
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  ‚Ü≥ app/controllers/application_controller.rb:13:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 36ms (ActiveRecord: 17.7ms | Allocations: 2116)


Started GET "/login" for 127.0.0.1 at 2021-01-05 12:05:24 +0600
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1203)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 20.7ms | ActiveRecord: 0.0ms | Allocations: 6467)


Started GET "/cable" for 127.0.0.1 at 2021-01-05 12:05:24 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 12:05:24 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 12:05:49 +0600
ProductsChannel stopped streaming from products
Started GET "/orders/new" for 127.0.0.1 at 2021-01-05 12:05:49 +0600
Processing by OrdersController#new as HTML
  [1m[36mCart Load (2.2ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 18 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 18 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
Redirected to http://localhost:3000/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 13ms (ActiveRecord: 4.4ms | Allocations: 1778)


Started GET "/" for 127.0.0.1 at 2021-01-05 12:05:49 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 18 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 969)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 18 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 18[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 1207)
Completed 200 OK in 25ms (Views: 20.4ms | ActiveRecord: 1.9ms | Allocations: 8285)


Started GET "/cable" for 127.0.0.1 at 2021-01-05 12:05:49 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 12:05:49 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/en/line_items?product_id=1" for 127.0.0.1 at 2021-01-05 12:05:52 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"XFA/ViMefKUH8z+MDp675c8K+2DtSQUz6EM4fi9U2ZJBudkic5bhWPb5VIY1Laplia7i5o3+wwUQwJet1O1smA==", "product_id"=>"1", "locale"=>"en"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 18 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 18 AND `line_items`.`product_id` = 1 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.9ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 18, '2021-01-05 06:05:52.267625', '2021-01-05 06:05:52.267625')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (142.4ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 18[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.2ms | Allocations: 932)
  Rendered carts/_cart.html.erb (Duration: 7.7ms | Allocations: 2249)
  Rendered line_items/create.js.erb (Duration: 8.3ms | Allocations: 2406)
Completed 200 OK in 171ms (Views: 8.0ms | ActiveRecord: 146.5ms | Allocations: 7367)


Started POST "/en/line_items?product_id=3" for 127.0.0.1 at 2021-01-05 12:05:54 +0600
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"XFA/ViMefKUH8z+MDp675c8K+2DtSQUz6EM4fi9U2ZJBudkic5bhWPb5VIY1Laplia7i5o3+wwUQwJet1O1smA==", "product_id"=>"3", "locale"=>"en"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 18 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 18 AND `line_items`.`product_id` = 3 LIMIT 1[0m
  ‚Ü≥ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO `line_items` (`product_id`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 18, '2021-01-05 06:05:54.629221', '2021-01-05 06:05:54.629221')[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (97.0ms)[0m  [1m[35mCOMMIT[0m
  ‚Ü≥ app/controllers/line_items_controller.rb:34:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 18[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 5.8ms | Allocations: 1862)
  Rendered carts/_cart.html.erb (Duration: 18.5ms | Allocations: 3194)
  Rendered line_items/create.js.erb (Duration: 19.0ms | Allocations: 3362)
Completed 200 OK in 132ms (Views: 18.5ms | ActiveRecord: 100.5ms | Allocations: 8311)


Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 12:05:56 +0600
ProductsChannel stopped streaming from products
Started GET "/" for 127.0.0.1 at 2021-01-05 12:05:56 +0600
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 18 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (7.3ms)
  Rendered store/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 18 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 18[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 5.2ms | Allocations: 1862)
  Rendered carts/_cart.html.erb (Duration: 9.3ms | Allocations: 3249)
Completed 200 OK in 42ms (Views: 32.8ms | ActiveRecord: 2.7ms | Allocations: 10332)


Started GET "/cable" for 127.0.0.1 at 2021-01-05 12:05:56 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 12:05:56 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 12:06:00 +0600
ProductsChannel stopped streaming from products
Started GET "/en/orders/new" for 127.0.0.1 at 2021-01-05 12:06:00 +0600
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (3.1ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 18 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 18 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 87.8ms | Allocations: 1736)
  Rendered orders/new.html.erb within layouts/application (Duration: 89.1ms | Allocations: 2034)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 18 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 18[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 8.5ms | Allocations: 1862)
  Rendered carts/_cart.html.erb (Duration: 14.4ms | Allocations: 3141)
Completed 200 OK in 289ms (Views: 113.8ms | ActiveRecord: 87.2ms | Allocations: 18750)


Started GET "/cable" for 127.0.0.1 at 2021-01-05 12:06:00 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 12:06:00 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 12:06:04 +0600
ProductsChannel stopped streaming from products
Started POST "/" for 127.0.0.1 at 2021-01-05 12:06:04 +0600
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"gnmIrsU7i0ZaXyGY/YpzCWdHEzmW7CNkoufmWuV/YECfkG7albMWu6tVSpLGOWKJIeMKv/Zb5VJaZEmJHsbVSg==", "set_locale"=>"es"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 18 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
Redirected to http://localhost:3000/es
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 921)


Started GET "/es" for 127.0.0.1 at 2021-01-05 12:06:04 +0600
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 18 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) AS `size`, MAX(`products`.`updated_at`) AS timestamp FROM `products`[0m
  ‚Ü≥ app/views/store/index.html.erb:5
Read fragment views/store/index:2e5e4d5dbc03414c75e1586b2420fb4f/products/query-506a174241d7c9e3a3f4b802158a9af1-3-20201231044712503866 (3.8ms)
  Rendered store/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 968)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 18 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 18[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 8.1ms | Allocations: 1886)
  Rendered carts/_cart.html.erb (Duration: 13.5ms | Allocations: 3176)
Completed 200 OK in 35ms (Views: 27.7ms | ActiveRecord: 4.5ms | Allocations: 10257)


Started GET "/cable" for 127.0.0.1 at 2021-01-05 12:06:04 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 12:06:04 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 12:06:07 +0600
ProductsChannel stopped streaming from products
Started GET "/es/orders/new" for 127.0.0.1 at 2021-01-05 12:06:07 +0600
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 18 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 18 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.3ms | Allocations: 734)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 906)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 18 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 18[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 15.3ms | Allocations: 1886)
  Rendered carts/_cart.html.erb (Duration: 26.4ms | Allocations: 3173)
Completed 200 OK in 77ms (Views: 61.1ms | ActiveRecord: 3.7ms | Allocations: 11162)


Started GET "/cable" for 127.0.0.1 at 2021-01-05 12:06:08 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 12:06:08 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 12:06:19 +0600
ProductsChannel stopped streaming from products
Started GET "/es/orders/new" for 127.0.0.1 at 2021-01-05 12:06:19 +0600
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 18 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 18 LIMIT 1[0m
  ‚Ü≥ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.9ms | Allocations: 733)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 794)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 18 LIMIT 1[0m
  ‚Ü≥ app/views/layouts/application.html.erb:29
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 18[0m
  ‚Ü≥ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 5.8ms | Allocations: 1886)
  Rendered carts/_cart.html.erb (Duration: 10.2ms | Allocations: 3173)
Completed 200 OK in 38ms (Views: 27.0ms | ActiveRecord: 3.0ms | Allocations: 10644)


Started GET "/cable" for 127.0.0.1 at 2021-01-05 12:06:19 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 12:06:19 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 12:10:55 +0600
ProductsChannel stopped streaming from products
Started POST "/orders" for 127.0.0.1 at 2021-01-05 12:10:55 +0600
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"NF1j5ap3m1qrKPpZCEIqaecmWEDQBs7v8BxWBQBDN1AptIWR+v8Gp1oikVMz8TvpoYJBxrCxCNkIn/nW+/qCWg==", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>""}, "commit"=>"Realizar Pedido"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 18 LIMIT 1[0m
  ‚Ü≥ app/controllers/concerns/current_cart.rb:14:in `set_cart'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 18[0m
  ‚Ü≥ app/models/order.rb:20:in `add_line_items_from_cart'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.2ms | Allocations: 1332)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1393)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 1 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`id` = 3 LIMIT 1[0m
  ‚Ü≥ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 6.0ms | Allocations: 1888)
  Rendered carts/_cart.html.erb (Duration: 7.4ms | Allocations: 2392)
Completed 200 OK in 38ms (Views: 22.0ms | ActiveRecord: 2.1ms | Allocations: 12375)


Started GET "/cable" for 127.0.0.1 at 2021-01-05 12:10:55 +0600
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2021-01-05 12:10:55 +0600
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: keep-alive, Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
